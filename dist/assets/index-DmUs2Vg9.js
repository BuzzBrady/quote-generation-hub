var sw=t=>{throw TypeError(t)};var Hm=(t,e,n)=>e.has(t)||sw("Cannot "+n);var ne=(t,e,n)=>(Hm(t,e,"read from private field"),n?n.call(t):e.get(t)),ut=(t,e,n)=>e.has(t)?sw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),qe=(t,e,n,r)=>(Hm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wn=(t,e,n)=>(Hm(t,e,"access private method"),n);var wh=(t,e,n,r)=>({set _(o){qe(t,e,o,n)},get _(){return ne(t,e,r)}});function QT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function jv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},du={},qm={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function KT(){if(iw)return et;iw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,b={};function C(H,te,je){this.props=H,this.context=te,this.refs=b,this.updater=je||j}C.prototype.isReactComponent={},C.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=C.prototype;function A(H,te,je){this.props=H,this.context=te,this.refs=b,this.updater=je||j}var D=A.prototype=new k;D.constructor=A,T(D,C.prototype),D.isPureReactComponent=!0;var R=Array.isArray,W=Object.prototype.hasOwnProperty,Z={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function P(H,te,je){var Le,Ue={},Qe=null,ve=null;if(te!=null)for(Le in te.ref!==void 0&&(ve=te.ref),te.key!==void 0&&(Qe=""+te.key),te)W.call(te,Le)&&!M.hasOwnProperty(Le)&&(Ue[Le]=te[Le]);var Pe=arguments.length-2;if(Pe===1)Ue.children=je;else if(1<Pe){for(var We=Array(Pe),ze=0;ze<Pe;ze++)We[ze]=arguments[ze+2];Ue.children=We}if(H&&H.defaultProps)for(Le in Pe=H.defaultProps,Pe)Ue[Le]===void 0&&(Ue[Le]=Pe[Le]);return{$$typeof:t,type:H,key:Qe,ref:ve,props:Ue,_owner:Z.current}}function O(H,te){return{$$typeof:t,type:H.type,key:te,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(je){return te[je]})}var z=/\/+/g;function F(H,te){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):te.toString(36)}function Ie(H,te,je,Le,Ue){var Qe=typeof H;(Qe==="undefined"||Qe==="boolean")&&(H=null);var ve=!1;if(H===null)ve=!0;else switch(Qe){case"string":case"number":ve=!0;break;case"object":switch(H.$$typeof){case t:case e:ve=!0}}if(ve)return ve=H,Ue=Ue(ve),H=Le===""?"."+F(ve,0):Le,R(Ue)?(je="",H!=null&&(je=H.replace(z,"$&/")+"/"),Ie(Ue,te,je,"",function(ze){return ze})):Ue!=null&&(L(Ue)&&(Ue=O(Ue,je+(!Ue.key||ve&&ve.key===Ue.key?"":(""+Ue.key).replace(z,"$&/")+"/")+H)),te.push(Ue)),1;if(ve=0,Le=Le===""?".":Le+":",R(H))for(var Pe=0;Pe<H.length;Pe++){Qe=H[Pe];var We=Le+F(Qe,Pe);ve+=Ie(Qe,te,je,We,Ue)}else if(We=E(H),typeof We=="function")for(H=We.call(H),Pe=0;!(Qe=H.next()).done;)Qe=Qe.value,We=Le+F(Qe,Pe++),ve+=Ie(Qe,te,je,We,Ue);else if(Qe==="object")throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return ve}function Be(H,te,je){if(H==null)return H;var Le=[],Ue=0;return Ie(H,Le,"","",function(Qe){return te.call(je,Qe,Ue++)}),Le}function _e(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(je){(H._status===0||H._status===-1)&&(H._status=1,H._result=je)},function(je){(H._status===0||H._status===-1)&&(H._status=2,H._result=je)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var Ne={current:null},J={transition:null},de={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:J,ReactCurrentOwner:Z};function ue(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:Be,forEach:function(H,te,je){Be(H,function(){te.apply(this,arguments)},je)},count:function(H){var te=0;return Be(H,function(){te++}),te},toArray:function(H){return Be(H,function(te){return te})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},et.Component=C,et.Fragment=n,et.Profiler=o,et.PureComponent=A,et.StrictMode=r,et.Suspense=p,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,et.act=ue,et.cloneElement=function(H,te,je){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Le=T({},H.props),Ue=H.key,Qe=H.ref,ve=H._owner;if(te!=null){if(te.ref!==void 0&&(Qe=te.ref,ve=Z.current),te.key!==void 0&&(Ue=""+te.key),H.type&&H.type.defaultProps)var Pe=H.type.defaultProps;for(We in te)W.call(te,We)&&!M.hasOwnProperty(We)&&(Le[We]=te[We]===void 0&&Pe!==void 0?Pe[We]:te[We])}var We=arguments.length-2;if(We===1)Le.children=je;else if(1<We){Pe=Array(We);for(var ze=0;ze<We;ze++)Pe[ze]=arguments[ze+2];Le.children=Pe}return{$$typeof:t,type:H.type,key:Ue,ref:Qe,props:Le,_owner:ve}},et.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:l,_context:H},H.Consumer=H},et.createElement=P,et.createFactory=function(H){var te=P.bind(null,H);return te.type=H,te},et.createRef=function(){return{current:null}},et.forwardRef=function(H){return{$$typeof:d,render:H}},et.isValidElement=L,et.lazy=function(H){return{$$typeof:v,_payload:{_status:-1,_result:H},_init:_e}},et.memo=function(H,te){return{$$typeof:m,type:H,compare:te===void 0?null:te}},et.startTransition=function(H){var te=J.transition;J.transition={};try{H()}finally{J.transition=te}},et.unstable_act=ue,et.useCallback=function(H,te){return Ne.current.useCallback(H,te)},et.useContext=function(H){return Ne.current.useContext(H)},et.useDebugValue=function(){},et.useDeferredValue=function(H){return Ne.current.useDeferredValue(H)},et.useEffect=function(H,te){return Ne.current.useEffect(H,te)},et.useId=function(){return Ne.current.useId()},et.useImperativeHandle=function(H,te,je){return Ne.current.useImperativeHandle(H,te,je)},et.useInsertionEffect=function(H,te){return Ne.current.useInsertionEffect(H,te)},et.useLayoutEffect=function(H,te){return Ne.current.useLayoutEffect(H,te)},et.useMemo=function(H,te){return Ne.current.useMemo(H,te)},et.useReducer=function(H,te,je){return Ne.current.useReducer(H,te,je)},et.useRef=function(H){return Ne.current.useRef(H)},et.useState=function(H){return Ne.current.useState(H)},et.useSyncExternalStore=function(H,te,je){return Ne.current.useSyncExternalStore(H,te,je)},et.useTransition=function(){return Ne.current.useTransition()},et.version="18.3.1",et}var ow;function Sv(){return ow||(ow=1,qm.exports=KT()),qm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function YT(){if(aw)return du;aw=1;var t=Sv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,m){var v,w={},E=null,j=null;m!==void 0&&(E=""+m),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(j=p.ref);for(v in p)r.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:d,key:E,ref:j,props:w,_owner:o.current}}return du.Fragment=n,du.jsx=u,du.jsxs=u,du}var lw;function XT(){return lw||(lw=1,Wm.exports=YT()),Wm.exports}var i=XT(),_=Sv();const Zs=jv(_),K1=QT({__proto__:null,default:Zs},[_]);var _h={},Gm={exports:{}},$n={},Qm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function JT(){return cw||(cw=1,function(t){function e(J,de){var ue=J.length;J.push(de);e:for(;0<ue;){var H=ue-1>>>1,te=J[H];if(0<o(te,de))J[H]=de,J[ue]=te,ue=H;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var de=J[0],ue=J.pop();if(ue!==de){J[0]=ue;e:for(var H=0,te=J.length,je=te>>>1;H<je;){var Le=2*(H+1)-1,Ue=J[Le],Qe=Le+1,ve=J[Qe];if(0>o(Ue,ue))Qe<te&&0>o(ve,Ue)?(J[H]=ve,J[Qe]=ue,H=Qe):(J[H]=Ue,J[Le]=ue,H=Le);else if(Qe<te&&0>o(ve,ue))J[H]=ve,J[Qe]=ue,H=Qe;else break e}}return de}function o(J,de){var ue=J.sortIndex-de.sortIndex;return ue!==0?ue:J.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var p=[],m=[],v=1,w=null,E=3,j=!1,T=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(J){for(var de=n(m);de!==null;){if(de.callback===null)r(m);else if(de.startTime<=J)r(m),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(m)}}function R(J){if(b=!1,D(J),!T)if(n(p)!==null)T=!0,_e(W);else{var de=n(m);de!==null&&Ne(R,de.startTime-J)}}function W(J,de){T=!1,b&&(b=!1,k(P),P=-1),j=!0;var ue=E;try{for(D(de),w=n(p);w!==null&&(!(w.expirationTime>de)||J&&!U());){var H=w.callback;if(typeof H=="function"){w.callback=null,E=w.priorityLevel;var te=H(w.expirationTime<=de);de=t.unstable_now(),typeof te=="function"?w.callback=te:w===n(p)&&r(p),D(de)}else r(p);w=n(p)}if(w!==null)var je=!0;else{var Le=n(m);Le!==null&&Ne(R,Le.startTime-de),je=!1}return je}finally{w=null,E=ue,j=!1}}var Z=!1,M=null,P=-1,O=5,L=-1;function U(){return!(t.unstable_now()-L<O)}function z(){if(M!==null){var J=t.unstable_now();L=J;var de=!0;try{de=M(!0,J)}finally{de?F():(Z=!1,M=null)}}else Z=!1}var F;if(typeof A=="function")F=function(){A(z)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Be=Ie.port2;Ie.port1.onmessage=z,F=function(){Be.postMessage(null)}}else F=function(){C(z,0)};function _e(J){M=J,Z||(Z=!0,F())}function Ne(J,de){P=C(function(){J(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){T||j||(T=!0,_e(W))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(J){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var ue=E;E=de;try{return J()}finally{E=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ue=E;E=J;try{return de()}finally{E=ue}},t.unstable_scheduleCallback=function(J,de,ue){var H=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?H+ue:H):ue=H,J){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ue+te,J={id:v++,callback:de,priorityLevel:J,startTime:ue,expirationTime:te,sortIndex:-1},ue>H?(J.sortIndex=ue,e(m,J),n(p)===null&&J===n(m)&&(b?(k(P),P=-1):b=!0,Ne(R,ue-H))):(J.sortIndex=te,e(p,J),T||j||(T=!0,_e(W))),J},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(J){var de=E;return function(){var ue=E;E=de;try{return J.apply(this,arguments)}finally{E=ue}}}}(Km)),Km}var uw;function ZT(){return uw||(uw=1,Qm.exports=JT()),Qm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function e2(){if(dw)return $n;dw=1;var t=Sv(),e=ZT();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(s){return p.call(w,s)?!0:p.call(v,s)?!1:m.test(s)?w[s]=!0:(v[s]=!0,!1)}function j(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,a,c,f){if(a===null||typeof a>"u"||j(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,c,f,g,x,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=N}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];C[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,A);C[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,A);C[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,A);C[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function D(s,a,c,f){var g=C.hasOwnProperty(a)?C[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,c,g,f)&&(c=null),f||g===null?E(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),Z=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),J=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,H;function te(s){if(H===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var je=!1;function Le(s,a){if(!s||je)return"";je=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var f=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){f=K}s.call(a.prototype)}else{try{throw Error()}catch(K){f=K}s()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),x=f.stack.split(`
`),N=g.length-1,V=x.length-1;1<=N&&0<=V&&g[N]!==x[V];)V--;for(;1<=N&&0<=V;N--,V--)if(g[N]!==x[V]){if(N!==1||V!==1)do if(N--,V--,0>V||g[N]!==x[V]){var B=`
`+g[N].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=N&&0<=V);break}}}finally{je=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function Ue(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=Le(s.type,!1),s;case 11:return s=Le(s.type.render,!1),s;case 1:return s=Le(s.type,!0),s;default:return""}}function Qe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case Z:return"Portal";case O:return"Profiler";case P:return"StrictMode";case F:return"Suspense";case Ie:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Be:return a=s.displayName||null,a!==null?a:Qe(s.type)||"Memo";case _e:a=s._payload,s=s._init;try{return Qe(s(a))}catch{}}return null}function ve(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function We(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ze(s){var a=We(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(N){f=""+N,x.call(this,N)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ze(s){s._valueTracker||(s._valueTracker=ze(s))}function nt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=We(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function Rt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Yt(s,a){var c=a.checked;return ue({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function ar(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Pe(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function br(s,a){a=a.checked,a!=null&&D(s,"checked",a,!1)}function Cr(s,a){br(s,a);var c=Pe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Nr(s,a.type,c):a.hasOwnProperty("defaultValue")&&Nr(s,a.type,Pe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Oa(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Nr(s,a,c){(a!=="number"||Rt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Rs=Array.isArray;function Ds(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Pe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function xc(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ma(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Rs(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Pe(c)}}function La(s,a){var c=Pe(a.value),f=Pe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function wc(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Wt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Wt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Os,_c=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Os.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function yi(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var To={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Io=["Webkit","ms","Moz","O"];Object.keys(To).forEach(function(s){Io.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),To[a]=To[s]})});function Ec(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||To.hasOwnProperty(s)&&To[s]?(""+a).trim():a+"px"}function jc(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Ec(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var Sc=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bc(s,a){if(a){if(Sc[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Cc(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Fa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Va=null,lr=null,rs=null;function Ua(s){if(s=Yc(s)){if(typeof Va!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Od(a),Va(s.stateNode,s.type,a))}}function ss(s){lr?rs?rs.push(s):rs=[s]:lr=s}function Nc(){if(lr){var s=lr,a=rs;if(rs=lr=null,Ua(s),a)for(s=0;s<a.length;s++)Ua(a[s])}}function Ao(s,a){return s(a)}function Tc(){}var Ms=!1;function Ic(s,a,c){if(Ms)return s(a,c);Ms=!0;try{return Ao(s,a,c)}finally{Ms=!1,(lr!==null||rs!==null)&&(Tc(),Nc())}}function Lt(s,a){var c=s.stateNode;if(c===null)return null;var f=Od(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var za=!1;if(d)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){za=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{za=!1}function ko(s,a,c,f,g,x,N,V,B){var K=Array.prototype.slice.call(arguments,3);try{a.apply(c,K)}catch(ie){this.onError(ie)}}var Ro=!1,Ba=null,Ir=!1,Pc=null,yp={onError:function(s){Ro=!0,Ba=s}};function $a(s,a,c,f,g,x,N,V,B){Ro=!1,Ba=null,ko.apply(yp,arguments)}function od(s,a,c,f,g,x,N,V,B){if($a.apply(this,arguments),Ro){if(Ro){var K=Ba;Ro=!1,Ba=null}else throw Error(n(198));Ir||(Ir=!0,Pc=K)}}function Pr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Do(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Ar(s){if(Pr(s)!==s)throw Error(n(188))}function ad(s){var a=s.alternate;if(!a){if(a=Pr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return Ar(g),s;if(x===f)return Ar(g),a;x=x.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=x;else{for(var N=!1,V=g.child;V;){if(V===c){N=!0,c=g,f=x;break}if(V===f){N=!0,f=g,c=x;break}V=V.sibling}if(!N){for(V=x.child;V;){if(V===c){N=!0,c=x,f=g;break}if(V===f){N=!0,f=x,c=g;break}V=V.sibling}if(!N)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function Ac(s){return s=ad(s),s!==null?Ha(s):null}function Ha(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ha(s);if(a!==null)return a;s=s.sibling}return null}var Wa=e.unstable_scheduleCallback,kc=e.unstable_cancelCallback,ld=e.unstable_shouldYield,xp=e.unstable_requestPaint,yt=e.unstable_now,cd=e.unstable_getCurrentPriorityLevel,Oo=e.unstable_ImmediatePriority,xi=e.unstable_UserBlockingPriority,cr=e.unstable_NormalPriority,Rc=e.unstable_LowPriority,ud=e.unstable_IdlePriority,Mo=null,Gn=null;function dd(s){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Mo,s,void 0,(s.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:fd,Dc=Math.log,hd=Math.LN2;function fd(s){return s>>>=0,s===0?32:31-(Dc(s)/hd|0)|0}var qa=64,Ga=4194304;function wi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Lo(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,x=s.pingedLanes,N=c&268435455;if(N!==0){var V=N&~g;V!==0?f=wi(V):(x&=N,x!==0&&(f=wi(x)))}else N=c&~g,N!==0?f=wi(N):x!==0&&(f=wi(x));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,x=a&-a,g>=x||g===16&&(x&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-Tn(a),g=1<<c,f|=s[c],a&=~g;return f}function wp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var N=31-Tn(x),V=1<<N,B=g[N];B===-1?((V&c)===0||(V&f)!==0)&&(g[N]=wp(V,a)):B<=a&&(s.expiredLanes|=V),x&=~V}}function Qn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Fo(){var s=qa;return qa<<=1,(qa&4194240)===0&&(qa=64),s}function _i(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ei(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Tn(a),s[a]=c}function vt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Tn(c),x=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~x}}function ji(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-Tn(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var rt=0;function Si(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var pd,Qa,md,gd,vd,Oc=!1,is=[],rn=null,kr=null,Rr=null,bi=new Map,ur=new Map,os=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(s,a){switch(s){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":bi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(a.pointerId)}}function Mn(s,a,c,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},a!==null&&(a=Yc(a),a!==null&&Qa(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Ep(s,a,c,f,g){switch(a){case"focusin":return rn=Mn(rn,s,a,c,f,g),!0;case"dragenter":return kr=Mn(kr,s,a,c,f,g),!0;case"mouseover":return Rr=Mn(Rr,s,a,c,f,g),!0;case"pointerover":var x=g.pointerId;return bi.set(x,Mn(bi.get(x)||null,s,a,c,f,g)),!0;case"gotpointercapture":return x=g.pointerId,ur.set(x,Mn(ur.get(x)||null,s,a,c,f,g)),!0}return!1}function xd(s){var a=$o(s.target);if(a!==null){var c=Pr(a);if(c!==null){if(a=c.tag,a===13){if(a=Do(c),a!==null){s.blockedOn=a,vd(s.priority,function(){md(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fs(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ka(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Po=f,c.target.dispatchEvent(f),Po=null}else return a=Yc(c),a!==null&&Qa(a),s.blockedOn=c,!1;a.shift()}return!0}function Vo(s,a,c){Fs(s)&&c.delete(a)}function wd(){Oc=!1,rn!==null&&Fs(rn)&&(rn=null),kr!==null&&Fs(kr)&&(kr=null),Rr!==null&&Fs(Rr)&&(Rr=null),bi.forEach(Vo),ur.forEach(Vo)}function Dr(s,a){s.blockedOn===a&&(s.blockedOn=null,Oc||(Oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wd)))}function Or(s){function a(g){return Dr(g,s)}if(0<is.length){Dr(is[0],s);for(var c=1;c<is.length;c++){var f=is[c];f.blockedOn===s&&(f.blockedOn=null)}}for(rn!==null&&Dr(rn,s),kr!==null&&Dr(kr,s),Rr!==null&&Dr(Rr,s),bi.forEach(a),ur.forEach(a),c=0;c<os.length;c++)f=os[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<os.length&&(c=os[0],c.blockedOn===null);)xd(c),c.blockedOn===null&&os.shift()}var Vs=R.ReactCurrentBatchConfig,Ci=!0;function St(s,a,c,f){var g=rt,x=Vs.transition;Vs.transition=null;try{rt=1,Mc(s,a,c,f)}finally{rt=g,Vs.transition=x}}function jp(s,a,c,f){var g=rt,x=Vs.transition;Vs.transition=null;try{rt=4,Mc(s,a,c,f)}finally{rt=g,Vs.transition=x}}function Mc(s,a,c,f){if(Ci){var g=Ka(s,a,c,f);if(g===null)Dp(s,a,f,Uo,c),yd(s,f);else if(Ep(g,s,a,c,f))f.stopPropagation();else if(yd(s,f),a&4&&-1<_p.indexOf(s)){for(;g!==null;){var x=Yc(g);if(x!==null&&pd(x),x=Ka(s,a,c,f),x===null&&Dp(s,a,f,Uo,c),x===g)break;g=x}g!==null&&f.stopPropagation()}else Dp(s,a,f,null,c)}}var Uo=null;function Ka(s,a,c,f){if(Uo=null,s=Fa(f),s=$o(s),s!==null)if(a=Pr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Do(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Uo=s,null}function Lc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cd()){case Oo:return 1;case xi:return 4;case cr:case Rc:return 16;case ud:return 536870912;default:return 16}default:return 16}}var Kn=null,Ya=null,Ln=null;function Fc(){if(Ln)return Ln;var s,a=Ya,c=a.length,f,g="value"in Kn?Kn.value:Kn.textContent,x=g.length;for(s=0;s<c&&a[s]===g[s];s++);var N=c-s;for(f=1;f<=N&&a[c-f]===g[x-f];f++);return Ln=g.slice(s,1<f?1-f:void 0)}function Xa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function as(){return!0}function Vc(){return!1}function sn(s){function a(c,f,g,x,N){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?as:Vc,this.isPropagationStopped=Vc,this}return ue(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),a}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=sn(Mr),ls=ue({},Mr,{view:0,detail:0}),Sp=sn(ls),Za,Us,Ni,zo=ue({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ni&&(Ni&&s.type==="mousemove"?(Za=s.screenX-Ni.screenX,Us=s.screenY-Ni.screenY):Us=Za=0,Ni=s),Za)},movementY:function(s){return"movementY"in s?s.movementY:Us}}),el=sn(zo),Uc=ue({},zo,{dataTransfer:0}),_d=sn(Uc),tl=ue({},ls,{relatedTarget:0}),nl=sn(tl),Ed=ue({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),zs=sn(Ed),jd=ue({},Mr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Sd=sn(jd),bd=ue({},Mr,{data:0}),zc=sn(bd),rl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Cd[s])?!!a[s]:!1}function cs(){return Nd}var h=ue({},ls,{key:function(s){if(s.key){var a=rl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?In[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(s){return s.type==="keypress"?Xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=sn(h),S=ue({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=sn(S),q=ue({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),Y=sn(q),he=ue({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=sn(he),Gt=ue({},zo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),st=sn(Gt),Xt=[9,13,27,32],zt=d&&"CompositionEvent"in window,dr=null;d&&"documentMode"in document&&(dr=document.documentMode);var Yn=d&&"TextEvent"in window&&!dr,Bo=d&&(!zt||dr&&8<dr&&11>=dr),sl=" ",Jy=!1;function Zy(s,a){switch(s){case"keyup":return Xt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ex(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var il=!1;function WN(s,a){switch(s){case"compositionend":return ex(a);case"keypress":return a.which!==32?null:(Jy=!0,sl);case"textInput":return s=a.data,s===sl&&Jy?null:s;default:return null}}function qN(s,a){if(il)return s==="compositionend"||!zt&&Zy(s,a)?(s=Fc(),Ln=Ya=Kn=null,il=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Bo&&a.locale!=="ko"?null:a.data;default:return null}}var GN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tx(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!GN[s.type]:a==="textarea"}function nx(s,a,c,f){ss(f),a=kd(a,"onChange"),0<a.length&&(c=new Ja("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var Bc=null,$c=null;function QN(s){wx(s,0)}function Td(s){var a=ul(s);if(nt(a))return s}function KN(s,a){if(s==="change")return a}var rx=!1;if(d){var bp;if(d){var Cp="oninput"in document;if(!Cp){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),Cp=typeof sx.oninput=="function"}bp=Cp}else bp=!1;rx=bp&&(!document.documentMode||9<document.documentMode)}function ix(){Bc&&(Bc.detachEvent("onpropertychange",ox),$c=Bc=null)}function ox(s){if(s.propertyName==="value"&&Td($c)){var a=[];nx(a,$c,s,Fa(s)),Ic(QN,a)}}function YN(s,a,c){s==="focusin"?(ix(),Bc=a,$c=c,Bc.attachEvent("onpropertychange",ox)):s==="focusout"&&ix()}function XN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Td($c)}function JN(s,a){if(s==="click")return Td(a)}function ZN(s,a){if(s==="input"||s==="change")return Td(a)}function eT(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Lr=typeof Object.is=="function"?Object.is:eT;function Hc(s,a){if(Lr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!p.call(a,g)||!Lr(s[g],a[g]))return!1}return!0}function ax(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function lx(s,a){var c=ax(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ax(c)}}function cx(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?cx(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ux(){for(var s=window,a=Rt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Rt(s.document)}return a}function Np(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function tT(s){var a=ux(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&cx(c.ownerDocument.documentElement,c)){if(f!==null&&Np(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!s.extend&&x>f&&(g=f,f=x,x=g),g=lx(c,x);var N=lx(c,f);g&&N&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==N.node||s.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),x>f?(s.addRange(a),s.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var nT=d&&"documentMode"in document&&11>=document.documentMode,ol=null,Tp=null,Wc=null,Ip=!1;function dx(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ip||ol==null||ol!==Rt(f)||(f=ol,"selectionStart"in f&&Np(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Wc&&Hc(Wc,f)||(Wc=f,f=kd(Tp,"onSelect"),0<f.length&&(a=new Ja("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=ol)))}function Id(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var al={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionend:Id("Transition","TransitionEnd")},Pp={},hx={};d&&(hx=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Pd(s){if(Pp[s])return Pp[s];if(!al[s])return s;var a=al[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in hx)return Pp[s]=a[c];return s}var fx=Pd("animationend"),px=Pd("animationiteration"),mx=Pd("animationstart"),gx=Pd("transitionend"),vx=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(s,a){vx.set(s,a),l(a,[s])}for(var Ap=0;Ap<yx.length;Ap++){var kp=yx[Ap],rT=kp.toLowerCase(),sT=kp[0].toUpperCase()+kp.slice(1);Ti(rT,"on"+sT)}Ti(fx,"onAnimationEnd"),Ti(px,"onAnimationIteration"),Ti(mx,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(gx,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function xx(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,od(f,a,void 0,s),s.currentTarget=null}function wx(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var x=void 0;if(a)for(var N=f.length-1;0<=N;N--){var V=f[N],B=V.instance,K=V.currentTarget;if(V=V.listener,B!==x&&g.isPropagationStopped())break e;xx(g,V,K),x=B}else for(N=0;N<f.length;N++){if(V=f[N],B=V.instance,K=V.currentTarget,V=V.listener,B!==x&&g.isPropagationStopped())break e;xx(g,V,K),x=B}}}if(Ir)throw s=Pc,Ir=!1,Pc=null,s}function _t(s,a){var c=a[Up];c===void 0&&(c=a[Up]=new Set);var f=s+"__bubble";c.has(f)||(_x(a,s,2,!1),c.add(f))}function Rp(s,a,c){var f=0;a&&(f|=4),_x(c,s,f,a)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function Gc(s){if(!s[Ad]){s[Ad]=!0,r.forEach(function(c){c!=="selectionchange"&&(iT.has(c)||Rp(c,!1,s),Rp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ad]||(a[Ad]=!0,Rp("selectionchange",!1,a))}}function _x(s,a,c,f){switch(Lc(a)){case 1:var g=St;break;case 4:g=jp;break;default:g=Mc}c=g.bind(null,a,c,s),g=void 0,!za||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Dp(s,a,c,f,g){var x=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var V=f.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(N===4)for(N=f.return;N!==null;){var B=N.tag;if((B===3||B===4)&&(B=N.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;N=N.return}for(;V!==null;){if(N=$o(V),N===null)return;if(B=N.tag,B===5||B===6){f=x=N;continue e}V=V.parentNode}}f=f.return}Ic(function(){var K=x,ie=Fa(c),oe=[];e:{var se=vx.get(s);if(se!==void 0){var ye=Ja,Ee=s;switch(s){case"keypress":if(Xa(c)===0)break e;case"keydown":case"keyup":ye=y;break;case"focusin":Ee="focus",ye=nl;break;case"focusout":Ee="blur",ye=nl;break;case"beforeblur":case"afterblur":ye=nl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Y;break;case fx:case px:case mx:ye=zs;break;case gx:ye=ht;break;case"scroll":ye=Sp;break;case"wheel":ye=st;break;case"copy":case"cut":case"paste":ye=Sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=I}var Se=(a&4)!==0,Ft=!Se&&s==="scroll",G=Se?se!==null?se+"Capture":null:se;Se=[];for(var $=K,Q;$!==null;){Q=$;var le=Q.stateNode;if(Q.tag===5&&le!==null&&(Q=le,G!==null&&(le=Lt($,G),le!=null&&Se.push(Qc($,le,Q)))),Ft)break;$=$.return}0<Se.length&&(se=new ye(se,Ee,null,c,ie),oe.push({event:se,listeners:Se}))}}if((a&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",se&&c!==Po&&(Ee=c.relatedTarget||c.fromElement)&&($o(Ee)||Ee[Bs]))break e;if((ye||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Ee=c.relatedTarget||c.toElement,ye=K,Ee=Ee?$o(Ee):null,Ee!==null&&(Ft=Pr(Ee),Ee!==Ft||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=K),ye!==Ee)){if(Se=el,le="onMouseLeave",G="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Se=I,le="onPointerLeave",G="onPointerEnter",$="pointer"),Ft=ye==null?se:ul(ye),Q=Ee==null?se:ul(Ee),se=new Se(le,$+"leave",ye,c,ie),se.target=Ft,se.relatedTarget=Q,le=null,$o(ie)===K&&(Se=new Se(G,$+"enter",Ee,c,ie),Se.target=Q,Se.relatedTarget=Ft,le=Se),Ft=le,ye&&Ee)t:{for(Se=ye,G=Ee,$=0,Q=Se;Q;Q=ll(Q))$++;for(Q=0,le=G;le;le=ll(le))Q++;for(;0<$-Q;)Se=ll(Se),$--;for(;0<Q-$;)G=ll(G),Q--;for(;$--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=ll(Se),G=ll(G)}Se=null}else Se=null;ye!==null&&Ex(oe,se,ye,Se,!1),Ee!==null&&Ft!==null&&Ex(oe,Ft,Ee,Se,!0)}}e:{if(se=K?ul(K):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var Te=KN;else if(tx(se))if(rx)Te=ZN;else{Te=XN;var Re=YN}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=JN);if(Te&&(Te=Te(s,K))){nx(oe,Te,c,ie);break e}Re&&Re(s,se,K),s==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&Nr(se,"number",se.value)}switch(Re=K?ul(K):window,s){case"focusin":(tx(Re)||Re.contentEditable==="true")&&(ol=Re,Tp=K,Wc=null);break;case"focusout":Wc=Tp=ol=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,dx(oe,c,ie);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":dx(oe,c,ie)}var De;if(zt)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else il?Zy(s,c)&&(Fe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(Bo&&c.locale!=="ko"&&(il||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&il&&(De=Fc()):(Kn=ie,Ya="value"in Kn?Kn.value:Kn.textContent,il=!0)),Re=kd(K,Fe),0<Re.length&&(Fe=new zc(Fe,s,null,c,ie),oe.push({event:Fe,listeners:Re}),De?Fe.data=De:(De=ex(c),De!==null&&(Fe.data=De)))),(De=Yn?WN(s,c):qN(s,c))&&(K=kd(K,"onBeforeInput"),0<K.length&&(ie=new zc("onBeforeInput","beforeinput",null,c,ie),oe.push({event:ie,listeners:K}),ie.data=De))}wx(oe,a)})}function Qc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function kd(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=Lt(s,c),x!=null&&f.unshift(Qc(s,x,g)),x=Lt(s,a),x!=null&&f.push(Qc(s,x,g))),s=s.return}return f}function ll(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ex(s,a,c,f,g){for(var x=a._reactName,N=[];c!==null&&c!==f;){var V=c,B=V.alternate,K=V.stateNode;if(B!==null&&B===f)break;V.tag===5&&K!==null&&(V=K,g?(B=Lt(c,x),B!=null&&N.unshift(Qc(c,B,V))):g||(B=Lt(c,x),B!=null&&N.push(Qc(c,B,V)))),c=c.return}N.length!==0&&s.push({event:a,listeners:N})}var oT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function jx(s){return(typeof s=="string"?s:""+s).replace(oT,`
`).replace(aT,"")}function Rd(s,a,c){if(a=jx(a),jx(s)!==a&&c)throw Error(n(425))}function Dd(){}var Op=null,Mp=null;function Lp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,Sx=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof Sx<"u"?function(s){return Sx.resolve(null).then(s).catch(uT)}:Fp;function uT(s){setTimeout(function(){throw s})}function Vp(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),Or(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Or(a)}function Ii(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function bx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var cl=Math.random().toString(36).slice(2),us="__reactFiber$"+cl,Kc="__reactProps$"+cl,Bs="__reactContainer$"+cl,Up="__reactEvents$"+cl,dT="__reactListeners$"+cl,hT="__reactHandles$"+cl;function $o(s){var a=s[us];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Bs]||c[us]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=bx(s);s!==null;){if(c=s[us])return c;s=bx(s)}return a}s=c,c=s.parentNode}return null}function Yc(s){return s=s[us]||s[Bs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ul(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Od(s){return s[Kc]||null}var zp=[],dl=-1;function Pi(s){return{current:s}}function Et(s){0>dl||(s.current=zp[dl],zp[dl]=null,dl--)}function xt(s,a){dl++,zp[dl]=s.current,s.current=a}var Ai={},gn=Pi(Ai),Fn=Pi(!1),Ho=Ai;function hl(s,a){var c=s.type.contextTypes;if(!c)return Ai;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=a[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Vn(s){return s=s.childContextTypes,s!=null}function Md(){Et(Fn),Et(gn)}function Cx(s,a,c){if(gn.current!==Ai)throw Error(n(168));xt(gn,a),xt(Fn,c)}function Nx(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(n(108,ve(s)||"Unknown",g));return ue({},c,f)}function Ld(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ai,Ho=gn.current,xt(gn,s),xt(Fn,Fn.current),!0}function Tx(s,a,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=Nx(s,a,Ho),f.__reactInternalMemoizedMergedChildContext=s,Et(Fn),Et(gn),xt(gn,s)):Et(Fn),xt(Fn,c)}var $s=null,Fd=!1,Bp=!1;function Ix(s){$s===null?$s=[s]:$s.push(s)}function fT(s){Fd=!0,Ix(s)}function ki(){if(!Bp&&$s!==null){Bp=!0;var s=0,a=rt;try{var c=$s;for(rt=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}$s=null,Fd=!1}catch(g){throw $s!==null&&($s=$s.slice(s+1)),Wa(Oo,ki),g}finally{rt=a,Bp=!1}}return null}var fl=[],pl=0,Vd=null,Ud=0,hr=[],fr=0,Wo=null,Hs=1,Ws="";function qo(s,a){fl[pl++]=Ud,fl[pl++]=Vd,Vd=s,Ud=a}function Px(s,a,c){hr[fr++]=Hs,hr[fr++]=Ws,hr[fr++]=Wo,Wo=s;var f=Hs;s=Ws;var g=32-Tn(f)-1;f&=~(1<<g),c+=1;var x=32-Tn(a)+g;if(30<x){var N=g-g%5;x=(f&(1<<N)-1).toString(32),f>>=N,g-=N,Hs=1<<32-Tn(a)+g|c<<g|f,Ws=x+s}else Hs=1<<x|c<<g|f,Ws=s}function $p(s){s.return!==null&&(qo(s,1),Px(s,1,0))}function Hp(s){for(;s===Vd;)Vd=fl[--pl],fl[pl]=null,Ud=fl[--pl],fl[pl]=null;for(;s===Wo;)Wo=hr[--fr],hr[fr]=null,Ws=hr[--fr],hr[fr]=null,Hs=hr[--fr],hr[fr]=null}var Xn=null,Jn=null,bt=!1,Fr=null;function Ax(s,a){var c=vr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function kx(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Xn=s,Jn=Ii(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Xn=s,Jn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Wo!==null?{id:Hs,overflow:Ws}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=vr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Xn=s,Jn=null,!0):!1;default:return!1}}function Wp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function qp(s){if(bt){var a=Jn;if(a){var c=a;if(!kx(s,a)){if(Wp(s))throw Error(n(418));a=Ii(c.nextSibling);var f=Xn;a&&kx(s,a)?Ax(f,c):(s.flags=s.flags&-4097|2,bt=!1,Xn=s)}}else{if(Wp(s))throw Error(n(418));s.flags=s.flags&-4097|2,bt=!1,Xn=s}}}function Rx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xn=s}function zd(s){if(s!==Xn)return!1;if(!bt)return Rx(s),bt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Lp(s.type,s.memoizedProps)),a&&(a=Jn)){if(Wp(s))throw Dx(),Error(n(418));for(;a;)Ax(s,a),a=Ii(a.nextSibling)}if(Rx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Jn=Ii(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Jn=null}}else Jn=Xn?Ii(s.stateNode.nextSibling):null;return!0}function Dx(){for(var s=Jn;s;)s=Ii(s.nextSibling)}function ml(){Jn=Xn=null,bt=!1}function Gp(s){Fr===null?Fr=[s]:Fr.push(s)}var pT=R.ReactCurrentBatchConfig;function Xc(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var g=f,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(N){var V=g.refs;N===null?delete V[x]:V[x]=N},a._stringRef=x,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Bd(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Ox(s){var a=s._init;return a(s._payload)}function Mx(s){function a(G,$){if(s){var Q=G.deletions;Q===null?(G.deletions=[$],G.flags|=16):Q.push($)}}function c(G,$){if(!s)return null;for(;$!==null;)a(G,$),$=$.sibling;return null}function f(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function g(G,$){return G=Ui(G,$),G.index=0,G.sibling=null,G}function x(G,$,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<$?(G.flags|=2,$):Q):(G.flags|=2,$)):(G.flags|=1048576,$)}function N(G){return s&&G.alternate===null&&(G.flags|=2),G}function V(G,$,Q,le){return $===null||$.tag!==6?($=Fm(Q,G.mode,le),$.return=G,$):($=g($,Q),$.return=G,$)}function B(G,$,Q,le){var Te=Q.type;return Te===M?ie(G,$,Q.props.children,le,Q.key):$!==null&&($.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_e&&Ox(Te)===$.type)?(le=g($,Q.props),le.ref=Xc(G,$,Q),le.return=G,le):(le=hh(Q.type,Q.key,Q.props,null,G.mode,le),le.ref=Xc(G,$,Q),le.return=G,le)}function K(G,$,Q,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Vm(Q,G.mode,le),$.return=G,$):($=g($,Q.children||[]),$.return=G,$)}function ie(G,$,Q,le,Te){return $===null||$.tag!==7?($=ea(Q,G.mode,le,Te),$.return=G,$):($=g($,Q),$.return=G,$)}function oe(G,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Fm(""+$,G.mode,Q),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case W:return Q=hh($.type,$.key,$.props,null,G.mode,Q),Q.ref=Xc(G,null,$),Q.return=G,Q;case Z:return $=Vm($,G.mode,Q),$.return=G,$;case _e:var le=$._init;return oe(G,le($._payload),Q)}if(Rs($)||de($))return $=ea($,G.mode,Q,null),$.return=G,$;Bd(G,$)}return null}function se(G,$,Q,le){var Te=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Te!==null?null:V(G,$,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===Te?B(G,$,Q,le):null;case Z:return Q.key===Te?K(G,$,Q,le):null;case _e:return Te=Q._init,se(G,$,Te(Q._payload),le)}if(Rs(Q)||de(Q))return Te!==null?null:ie(G,$,Q,le,null);Bd(G,Q)}return null}function ye(G,$,Q,le,Te){if(typeof le=="string"&&le!==""||typeof le=="number")return G=G.get(Q)||null,V($,G,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case W:return G=G.get(le.key===null?Q:le.key)||null,B($,G,le,Te);case Z:return G=G.get(le.key===null?Q:le.key)||null,K($,G,le,Te);case _e:var Re=le._init;return ye(G,$,Q,Re(le._payload),Te)}if(Rs(le)||de(le))return G=G.get(Q)||null,ie($,G,le,Te,null);Bd($,le)}return null}function Ee(G,$,Q,le){for(var Te=null,Re=null,De=$,Fe=$=0,en=null;De!==null&&Fe<Q.length;Fe++){De.index>Fe?(en=De,De=null):en=De.sibling;var ct=se(G,De,Q[Fe],le);if(ct===null){De===null&&(De=en);break}s&&De&&ct.alternate===null&&a(G,De),$=x(ct,$,Fe),Re===null?Te=ct:Re.sibling=ct,Re=ct,De=en}if(Fe===Q.length)return c(G,De),bt&&qo(G,Fe),Te;if(De===null){for(;Fe<Q.length;Fe++)De=oe(G,Q[Fe],le),De!==null&&($=x(De,$,Fe),Re===null?Te=De:Re.sibling=De,Re=De);return bt&&qo(G,Fe),Te}for(De=f(G,De);Fe<Q.length;Fe++)en=ye(De,G,Fe,Q[Fe],le),en!==null&&(s&&en.alternate!==null&&De.delete(en.key===null?Fe:en.key),$=x(en,$,Fe),Re===null?Te=en:Re.sibling=en,Re=en);return s&&De.forEach(function(zi){return a(G,zi)}),bt&&qo(G,Fe),Te}function Se(G,$,Q,le){var Te=de(Q);if(typeof Te!="function")throw Error(n(150));if(Q=Te.call(Q),Q==null)throw Error(n(151));for(var Re=Te=null,De=$,Fe=$=0,en=null,ct=Q.next();De!==null&&!ct.done;Fe++,ct=Q.next()){De.index>Fe?(en=De,De=null):en=De.sibling;var zi=se(G,De,ct.value,le);if(zi===null){De===null&&(De=en);break}s&&De&&zi.alternate===null&&a(G,De),$=x(zi,$,Fe),Re===null?Te=zi:Re.sibling=zi,Re=zi,De=en}if(ct.done)return c(G,De),bt&&qo(G,Fe),Te;if(De===null){for(;!ct.done;Fe++,ct=Q.next())ct=oe(G,ct.value,le),ct!==null&&($=x(ct,$,Fe),Re===null?Te=ct:Re.sibling=ct,Re=ct);return bt&&qo(G,Fe),Te}for(De=f(G,De);!ct.done;Fe++,ct=Q.next())ct=ye(De,G,Fe,ct.value,le),ct!==null&&(s&&ct.alternate!==null&&De.delete(ct.key===null?Fe:ct.key),$=x(ct,$,Fe),Re===null?Te=ct:Re.sibling=ct,Re=ct);return s&&De.forEach(function(GT){return a(G,GT)}),bt&&qo(G,Fe),Te}function Ft(G,$,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var Te=Q.key,Re=$;Re!==null;){if(Re.key===Te){if(Te=Q.type,Te===M){if(Re.tag===7){c(G,Re.sibling),$=g(Re,Q.props.children),$.return=G,G=$;break e}}else if(Re.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_e&&Ox(Te)===Re.type){c(G,Re.sibling),$=g(Re,Q.props),$.ref=Xc(G,Re,Q),$.return=G,G=$;break e}c(G,Re);break}else a(G,Re);Re=Re.sibling}Q.type===M?($=ea(Q.props.children,G.mode,le,Q.key),$.return=G,G=$):(le=hh(Q.type,Q.key,Q.props,null,G.mode,le),le.ref=Xc(G,$,Q),le.return=G,G=le)}return N(G);case Z:e:{for(Re=Q.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){c(G,$.sibling),$=g($,Q.children||[]),$.return=G,G=$;break e}else{c(G,$);break}else a(G,$);$=$.sibling}$=Vm(Q,G.mode,le),$.return=G,G=$}return N(G);case _e:return Re=Q._init,Ft(G,$,Re(Q._payload),le)}if(Rs(Q))return Ee(G,$,Q,le);if(de(Q))return Se(G,$,Q,le);Bd(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,$!==null&&$.tag===6?(c(G,$.sibling),$=g($,Q),$.return=G,G=$):(c(G,$),$=Fm(Q,G.mode,le),$.return=G,G=$),N(G)):c(G,$)}return Ft}var gl=Mx(!0),Lx=Mx(!1),$d=Pi(null),Hd=null,vl=null,Qp=null;function Kp(){Qp=vl=Hd=null}function Yp(s){var a=$d.current;Et($d),s._currentValue=a}function Xp(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function yl(s,a){Hd=s,Qp=vl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Un=!0),s.firstContext=null)}function pr(s){var a=s._currentValue;if(Qp!==s)if(s={context:s,memoizedValue:a,next:null},vl===null){if(Hd===null)throw Error(n(308));vl=s,Hd.dependencies={lanes:0,firstContext:s}}else vl=vl.next=s;return a}var Go=null;function Jp(s){Go===null?Go=[s]:Go.push(s)}function Fx(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,Jp(a)):(c.next=g.next,g.next=c),a.interleaved=c,qs(s,f)}function qs(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ri=!1;function Zp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Di(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,qs(s,c)}return g=f.interleaved,g===null?(a.next=a,Jp(f)):(a.next=g.next,g.next=a),f.interleaved=a,qs(s,c)}function Wd(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,ji(s,c)}}function Ux(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var N={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=N:x=x.next=N,c=c.next}while(c!==null);x===null?g=x=a:x=x.next=a}else g=x=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function qd(s,a,c,f){var g=s.updateQueue;Ri=!1;var x=g.firstBaseUpdate,N=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var B=V,K=B.next;B.next=null,N===null?x=K:N.next=K,N=B;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==N&&(V===null?ie.firstBaseUpdate=K:V.next=K,ie.lastBaseUpdate=B))}if(x!==null){var oe=g.baseState;N=0,ie=K=B=null,V=x;do{var se=V.lane,ye=V.eventTime;if((f&se)===se){ie!==null&&(ie=ie.next={eventTime:ye,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ee=s,Se=V;switch(se=a,ye=c,Se.tag){case 1:if(Ee=Se.payload,typeof Ee=="function"){oe=Ee.call(ye,oe,se);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Se.payload,se=typeof Ee=="function"?Ee.call(ye,oe,se):Ee,se==null)break e;oe=ue({},oe,se);break e;case 2:Ri=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[V]:se.push(V))}else ye={eventTime:ye,lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(K=ie=ye,B=oe):ie=ie.next=ye,N|=se;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;se=V,V=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(ie===null&&(B=oe),g.baseState=B,g.firstBaseUpdate=K,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do N|=g.lane,g=g.next;while(g!==a)}else x===null&&(g.shared.lanes=0);Yo|=N,s.lanes=N,s.memoizedState=oe}}function zx(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Jc={},ds=Pi(Jc),Zc=Pi(Jc),eu=Pi(Jc);function Qo(s){if(s===Jc)throw Error(n(174));return s}function em(s,a){switch(xt(eu,a),xt(Zc,s),xt(ds,Jc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:qt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=qt(a,s)}Et(ds),xt(ds,a)}function xl(){Et(ds),Et(Zc),Et(eu)}function Bx(s){Qo(eu.current);var a=Qo(ds.current),c=qt(a,s.type);a!==c&&(xt(Zc,s),xt(ds,c))}function tm(s){Zc.current===s&&(Et(ds),Et(Zc))}var At=Pi(0);function Gd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var nm=[];function rm(){for(var s=0;s<nm.length;s++)nm[s]._workInProgressVersionPrimary=null;nm.length=0}var Qd=R.ReactCurrentDispatcher,sm=R.ReactCurrentBatchConfig,Ko=0,kt=null,Qt=null,Jt=null,Kd=!1,tu=!1,nu=0,mT=0;function vn(){throw Error(n(321))}function im(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Lr(s[c],a[c]))return!1;return!0}function om(s,a,c,f,g,x){if(Ko=x,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Qd.current=s===null||s.memoizedState===null?xT:wT,s=c(f,g),tu){x=0;do{if(tu=!1,nu=0,25<=x)throw Error(n(301));x+=1,Jt=Qt=null,a.updateQueue=null,Qd.current=_T,s=c(f,g)}while(tu)}if(Qd.current=Jd,a=Qt!==null&&Qt.next!==null,Ko=0,Jt=Qt=kt=null,Kd=!1,a)throw Error(n(300));return s}function am(){var s=nu!==0;return nu=0,s}function hs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?kt.memoizedState=Jt=s:Jt=Jt.next=s,Jt}function mr(){if(Qt===null){var s=kt.alternate;s=s!==null?s.memoizedState:null}else s=Qt.next;var a=Jt===null?kt.memoizedState:Jt.next;if(a!==null)Jt=a,Qt=s;else{if(s===null)throw Error(n(310));Qt=s,s={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Jt===null?kt.memoizedState=Jt=s:Jt=Jt.next=s}return Jt}function ru(s,a){return typeof a=="function"?a(s):a}function lm(s){var a=mr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=Qt,g=f.baseQueue,x=c.pending;if(x!==null){if(g!==null){var N=g.next;g.next=x.next,x.next=N}f.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,f=f.baseState;var V=N=null,B=null,K=x;do{var ie=K.lane;if((Ko&ie)===ie)B!==null&&(B=B.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:s(f,K.action);else{var oe={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};B===null?(V=B=oe,N=f):B=B.next=oe,kt.lanes|=ie,Yo|=ie}K=K.next}while(K!==null&&K!==x);B===null?N=f:B.next=V,Lr(f,a.memoizedState)||(Un=!0),a.memoizedState=f,a.baseState=N,a.baseQueue=B,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do x=g.lane,kt.lanes|=x,Yo|=x,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function cm(s){var a=mr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,x=a.memoizedState;if(g!==null){c.pending=null;var N=g=g.next;do x=s(x,N.action),N=N.next;while(N!==g);Lr(x,a.memoizedState)||(Un=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,f]}function $x(){}function Hx(s,a){var c=kt,f=mr(),g=a(),x=!Lr(f.memoizedState,g);if(x&&(f.memoizedState=g,Un=!0),f=f.queue,um(Gx.bind(null,c,f,s),[s]),f.getSnapshot!==a||x||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,su(9,qx.bind(null,c,f,g,a),void 0,null),Zt===null)throw Error(n(349));(Ko&30)!==0||Wx(c,a,g)}return g}function Wx(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function qx(s,a,c,f){a.value=c,a.getSnapshot=f,Qx(a)&&Kx(s)}function Gx(s,a,c){return c(function(){Qx(a)&&Kx(s)})}function Qx(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Lr(s,c)}catch{return!0}}function Kx(s){var a=qs(s,1);a!==null&&Br(a,s,1,-1)}function Yx(s){var a=hs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:s},a.queue=s,s=s.dispatch=yT.bind(null,kt,s),[a.memoizedState,s]}function su(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function Xx(){return mr().memoizedState}function Yd(s,a,c,f){var g=hs();kt.flags|=s,g.memoizedState=su(1|a,c,void 0,f===void 0?null:f)}function Xd(s,a,c,f){var g=mr();f=f===void 0?null:f;var x=void 0;if(Qt!==null){var N=Qt.memoizedState;if(x=N.destroy,f!==null&&im(f,N.deps)){g.memoizedState=su(a,c,x,f);return}}kt.flags|=s,g.memoizedState=su(1|a,c,x,f)}function Jx(s,a){return Yd(8390656,8,s,a)}function um(s,a){return Xd(2048,8,s,a)}function Zx(s,a){return Xd(4,2,s,a)}function e0(s,a){return Xd(4,4,s,a)}function t0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function n0(s,a,c){return c=c!=null?c.concat([s]):null,Xd(4,4,t0.bind(null,a,s),c)}function dm(){}function r0(s,a){var c=mr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&im(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function s0(s,a){var c=mr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&im(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function i0(s,a,c){return(Ko&21)===0?(s.baseState&&(s.baseState=!1,Un=!0),s.memoizedState=c):(Lr(c,a)||(c=Fo(),kt.lanes|=c,Yo|=c,s.baseState=!0),a)}function gT(s,a){var c=rt;rt=c!==0&&4>c?c:4,s(!0);var f=sm.transition;sm.transition={};try{s(!1),a()}finally{rt=c,sm.transition=f}}function o0(){return mr().memoizedState}function vT(s,a,c){var f=Fi(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},a0(s))l0(a,c);else if(c=Fx(s,a,c,f),c!==null){var g=An();Br(c,s,f,g),c0(c,a,f)}}function yT(s,a,c){var f=Fi(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(a0(s))l0(a,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var N=a.lastRenderedState,V=x(N,c);if(g.hasEagerState=!0,g.eagerState=V,Lr(V,N)){var B=a.interleaved;B===null?(g.next=g,Jp(a)):(g.next=B.next,B.next=g),a.interleaved=g;return}}catch{}finally{}c=Fx(s,a,g,f),c!==null&&(g=An(),Br(c,s,f,g),c0(c,a,f))}}function a0(s){var a=s.alternate;return s===kt||a!==null&&a===kt}function l0(s,a){tu=Kd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function c0(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,ji(s,c)}}var Jd={readContext:pr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},xT={readContext:pr,useCallback:function(s,a){return hs().memoizedState=[s,a===void 0?null:a],s},useContext:pr,useEffect:Jx,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Yd(4194308,4,t0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Yd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Yd(4,2,s,a)},useMemo:function(s,a){var c=hs();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=hs();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=vT.bind(null,kt,s),[f.memoizedState,s]},useRef:function(s){var a=hs();return s={current:s},a.memoizedState=s},useState:Yx,useDebugValue:dm,useDeferredValue:function(s){return hs().memoizedState=s},useTransition:function(){var s=Yx(!1),a=s[0];return s=gT.bind(null,s[1]),hs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=kt,g=hs();if(bt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Zt===null)throw Error(n(349));(Ko&30)!==0||Wx(f,a,c)}g.memoizedState=c;var x={value:c,getSnapshot:a};return g.queue=x,Jx(Gx.bind(null,f,x,s),[s]),f.flags|=2048,su(9,qx.bind(null,f,x,c,a),void 0,null),c},useId:function(){var s=hs(),a=Zt.identifierPrefix;if(bt){var c=Ws,f=Hs;c=(f&~(1<<32-Tn(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=nu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=mT++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},wT={readContext:pr,useCallback:r0,useContext:pr,useEffect:um,useImperativeHandle:n0,useInsertionEffect:Zx,useLayoutEffect:e0,useMemo:s0,useReducer:lm,useRef:Xx,useState:function(){return lm(ru)},useDebugValue:dm,useDeferredValue:function(s){var a=mr();return i0(a,Qt.memoizedState,s)},useTransition:function(){var s=lm(ru)[0],a=mr().memoizedState;return[s,a]},useMutableSource:$x,useSyncExternalStore:Hx,useId:o0,unstable_isNewReconciler:!1},_T={readContext:pr,useCallback:r0,useContext:pr,useEffect:um,useImperativeHandle:n0,useInsertionEffect:Zx,useLayoutEffect:e0,useMemo:s0,useReducer:cm,useRef:Xx,useState:function(){return cm(ru)},useDebugValue:dm,useDeferredValue:function(s){var a=mr();return Qt===null?a.memoizedState=s:i0(a,Qt.memoizedState,s)},useTransition:function(){var s=cm(ru)[0],a=mr().memoizedState;return[s,a]},useMutableSource:$x,useSyncExternalStore:Hx,useId:o0,unstable_isNewReconciler:!1};function Vr(s,a){if(s&&s.defaultProps){a=ue({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function hm(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:ue({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Zd={isMounted:function(s){return(s=s._reactInternals)?Pr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=An(),g=Fi(s),x=Gs(f,g);x.payload=a,c!=null&&(x.callback=c),a=Di(s,x,g),a!==null&&(Br(a,s,g,f),Wd(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=An(),g=Fi(s),x=Gs(f,g);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Di(s,x,g),a!==null&&(Br(a,s,g,f),Wd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=An(),f=Fi(s),g=Gs(c,f);g.tag=2,a!=null&&(g.callback=a),a=Di(s,g,f),a!==null&&(Br(a,s,f,c),Wd(a,s,f))}};function u0(s,a,c,f,g,x,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,N):a.prototype&&a.prototype.isPureReactComponent?!Hc(c,f)||!Hc(g,x):!0}function d0(s,a,c){var f=!1,g=Ai,x=a.contextType;return typeof x=="object"&&x!==null?x=pr(x):(g=Vn(a)?Ho:gn.current,f=a.contextTypes,x=(f=f!=null)?hl(s,g):Ai),a=new a(c,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Zd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),a}function h0(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Zd.enqueueReplaceState(a,a.state,null)}function fm(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Zp(s);var x=a.contextType;typeof x=="object"&&x!==null?g.context=pr(x):(x=Vn(a)?Ho:gn.current,g.context=hl(s,x)),g.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(hm(s,a,x,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Zd.enqueueReplaceState(g,g.state,null),qd(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function wl(s,a){try{var c="",f=a;do c+=Ue(f),f=f.return;while(f);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:g,digest:null}}function pm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function mm(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var ET=typeof WeakMap=="function"?WeakMap:Map;function f0(s,a,c){c=Gs(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){oh||(oh=!0,Pm=f),mm(s,a)},c}function p0(s,a,c){c=Gs(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){mm(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){mm(s,a),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),c}function m0(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new ET;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=MT.bind(null,s,a,c),a.then(s,s))}function g0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function v0(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Gs(-1,1),a.tag=2,Di(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var jT=R.ReactCurrentOwner,Un=!1;function Pn(s,a,c,f){a.child=s===null?Lx(a,null,c,f):gl(a,s.child,c,f)}function y0(s,a,c,f,g){c=c.render;var x=a.ref;return yl(a,g),f=om(s,a,c,f,x,g),c=am(),s!==null&&!Un?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Qs(s,a,g)):(bt&&c&&$p(a),a.flags|=1,Pn(s,a,f,g),a.child)}function x0(s,a,c,f,g){if(s===null){var x=c.type;return typeof x=="function"&&!Lm(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=x,w0(s,a,x,f,g)):(s=hh(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&g)===0){var N=x.memoizedProps;if(c=c.compare,c=c!==null?c:Hc,c(N,f)&&s.ref===a.ref)return Qs(s,a,g)}return a.flags|=1,s=Ui(x,f),s.ref=a.ref,s.return=a,a.child=s}function w0(s,a,c,f,g){if(s!==null){var x=s.memoizedProps;if(Hc(x,f)&&s.ref===a.ref)if(Un=!1,a.pendingProps=f=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Un=!0);else return a.lanes=s.lanes,Qs(s,a,g)}return gm(s,a,c,f,g)}function _0(s,a,c){var f=a.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(El,Zn),Zn|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,xt(El,Zn),Zn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,xt(El,Zn),Zn|=f}else x!==null?(f=x.baseLanes|c,a.memoizedState=null):f=c,xt(El,Zn),Zn|=f;return Pn(s,a,g,c),a.child}function E0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function gm(s,a,c,f,g){var x=Vn(c)?Ho:gn.current;return x=hl(a,x),yl(a,g),c=om(s,a,c,f,x,g),f=am(),s!==null&&!Un?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Qs(s,a,g)):(bt&&f&&$p(a),a.flags|=1,Pn(s,a,c,g),a.child)}function j0(s,a,c,f,g){if(Vn(c)){var x=!0;Ld(a)}else x=!1;if(yl(a,g),a.stateNode===null)th(s,a),d0(a,c,f),fm(a,c,f,g),f=!0;else if(s===null){var N=a.stateNode,V=a.memoizedProps;N.props=V;var B=N.context,K=c.contextType;typeof K=="object"&&K!==null?K=pr(K):(K=Vn(c)?Ho:gn.current,K=hl(a,K));var ie=c.getDerivedStateFromProps,oe=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==f||B!==K)&&h0(a,N,f,K),Ri=!1;var se=a.memoizedState;N.state=se,qd(a,f,N,g),B=a.memoizedState,V!==f||se!==B||Fn.current||Ri?(typeof ie=="function"&&(hm(a,c,ie,f),B=a.memoizedState),(V=Ri||u0(a,c,V,f,se,B,K))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=B),N.props=f,N.state=B,N.context=K,f=V):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{N=a.stateNode,Vx(s,a),V=a.memoizedProps,K=a.type===a.elementType?V:Vr(a.type,V),N.props=K,oe=a.pendingProps,se=N.context,B=c.contextType,typeof B=="object"&&B!==null?B=pr(B):(B=Vn(c)?Ho:gn.current,B=hl(a,B));var ye=c.getDerivedStateFromProps;(ie=typeof ye=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==oe||se!==B)&&h0(a,N,f,B),Ri=!1,se=a.memoizedState,N.state=se,qd(a,f,N,g);var Ee=a.memoizedState;V!==oe||se!==Ee||Fn.current||Ri?(typeof ye=="function"&&(hm(a,c,ye,f),Ee=a.memoizedState),(K=Ri||u0(a,c,K,f,se,Ee,B)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(f,Ee,B),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(f,Ee,B)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ee),N.props=f,N.state=Ee,N.context=B,f=K):(typeof N.componentDidUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),f=!1)}return vm(s,a,c,f,x,g)}function vm(s,a,c,f,g,x){E0(s,a);var N=(a.flags&128)!==0;if(!f&&!N)return g&&Tx(a,c,!1),Qs(s,a,x);f=a.stateNode,jT.current=a;var V=N&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&N?(a.child=gl(a,s.child,null,x),a.child=gl(a,null,V,x)):Pn(s,a,V,x),a.memoizedState=f.state,g&&Tx(a,c,!0),a.child}function S0(s){var a=s.stateNode;a.pendingContext?Cx(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Cx(s,a.context,!1),em(s,a.containerInfo)}function b0(s,a,c,f,g){return ml(),Gp(g),a.flags|=256,Pn(s,a,c,f),a.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function xm(s){return{baseLanes:s,cachePool:null,transitions:null}}function C0(s,a,c){var f=a.pendingProps,g=At.current,x=!1,N=(a.flags&128)!==0,V;if((V=N)||(V=s!==null&&s.memoizedState===null?!1:(g&2)!==0),V?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),xt(At,g&1),s===null)return qp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(N=f.children,s=f.fallback,x?(f=a.mode,x=a.child,N={mode:"hidden",children:N},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=N):x=fh(N,f,0,null),s=ea(s,f,c,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=xm(c),a.memoizedState=ym,s):wm(a,N));if(g=s.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return ST(s,a,N,f,V,g,c);if(x){x=f.fallback,N=a.mode,g=s.child,V=g.sibling;var B={mode:"hidden",children:f.children};return(N&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=B,a.deletions=null):(f=Ui(g,B),f.subtreeFlags=g.subtreeFlags&14680064),V!==null?x=Ui(V,x):(x=ea(x,N,c,null),x.flags|=2),x.return=a,f.return=a,f.sibling=x,a.child=f,f=x,x=a.child,N=s.child.memoizedState,N=N===null?xm(c):{baseLanes:N.baseLanes|c,cachePool:null,transitions:N.transitions},x.memoizedState=N,x.childLanes=s.childLanes&~c,a.memoizedState=ym,f}return x=s.child,s=x.sibling,f=Ui(x,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function wm(s,a){return a=fh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function eh(s,a,c,f){return f!==null&&Gp(f),gl(a,s.child,null,c),s=wm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ST(s,a,c,f,g,x,N){if(c)return a.flags&256?(a.flags&=-257,f=pm(Error(n(422))),eh(s,a,N,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=f.fallback,g=a.mode,f=fh({mode:"visible",children:f.children},g,0,null),x=ea(x,g,N,null),x.flags|=2,f.return=a,x.return=a,f.sibling=x,a.child=f,(a.mode&1)!==0&&gl(a,s.child,null,N),a.child.memoizedState=xm(N),a.memoizedState=ym,x);if((a.mode&1)===0)return eh(s,a,N,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var V=f.dgst;return f=V,x=Error(n(419)),f=pm(x,f,void 0),eh(s,a,N,f)}if(V=(N&s.childLanes)!==0,Un||V){if(f=Zt,f!==null){switch(N&-N){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|N))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,qs(s,g),Br(f,s,g,-1))}return Mm(),f=pm(Error(n(421))),eh(s,a,N,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=LT.bind(null,s),g._reactRetry=a,null):(s=x.treeContext,Jn=Ii(g.nextSibling),Xn=a,bt=!0,Fr=null,s!==null&&(hr[fr++]=Hs,hr[fr++]=Ws,hr[fr++]=Wo,Hs=s.id,Ws=s.overflow,Wo=a),a=wm(a,f.children),a.flags|=4096,a)}function N0(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Xp(s.return,a,c)}function _m(s,a,c,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=g)}function T0(s,a,c){var f=a.pendingProps,g=f.revealOrder,x=f.tail;if(Pn(s,a,f.children,c),f=At.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&N0(s,c,a);else if(s.tag===19)N0(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(xt(At,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Gd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),_m(a,!1,g,c,x);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Gd(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}_m(a,!0,c,null,x);break;case"together":_m(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function th(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Qs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Yo|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=Ui(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ui(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function bT(s,a,c){switch(a.tag){case 3:S0(a),ml();break;case 5:Bx(a);break;case 1:Vn(a.type)&&Ld(a);break;case 4:em(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;xt($d,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(xt(At,At.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?C0(s,a,c):(xt(At,At.current&1),s=Qs(s,a,c),s!==null?s.sibling:null);xt(At,At.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return T0(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),xt(At,At.current),f)break;return null;case 22:case 23:return a.lanes=0,_0(s,a,c)}return Qs(s,a,c)}var I0,Em,P0,A0;I0=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Em=function(){},P0=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,Qo(ds.current);var x=null;switch(c){case"input":g=Yt(s,g),f=Yt(s,f),x=[];break;case"select":g=ue({},g,{value:void 0}),f=ue({},f,{value:void 0}),x=[];break;case"textarea":g=xc(s,g),f=xc(s,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Dd)}bc(c,f);var N;c=null;for(K in g)if(!f.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var V=g[K];for(N in V)V.hasOwnProperty(N)&&(c||(c={}),c[N]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in f){var B=f[K];if(V=g!=null?g[K]:void 0,f.hasOwnProperty(K)&&B!==V&&(B!=null||V!=null))if(K==="style")if(V){for(N in V)!V.hasOwnProperty(N)||B&&B.hasOwnProperty(N)||(c||(c={}),c[N]="");for(N in B)B.hasOwnProperty(N)&&V[N]!==B[N]&&(c||(c={}),c[N]=B[N])}else c||(x||(x=[]),x.push(K,c)),c=B;else K==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,V=V?V.__html:void 0,B!=null&&V!==B&&(x=x||[]).push(K,B)):K==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(K,""+B):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(B!=null&&K==="onScroll"&&_t("scroll",s),x||V===B||(x=[])):(x=x||[]).push(K,B))}c&&(x=x||[]).push("style",c);var K=x;(a.updateQueue=K)&&(a.flags|=4)}},A0=function(s,a,c,f){c!==f&&(a.flags|=4)};function iu(s,a){if(!bt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function yn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function CT(s,a,c){var f=a.pendingProps;switch(Hp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(a),null;case 1:return Vn(a.type)&&Md(),yn(a),null;case 3:return f=a.stateNode,xl(),Et(Fn),Et(gn),rm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(zd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Fr!==null&&(Rm(Fr),Fr=null))),Em(s,a),yn(a),null;case 5:tm(a);var g=Qo(eu.current);if(c=a.type,s!==null&&a.stateNode!=null)P0(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(n(166));return yn(a),null}if(s=Qo(ds.current),zd(a)){f=a.stateNode,c=a.type;var x=a.memoizedProps;switch(f[us]=a,f[Kc]=x,s=(a.mode&1)!==0,c){case"dialog":_t("cancel",f),_t("close",f);break;case"iframe":case"object":case"embed":_t("load",f);break;case"video":case"audio":for(g=0;g<qc.length;g++)_t(qc[g],f);break;case"source":_t("error",f);break;case"img":case"image":case"link":_t("error",f),_t("load",f);break;case"details":_t("toggle",f);break;case"input":ar(f,x),_t("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},_t("invalid",f);break;case"textarea":Ma(f,x),_t("invalid",f)}bc(c,x),g=null;for(var N in x)if(x.hasOwnProperty(N)){var V=x[N];N==="children"?typeof V=="string"?f.textContent!==V&&(x.suppressHydrationWarning!==!0&&Rd(f.textContent,V,s),g=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&Rd(f.textContent,V,s),g=["children",""+V]):o.hasOwnProperty(N)&&V!=null&&N==="onScroll"&&_t("scroll",f)}switch(c){case"input":Ze(f),Oa(f,x,!0);break;case"textarea":Ze(f),wc(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=Dd)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{N=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Wt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=N.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=N.createElement(c,{is:f.is}):(s=N.createElement(c),c==="select"&&(N=s,f.multiple?N.multiple=!0:f.size&&(N.size=f.size))):s=N.createElementNS(s,c),s[us]=a,s[Kc]=f,I0(s,a,!1,!1),a.stateNode=s;e:{switch(N=Cc(c,f),c){case"dialog":_t("cancel",s),_t("close",s),g=f;break;case"iframe":case"object":case"embed":_t("load",s),g=f;break;case"video":case"audio":for(g=0;g<qc.length;g++)_t(qc[g],s);g=f;break;case"source":_t("error",s),g=f;break;case"img":case"image":case"link":_t("error",s),_t("load",s),g=f;break;case"details":_t("toggle",s),g=f;break;case"input":ar(s,f),g=Yt(s,f),_t("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ue({},f,{value:void 0}),_t("invalid",s);break;case"textarea":Ma(s,f),g=xc(s,f),_t("invalid",s);break;default:g=f}bc(c,g),V=g;for(x in V)if(V.hasOwnProperty(x)){var B=V[x];x==="style"?jc(s,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&_c(s,B)):x==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&yi(s,B):typeof B=="number"&&yi(s,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?B!=null&&x==="onScroll"&&_t("scroll",s):B!=null&&D(s,x,B,N))}switch(c){case"input":Ze(s),Oa(s,f,!1);break;case"textarea":Ze(s),wc(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Pe(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?Ds(s,!!f.multiple,x,!1):f.defaultValue!=null&&Ds(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Dd)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return yn(a),null;case 6:if(s&&a.stateNode!=null)A0(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(c=Qo(eu.current),Qo(ds.current),zd(a)){if(f=a.stateNode,c=a.memoizedProps,f[us]=a,(x=f.nodeValue!==c)&&(s=Xn,s!==null))switch(s.tag){case 3:Rd(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Rd(f.nodeValue,c,(s.mode&1)!==0)}x&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[us]=a,a.stateNode=f}return yn(a),null;case 13:if(Et(At),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(bt&&Jn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Dx(),ml(),a.flags|=98560,x=!1;else if(x=zd(a),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[us]=a}else ml(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;yn(a),x=!1}else Fr!==null&&(Rm(Fr),Fr=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(At.current&1)!==0?Kt===0&&(Kt=3):Mm())),a.updateQueue!==null&&(a.flags|=4),yn(a),null);case 4:return xl(),Em(s,a),s===null&&Gc(a.stateNode.containerInfo),yn(a),null;case 10:return Yp(a.type._context),yn(a),null;case 17:return Vn(a.type)&&Md(),yn(a),null;case 19:if(Et(At),x=a.memoizedState,x===null)return yn(a),null;if(f=(a.flags&128)!==0,N=x.rendering,N===null)if(f)iu(x,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(N=Gd(s),N!==null){for(a.flags|=128,iu(x,!1),f=N.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)x=c,s=f,x.flags&=14680066,N=x.alternate,N===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=N.childLanes,x.lanes=N.lanes,x.child=N.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=N.memoizedProps,x.memoizedState=N.memoizedState,x.updateQueue=N.updateQueue,x.type=N.type,s=N.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return xt(At,At.current&1|2),a.child}s=s.sibling}x.tail!==null&&yt()>jl&&(a.flags|=128,f=!0,iu(x,!1),a.lanes=4194304)}else{if(!f)if(s=Gd(N),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),iu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!bt)return yn(a),null}else 2*yt()-x.renderingStartTime>jl&&c!==1073741824&&(a.flags|=128,f=!0,iu(x,!1),a.lanes=4194304);x.isBackwards?(N.sibling=a.child,a.child=N):(c=x.last,c!==null?c.sibling=N:a.child=N,x.last=N)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=yt(),a.sibling=null,c=At.current,xt(At,f?c&1|2:c&1),a):(yn(a),null);case 22:case 23:return Om(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Zn&1073741824)!==0&&(yn(a),a.subtreeFlags&6&&(a.flags|=8192)):yn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function NT(s,a){switch(Hp(a),a.tag){case 1:return Vn(a.type)&&Md(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return xl(),Et(Fn),Et(gn),rm(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return tm(a),null;case 13:if(Et(At),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ml()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Et(At),null;case 4:return xl(),null;case 10:return Yp(a.type._context),null;case 22:case 23:return Om(),null;case 24:return null;default:return null}}var nh=!1,xn=!1,TT=typeof WeakSet=="function"?WeakSet:Set,we=null;function _l(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Dt(s,a,f)}else c.current=null}function jm(s,a,c){try{c()}catch(f){Dt(s,a,f)}}var k0=!1;function IT(s,a){if(Op=Ci,s=ux(),Np(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var N=0,V=-1,B=-1,K=0,ie=0,oe=s,se=null;t:for(;;){for(var ye;oe!==c||g!==0&&oe.nodeType!==3||(V=N+g),oe!==x||f!==0&&oe.nodeType!==3||(B=N+f),oe.nodeType===3&&(N+=oe.nodeValue.length),(ye=oe.firstChild)!==null;)se=oe,oe=ye;for(;;){if(oe===s)break t;if(se===c&&++K===g&&(V=N),se===x&&++ie===f&&(B=N),(ye=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=ye}c=V===-1||B===-1?null:{start:V,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(Mp={focusedElem:s,selectionRange:c},Ci=!1,we=a;we!==null;)if(a=we,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,we=s;else for(;we!==null;){a=we;try{var Ee=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Se=Ee.memoizedProps,Ft=Ee.memoizedState,G=a.stateNode,$=G.getSnapshotBeforeUpdate(a.elementType===a.type?Se:Vr(a.type,Se),Ft);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){Dt(a,a.return,le)}if(s=a.sibling,s!==null){s.return=a.return,we=s;break}we=a.return}return Ee=k0,k0=!1,Ee}function ou(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&jm(a,c,x)}g=g.next}while(g!==f)}}function rh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Sm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function R0(s){var a=s.alternate;a!==null&&(s.alternate=null,R0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[us],delete a[Kc],delete a[Up],delete a[dT],delete a[hT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function D0(s){return s.tag===5||s.tag===3||s.tag===4}function O0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||D0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function bm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Dd));else if(f!==4&&(s=s.child,s!==null))for(bm(s,a,c),s=s.sibling;s!==null;)bm(s,a,c),s=s.sibling}function Cm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Cm(s,a,c),s=s.sibling;s!==null;)Cm(s,a,c),s=s.sibling}var on=null,Ur=!1;function Oi(s,a,c){for(c=c.child;c!==null;)M0(s,a,c),c=c.sibling}function M0(s,a,c){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Mo,c)}catch{}switch(c.tag){case 5:xn||_l(c,a);case 6:var f=on,g=Ur;on=null,Oi(s,a,c),on=f,Ur=g,on!==null&&(Ur?(s=on,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):on.removeChild(c.stateNode));break;case 18:on!==null&&(Ur?(s=on,c=c.stateNode,s.nodeType===8?Vp(s.parentNode,c):s.nodeType===1&&Vp(s,c),Or(s)):Vp(on,c.stateNode));break;case 4:f=on,g=Ur,on=c.stateNode.containerInfo,Ur=!0,Oi(s,a,c),on=f,Ur=g;break;case 0:case 11:case 14:case 15:if(!xn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,N=x.destroy;x=x.tag,N!==void 0&&((x&2)!==0||(x&4)!==0)&&jm(c,a,N),g=g.next}while(g!==f)}Oi(s,a,c);break;case 1:if(!xn&&(_l(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(V){Dt(c,a,V)}Oi(s,a,c);break;case 21:Oi(s,a,c);break;case 22:c.mode&1?(xn=(f=xn)||c.memoizedState!==null,Oi(s,a,c),xn=f):Oi(s,a,c);break;default:Oi(s,a,c)}}function L0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new TT),a.forEach(function(f){var g=FT.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function zr(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var x=s,N=a,V=N;e:for(;V!==null;){switch(V.tag){case 5:on=V.stateNode,Ur=!1;break e;case 3:on=V.stateNode.containerInfo,Ur=!0;break e;case 4:on=V.stateNode.containerInfo,Ur=!0;break e}V=V.return}if(on===null)throw Error(n(160));M0(x,N,g),on=null,Ur=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(K){Dt(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)F0(a,s),a=a.sibling}function F0(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(zr(a,s),fs(s),f&4){try{ou(3,s,s.return),rh(3,s)}catch(Se){Dt(s,s.return,Se)}try{ou(5,s,s.return)}catch(Se){Dt(s,s.return,Se)}}break;case 1:zr(a,s),fs(s),f&512&&c!==null&&_l(c,c.return);break;case 5:if(zr(a,s),fs(s),f&512&&c!==null&&_l(c,c.return),s.flags&32){var g=s.stateNode;try{yi(g,"")}catch(Se){Dt(s,s.return,Se)}}if(f&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,N=c!==null?c.memoizedProps:x,V=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&br(g,x),Cc(V,N);var K=Cc(V,x);for(N=0;N<B.length;N+=2){var ie=B[N],oe=B[N+1];ie==="style"?jc(g,oe):ie==="dangerouslySetInnerHTML"?_c(g,oe):ie==="children"?yi(g,oe):D(g,ie,oe,K)}switch(V){case"input":Cr(g,x);break;case"textarea":La(g,x);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var ye=x.value;ye!=null?Ds(g,!!x.multiple,ye,!1):se!==!!x.multiple&&(x.defaultValue!=null?Ds(g,!!x.multiple,x.defaultValue,!0):Ds(g,!!x.multiple,x.multiple?[]:"",!1))}g[Kc]=x}catch(Se){Dt(s,s.return,Se)}}break;case 6:if(zr(a,s),fs(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(Se){Dt(s,s.return,Se)}}break;case 3:if(zr(a,s),fs(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Or(a.containerInfo)}catch(Se){Dt(s,s.return,Se)}break;case 4:zr(a,s),fs(s);break;case 13:zr(a,s),fs(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(Im=yt())),f&4&&L0(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(xn=(K=xn)||ie,zr(a,s),xn=K):zr(a,s),fs(s),f&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ie&&(s.mode&1)!==0)for(we=s,ie=s.child;ie!==null;){for(oe=we=ie;we!==null;){switch(se=we,ye=se.child,se.tag){case 0:case 11:case 14:case 15:ou(4,se,se.return);break;case 1:_l(se,se.return);var Ee=se.stateNode;if(typeof Ee.componentWillUnmount=="function"){f=se,c=se.return;try{a=f,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(Se){Dt(f,c,Se)}}break;case 5:_l(se,se.return);break;case 22:if(se.memoizedState!==null){z0(oe);continue}}ye!==null?(ye.return=se,we=ye):z0(oe)}ie=ie.sibling}e:for(ie=null,oe=s;;){if(oe.tag===5){if(ie===null){ie=oe;try{g=oe.stateNode,K?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=oe.stateNode,B=oe.memoizedProps.style,N=B!=null&&B.hasOwnProperty("display")?B.display:null,V.style.display=Ec("display",N))}catch(Se){Dt(s,s.return,Se)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(Se){Dt(s,s.return,Se)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:zr(a,s),fs(s),f&4&&L0(s);break;case 21:break;default:zr(a,s),fs(s)}}function fs(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(D0(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(yi(g,""),f.flags&=-33);var x=O0(s);Cm(s,x,g);break;case 3:case 4:var N=f.stateNode.containerInfo,V=O0(s);bm(s,V,N);break;default:throw Error(n(161))}}catch(B){Dt(s,s.return,B)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function PT(s,a,c){we=s,V0(s)}function V0(s,a,c){for(var f=(s.mode&1)!==0;we!==null;){var g=we,x=g.child;if(g.tag===22&&f){var N=g.memoizedState!==null||nh;if(!N){var V=g.alternate,B=V!==null&&V.memoizedState!==null||xn;V=nh;var K=xn;if(nh=N,(xn=B)&&!K)for(we=g;we!==null;)N=we,B=N.child,N.tag===22&&N.memoizedState!==null?B0(g):B!==null?(B.return=N,we=B):B0(g);for(;x!==null;)we=x,V0(x),x=x.sibling;we=g,nh=V,xn=K}U0(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,we=x):U0(s)}}function U0(s){for(;we!==null;){var a=we;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:xn||rh(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!xn)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Vr(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&zx(a,x,f);break;case 3:var N=a.updateQueue;if(N!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}zx(a,N,c)}break;case 5:var V=a.stateNode;if(c===null&&a.flags&4){c=V;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&Or(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xn||a.flags&512&&Sm(a)}catch(se){Dt(a,a.return,se)}}if(a===s){we=null;break}if(c=a.sibling,c!==null){c.return=a.return,we=c;break}we=a.return}}function z0(s){for(;we!==null;){var a=we;if(a===s){we=null;break}var c=a.sibling;if(c!==null){c.return=a.return,we=c;break}we=a.return}}function B0(s){for(;we!==null;){var a=we;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{rh(4,a)}catch(B){Dt(a,c,B)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(B){Dt(a,g,B)}}var x=a.return;try{Sm(a)}catch(B){Dt(a,x,B)}break;case 5:var N=a.return;try{Sm(a)}catch(B){Dt(a,N,B)}}}catch(B){Dt(a,a.return,B)}if(a===s){we=null;break}var V=a.sibling;if(V!==null){V.return=a.return,we=V;break}we=a.return}}var AT=Math.ceil,sh=R.ReactCurrentDispatcher,Nm=R.ReactCurrentOwner,gr=R.ReactCurrentBatchConfig,ot=0,Zt=null,Bt=null,an=0,Zn=0,El=Pi(0),Kt=0,au=null,Yo=0,ih=0,Tm=0,lu=null,zn=null,Im=0,jl=1/0,Ks=null,oh=!1,Pm=null,Mi=null,ah=!1,Li=null,lh=0,cu=0,Am=null,ch=-1,uh=0;function An(){return(ot&6)!==0?yt():ch!==-1?ch:ch=yt()}function Fi(s){return(s.mode&1)===0?1:(ot&2)!==0&&an!==0?an&-an:pT.transition!==null?(uh===0&&(uh=Fo()),uh):(s=rt,s!==0||(s=window.event,s=s===void 0?16:Lc(s.type)),s)}function Br(s,a,c,f){if(50<cu)throw cu=0,Am=null,Error(n(185));Ei(s,c,f),((ot&2)===0||s!==Zt)&&(s===Zt&&((ot&2)===0&&(ih|=c),Kt===4&&Vi(s,an)),Bn(s,f),c===1&&ot===0&&(a.mode&1)===0&&(jl=yt()+500,Fd&&ki()))}function Bn(s,a){var c=s.callbackNode;Ls(s,a);var f=Lo(s,s===Zt?an:0);if(f===0)c!==null&&kc(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&kc(c),a===1)s.tag===0?fT(H0.bind(null,s)):Ix(H0.bind(null,s)),cT(function(){(ot&6)===0&&ki()}),c=null;else{switch(Si(f)){case 1:c=Oo;break;case 4:c=xi;break;case 16:c=cr;break;case 536870912:c=ud;break;default:c=cr}c=J0(c,$0.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function $0(s,a){if(ch=-1,uh=0,(ot&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Sl()&&s.callbackNode!==c)return null;var f=Lo(s,s===Zt?an:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=dh(s,f);else{a=f;var g=ot;ot|=2;var x=q0();(Zt!==s||an!==a)&&(Ks=null,jl=yt()+500,Jo(s,a));do try{DT();break}catch(V){W0(s,V)}while(!0);Kp(),sh.current=x,ot=g,Bt!==null?a=0:(Zt=null,an=0,a=Kt)}if(a!==0){if(a===2&&(g=Qn(s),g!==0&&(f=g,a=km(s,g))),a===1)throw c=au,Jo(s,0),Vi(s,f),Bn(s,yt()),c;if(a===6)Vi(s,f);else{if(g=s.current.alternate,(f&30)===0&&!kT(g)&&(a=dh(s,f),a===2&&(x=Qn(s),x!==0&&(f=x,a=km(s,x))),a===1))throw c=au,Jo(s,0),Vi(s,f),Bn(s,yt()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(n(345));case 2:Zo(s,zn,Ks);break;case 3:if(Vi(s,f),(f&130023424)===f&&(a=Im+500-yt(),10<a)){if(Lo(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){An(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Fp(Zo.bind(null,s,zn,Ks),a);break}Zo(s,zn,Ks);break;case 4:if(Vi(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var N=31-Tn(f);x=1<<N,N=a[N],N>g&&(g=N),f&=~x}if(f=g,f=yt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*AT(f/1960))-f,10<f){s.timeoutHandle=Fp(Zo.bind(null,s,zn,Ks),f);break}Zo(s,zn,Ks);break;case 5:Zo(s,zn,Ks);break;default:throw Error(n(329))}}}return Bn(s,yt()),s.callbackNode===c?$0.bind(null,s):null}function km(s,a){var c=lu;return s.current.memoizedState.isDehydrated&&(Jo(s,a).flags|=256),s=dh(s,a),s!==2&&(a=zn,zn=c,a!==null&&Rm(a)),s}function Rm(s){zn===null?zn=s:zn.push.apply(zn,s)}function kT(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],x=g.getSnapshot;g=g.value;try{if(!Lr(x(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Vi(s,a){for(a&=~Tm,a&=~ih,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Tn(a),f=1<<c;s[c]=-1,a&=~f}}function H0(s){if((ot&6)!==0)throw Error(n(327));Sl();var a=Lo(s,0);if((a&1)===0)return Bn(s,yt()),null;var c=dh(s,a);if(s.tag!==0&&c===2){var f=Qn(s);f!==0&&(a=f,c=km(s,f))}if(c===1)throw c=au,Jo(s,0),Vi(s,a),Bn(s,yt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Zo(s,zn,Ks),Bn(s,yt()),null}function Dm(s,a){var c=ot;ot|=1;try{return s(a)}finally{ot=c,ot===0&&(jl=yt()+500,Fd&&ki())}}function Xo(s){Li!==null&&Li.tag===0&&(ot&6)===0&&Sl();var a=ot;ot|=1;var c=gr.transition,f=rt;try{if(gr.transition=null,rt=1,s)return s()}finally{rt=f,gr.transition=c,ot=a,(ot&6)===0&&ki()}}function Om(){Zn=El.current,Et(El)}function Jo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,lT(c)),Bt!==null)for(c=Bt.return;c!==null;){var f=c;switch(Hp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Md();break;case 3:xl(),Et(Fn),Et(gn),rm();break;case 5:tm(f);break;case 4:xl();break;case 13:Et(At);break;case 19:Et(At);break;case 10:Yp(f.type._context);break;case 22:case 23:Om()}c=c.return}if(Zt=s,Bt=s=Ui(s.current,null),an=Zn=a,Kt=0,au=null,Tm=ih=Yo=0,zn=lu=null,Go!==null){for(a=0;a<Go.length;a++)if(c=Go[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,x=c.pending;if(x!==null){var N=x.next;x.next=g,f.next=N}c.pending=f}Go=null}return s}function W0(s,a){do{var c=Bt;try{if(Kp(),Qd.current=Jd,Kd){for(var f=kt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Kd=!1}if(Ko=0,Jt=Qt=kt=null,tu=!1,nu=0,Nm.current=null,c===null||c.return===null){Kt=1,au=a,Bt=null;break}e:{var x=s,N=c.return,V=c,B=a;if(a=an,V.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var K=B,ie=V,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ye=g0(N);if(ye!==null){ye.flags&=-257,v0(ye,N,V,x,a),ye.mode&1&&m0(x,K,a),a=ye,B=K;var Ee=a.updateQueue;if(Ee===null){var Se=new Set;Se.add(B),a.updateQueue=Se}else Ee.add(B);break e}else{if((a&1)===0){m0(x,K,a),Mm();break e}B=Error(n(426))}}else if(bt&&V.mode&1){var Ft=g0(N);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),v0(Ft,N,V,x,a),Gp(wl(B,V));break e}}x=B=wl(B,V),Kt!==4&&(Kt=2),lu===null?lu=[x]:lu.push(x),x=N;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var G=f0(x,B,a);Ux(x,G);break e;case 1:V=B;var $=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Mi===null||!Mi.has(Q)))){x.flags|=65536,a&=-a,x.lanes|=a;var le=p0(x,V,a);Ux(x,le);break e}}x=x.return}while(x!==null)}Q0(c)}catch(Te){a=Te,Bt===c&&c!==null&&(Bt=c=c.return);continue}break}while(!0)}function q0(){var s=sh.current;return sh.current=Jd,s===null?Jd:s}function Mm(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),Zt===null||(Yo&268435455)===0&&(ih&268435455)===0||Vi(Zt,an)}function dh(s,a){var c=ot;ot|=2;var f=q0();(Zt!==s||an!==a)&&(Ks=null,Jo(s,a));do try{RT();break}catch(g){W0(s,g)}while(!0);if(Kp(),ot=c,sh.current=f,Bt!==null)throw Error(n(261));return Zt=null,an=0,Kt}function RT(){for(;Bt!==null;)G0(Bt)}function DT(){for(;Bt!==null&&!ld();)G0(Bt)}function G0(s){var a=X0(s.alternate,s,Zn);s.memoizedProps=s.pendingProps,a===null?Q0(s):Bt=a,Nm.current=null}function Q0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=CT(c,a,Zn),c!==null){Bt=c;return}}else{if(c=NT(c,a),c!==null){c.flags&=32767,Bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Kt=6,Bt=null;return}}if(a=a.sibling,a!==null){Bt=a;return}Bt=a=s}while(a!==null);Kt===0&&(Kt=5)}function Zo(s,a,c){var f=rt,g=gr.transition;try{gr.transition=null,rt=1,OT(s,a,c,f)}finally{gr.transition=g,rt=f}return null}function OT(s,a,c,f){do Sl();while(Li!==null);if((ot&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(vt(s,x),s===Zt&&(Bt=Zt=null,an=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ah||(ah=!0,J0(cr,function(){return Sl(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=gr.transition,gr.transition=null;var N=rt;rt=1;var V=ot;ot|=4,Nm.current=null,IT(s,c),F0(c,s),tT(Mp),Ci=!!Op,Mp=Op=null,s.current=c,PT(c),xp(),ot=V,rt=N,gr.transition=x}else s.current=c;if(ah&&(ah=!1,Li=s,lh=g),x=s.pendingLanes,x===0&&(Mi=null),dd(c.stateNode),Bn(s,yt()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(oh)throw oh=!1,s=Pm,Pm=null,s;return(lh&1)!==0&&s.tag!==0&&Sl(),x=s.pendingLanes,(x&1)!==0?s===Am?cu++:(cu=0,Am=s):cu=0,ki(),null}function Sl(){if(Li!==null){var s=Si(lh),a=gr.transition,c=rt;try{if(gr.transition=null,rt=16>s?16:s,Li===null)var f=!1;else{if(s=Li,Li=null,lh=0,(ot&6)!==0)throw Error(n(331));var g=ot;for(ot|=4,we=s.current;we!==null;){var x=we,N=x.child;if((we.flags&16)!==0){var V=x.deletions;if(V!==null){for(var B=0;B<V.length;B++){var K=V[B];for(we=K;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:ou(8,ie,x)}var oe=ie.child;if(oe!==null)oe.return=ie,we=oe;else for(;we!==null;){ie=we;var se=ie.sibling,ye=ie.return;if(R0(ie),ie===K){we=null;break}if(se!==null){se.return=ye,we=se;break}we=ye}}}var Ee=x.alternate;if(Ee!==null){var Se=Ee.child;if(Se!==null){Ee.child=null;do{var Ft=Se.sibling;Se.sibling=null,Se=Ft}while(Se!==null)}}we=x}}if((x.subtreeFlags&2064)!==0&&N!==null)N.return=x,we=N;else e:for(;we!==null;){if(x=we,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ou(9,x,x.return)}var G=x.sibling;if(G!==null){G.return=x.return,we=G;break e}we=x.return}}var $=s.current;for(we=$;we!==null;){N=we;var Q=N.child;if((N.subtreeFlags&2064)!==0&&Q!==null)Q.return=N,we=Q;else e:for(N=$;we!==null;){if(V=we,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:rh(9,V)}}catch(Te){Dt(V,V.return,Te)}if(V===N){we=null;break e}var le=V.sibling;if(le!==null){le.return=V.return,we=le;break e}we=V.return}}if(ot=g,ki(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Mo,s)}catch{}f=!0}return f}finally{rt=c,gr.transition=a}}return!1}function K0(s,a,c){a=wl(c,a),a=f0(s,a,1),s=Di(s,a,1),a=An(),s!==null&&(Ei(s,1,a),Bn(s,a))}function Dt(s,a,c){if(s.tag===3)K0(s,s,c);else for(;a!==null;){if(a.tag===3){K0(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Mi===null||!Mi.has(f))){s=wl(c,s),s=p0(a,s,1),a=Di(a,s,1),s=An(),a!==null&&(Ei(a,1,s),Bn(a,s));break}}a=a.return}}function MT(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=An(),s.pingedLanes|=s.suspendedLanes&c,Zt===s&&(an&c)===c&&(Kt===4||Kt===3&&(an&130023424)===an&&500>yt()-Im?Jo(s,0):Tm|=c),Bn(s,a)}function Y0(s,a){a===0&&((s.mode&1)===0?a=1:(a=Ga,Ga<<=1,(Ga&130023424)===0&&(Ga=4194304)));var c=An();s=qs(s,a),s!==null&&(Ei(s,a,c),Bn(s,c))}function LT(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Y0(s,c)}function FT(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(a),Y0(s,c)}var X0;X0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Fn.current)Un=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Un=!1,bT(s,a,c);Un=(s.flags&131072)!==0}else Un=!1,bt&&(a.flags&1048576)!==0&&Px(a,Ud,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;th(s,a),s=a.pendingProps;var g=hl(a,gn.current);yl(a,c),g=om(null,a,f,s,g,c);var x=am();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Vn(f)?(x=!0,Ld(a)):x=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Zp(a),g.updater=Zd,a.stateNode=g,g._reactInternals=a,fm(a,f,s,c),a=vm(null,a,f,!0,x,c)):(a.tag=0,bt&&x&&$p(a),Pn(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(th(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=UT(f),s=Vr(f,s),g){case 0:a=gm(null,a,f,s,c);break e;case 1:a=j0(null,a,f,s,c);break e;case 11:a=y0(null,a,f,s,c);break e;case 14:a=x0(null,a,f,Vr(f.type,s),c);break e}throw Error(n(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Vr(f,g),gm(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Vr(f,g),j0(s,a,f,g,c);case 3:e:{if(S0(a),s===null)throw Error(n(387));f=a.pendingProps,x=a.memoizedState,g=x.element,Vx(s,a),qd(a,f,null,c);var N=a.memoizedState;if(f=N.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){g=wl(Error(n(423)),a),a=b0(s,a,f,c,g);break e}else if(f!==g){g=wl(Error(n(424)),a),a=b0(s,a,f,c,g);break e}else for(Jn=Ii(a.stateNode.containerInfo.firstChild),Xn=a,bt=!0,Fr=null,c=Lx(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ml(),f===g){a=Qs(s,a,c);break e}Pn(s,a,f,c)}a=a.child}return a;case 5:return Bx(a),s===null&&qp(a),f=a.type,g=a.pendingProps,x=s!==null?s.memoizedProps:null,N=g.children,Lp(f,g)?N=null:x!==null&&Lp(f,x)&&(a.flags|=32),E0(s,a),Pn(s,a,N,c),a.child;case 6:return s===null&&qp(a),null;case 13:return C0(s,a,c);case 4:return em(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=gl(a,null,f,c):Pn(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Vr(f,g),y0(s,a,f,g,c);case 7:return Pn(s,a,a.pendingProps,c),a.child;case 8:return Pn(s,a,a.pendingProps.children,c),a.child;case 12:return Pn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,x=a.memoizedProps,N=g.value,xt($d,f._currentValue),f._currentValue=N,x!==null)if(Lr(x.value,N)){if(x.children===g.children&&!Fn.current){a=Qs(s,a,c);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var V=x.dependencies;if(V!==null){N=x.child;for(var B=V.firstContext;B!==null;){if(B.context===f){if(x.tag===1){B=Gs(-1,c&-c),B.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),K.pending=B}}x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),Xp(x.return,c,a),V.lanes|=c;break}B=B.next}}else if(x.tag===10)N=x.type===a.type?null:x.child;else if(x.tag===18){if(N=x.return,N===null)throw Error(n(341));N.lanes|=c,V=N.alternate,V!==null&&(V.lanes|=c),Xp(N,c,a),N=x.sibling}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===a){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}Pn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,yl(a,c),g=pr(g),f=f(g),a.flags|=1,Pn(s,a,f,c),a.child;case 14:return f=a.type,g=Vr(f,a.pendingProps),g=Vr(f.type,g),x0(s,a,f,g,c);case 15:return w0(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Vr(f,g),th(s,a),a.tag=1,Vn(f)?(s=!0,Ld(a)):s=!1,yl(a,c),d0(a,f,g),fm(a,f,g,c),vm(null,a,f,!0,s,c);case 19:return T0(s,a,c);case 22:return _0(s,a,c)}throw Error(n(156,a.tag))};function J0(s,a){return Wa(s,a)}function VT(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(s,a,c,f){return new VT(s,a,c,f)}function Lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function UT(s){if(typeof s=="function")return Lm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===Be)return 14}return 2}function Ui(s,a){var c=s.alternate;return c===null?(c=vr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function hh(s,a,c,f,g,x){var N=2;if(f=s,typeof s=="function")Lm(s)&&(N=1);else if(typeof s=="string")N=5;else e:switch(s){case M:return ea(c.children,g,x,a);case P:N=8,g|=8;break;case O:return s=vr(12,c,a,g|2),s.elementType=O,s.lanes=x,s;case F:return s=vr(13,c,a,g),s.elementType=F,s.lanes=x,s;case Ie:return s=vr(19,c,a,g),s.elementType=Ie,s.lanes=x,s;case Ne:return fh(c,g,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:N=10;break e;case U:N=9;break e;case z:N=11;break e;case Be:N=14;break e;case _e:N=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=vr(N,c,a,g),a.elementType=s,a.type=f,a.lanes=x,a}function ea(s,a,c,f){return s=vr(7,s,f,a),s.lanes=c,s}function fh(s,a,c,f){return s=vr(22,s,f,a),s.elementType=Ne,s.lanes=c,s.stateNode={isHidden:!1},s}function Fm(s,a,c){return s=vr(6,s,null,a),s.lanes=c,s}function Vm(s,a,c){return a=vr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function zT(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Um(s,a,c,f,g,x,N,V,B){return s=new zT(s,a,c,V,B),a===1?(a=1,x===!0&&(a|=8)):a=0,x=vr(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(x),s}function BT(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function Z0(s){if(!s)return Ai;s=s._reactInternals;e:{if(Pr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Vn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Vn(c))return Nx(s,c,a)}return a}function ew(s,a,c,f,g,x,N,V,B){return s=Um(c,f,!0,s,g,x,N,V,B),s.context=Z0(null),c=s.current,f=An(),g=Fi(c),x=Gs(f,g),x.callback=a??null,Di(c,x,g),s.current.lanes=g,Ei(s,g,f),Bn(s,f),s}function ph(s,a,c,f){var g=a.current,x=An(),N=Fi(g);return c=Z0(c),a.context===null?a.context=c:a.pendingContext=c,a=Gs(x,N),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Di(g,a,N),s!==null&&(Br(s,g,N,x),Wd(s,g,N)),N}function mh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function tw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function zm(s,a){tw(s,a),(s=s.alternate)&&tw(s,a)}function $T(){return null}var nw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Bm(s){this._internalRoot=s}gh.prototype.render=Bm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));ph(s,a,null,null)},gh.prototype.unmount=Bm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Xo(function(){ph(null,s,null,null)}),a[Bs]=null}};function gh(s){this._internalRoot=s}gh.prototype.unstable_scheduleHydration=function(s){if(s){var a=gd();s={blockedOn:null,target:s,priority:a};for(var c=0;c<os.length&&a!==0&&a<os[c].priority;c++);os.splice(c,0,s),c===0&&xd(s)}};function $m(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function rw(){}function HT(s,a,c,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var K=mh(N);x.call(K)}}var N=ew(a,f,s,0,null,!1,!1,"",rw);return s._reactRootContainer=N,s[Bs]=N.current,Gc(s.nodeType===8?s.parentNode:s),Xo(),N}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var V=f;f=function(){var K=mh(B);V.call(K)}}var B=Um(s,0,!1,null,null,!1,!1,"",rw);return s._reactRootContainer=B,s[Bs]=B.current,Gc(s.nodeType===8?s.parentNode:s),Xo(function(){ph(a,B,c,f)}),B}function yh(s,a,c,f,g){var x=c._reactRootContainer;if(x){var N=x;if(typeof g=="function"){var V=g;g=function(){var B=mh(N);V.call(B)}}ph(a,N,s,g)}else N=HT(c,a,s,g,f);return mh(N)}pd=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=wi(a.pendingLanes);c!==0&&(ji(a,c|1),Bn(a,yt()),(ot&6)===0&&(jl=yt()+500,ki()))}break;case 13:Xo(function(){var f=qs(s,1);if(f!==null){var g=An();Br(f,s,1,g)}}),zm(s,1)}},Qa=function(s){if(s.tag===13){var a=qs(s,134217728);if(a!==null){var c=An();Br(a,s,134217728,c)}zm(s,134217728)}},md=function(s){if(s.tag===13){var a=Fi(s),c=qs(s,a);if(c!==null){var f=An();Br(c,s,a,f)}zm(s,a)}},gd=function(){return rt},vd=function(s,a){var c=rt;try{return rt=s,a()}finally{rt=c}},Va=function(s,a,c){switch(a){case"input":if(Cr(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=Od(f);if(!g)throw Error(n(90));nt(f),Cr(f,g)}}}break;case"textarea":La(s,c);break;case"select":a=c.value,a!=null&&Ds(s,!!c.multiple,a,!1)}},Ao=Dm,Tc=Xo;var WT={usingClientEntryPoint:!1,Events:[Yc,ul,Od,ss,Nc,Dm]},uu={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qT={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ac(s),s===null?null:s.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||$T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Mo=xh.inject(qT),Gn=xh}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT,$n.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$m(a))throw Error(n(200));return BT(s,a,null,c)},$n.createRoot=function(s,a){if(!$m(s))throw Error(n(299));var c=!1,f="",g=nw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Um(s,1,!1,null,null,c,!1,f,g),s[Bs]=a.current,Gc(s.nodeType===8?s.parentNode:s),new Bm(a)},$n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ac(a),s=s===null?null:s.stateNode,s},$n.flushSync=function(s){return Xo(s)},$n.hydrate=function(s,a,c){if(!vh(a))throw Error(n(200));return yh(null,s,a,!0,c)},$n.hydrateRoot=function(s,a,c){if(!$m(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,x="",N=nw;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),a=ew(a,null,s,1,c??null,g,!1,x,N),s[Bs]=a.current,Gc(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new gh(a)},$n.render=function(s,a,c){if(!vh(a))throw Error(n(200));return yh(null,s,a,!1,c)},$n.unmountComponentAtNode=function(s){if(!vh(s))throw Error(n(40));return s._reactRootContainer?(Xo(function(){yh(null,null,s,!1,function(){s._reactRootContainer=null,s[Bs]=null})}),!0):!1},$n.unstable_batchedUpdates=Dm,$n.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!vh(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return yh(s,a,c,!1,f)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var hw;function Y1(){if(hw)return Gm.exports;hw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gm.exports=e2(),Gm.exports}var fw;function t2(){if(fw)return _h;fw=1;var t=Y1();return _h.createRoot=t.createRoot,_h.hydrateRoot=t.hydrateRoot,_h}var n2=t2();const r2=t=>t instanceof Error?t.message+`
`+t.stack:JSON.stringify(t,null,2);class s2 extends Zs.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?i.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[i.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),i.jsx("pre",{className:"mt-2 text-sm",children:r2(this.state.error)})]}):this.props.children}}var Bu=Y1();const i2=jv(Bu);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}var so;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(so||(so={}));const pw="popstate";function o2(t){t===void 0&&(t={});function e(r,o){let{pathname:l,search:u,hash:d}=r.location;return Ng("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Zh(o)}return l2(e,n,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a2(){return Math.random().toString(36).substr(2,8)}function mw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n,r){return n===void 0&&(n=null),Cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ac(e):e,{state:n,key:e&&e.key||r||a2()})}function Zh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function l2(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,u=o.history,d=so.Pop,p=null,m=v();m==null&&(m=0,u.replaceState(Cu({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function w(){d=so.Pop;let C=v(),k=C==null?null:C-m;m=C,p&&p({action:d,location:b.location,delta:k})}function E(C,k){d=so.Push;let A=Ng(b.location,C,k);m=v()+1;let D=mw(A,m),R=b.createHref(A);try{u.pushState(D,"",R)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(R)}l&&p&&p({action:d,location:b.location,delta:1})}function j(C,k){d=so.Replace;let A=Ng(b.location,C,k);m=v();let D=mw(A,m),R=b.createHref(A);u.replaceState(D,"",R),l&&p&&p({action:d,location:b.location,delta:0})}function T(C){let k=o.location.origin!=="null"?o.location.origin:o.location.href,A=typeof C=="string"?C:Zh(C);return A=A.replace(/ $/,"%20"),Ut(k,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,k)}let b={get action(){return d},get location(){return t(o,u)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(pw,w),p=C,()=>{o.removeEventListener(pw,w),p=null}},createHref(C){return e(o,C)},createURL:T,encodeLocation(C){let k=T(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:j,go(C){return u.go(C)}};return b}var gw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gw||(gw={}));function c2(t,e,n){return n===void 0&&(n="/"),u2(t,e,n)}function u2(t,e,n,r){let o=typeof e=="string"?ac(e):e,l=bv(o.pathname||"/",n);if(l==null)return null;let u=J1(t);d2(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let m=j2(l);d=w2(u[p],m)}return d}function J1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(l,u,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(Ut(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=io([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Ut(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),J1(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:y2(m,l.index),routesMeta:v})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let p of Z1(l.path))o(l,u,p)}),e}function Z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let u=Z1(r.join("/")),d=[];return d.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...u),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function d2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:x2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const h2=/^:[\w-]+$/,f2=3,p2=2,m2=1,g2=10,v2=-2,vw=t=>t==="*";function y2(t,e){let n=t.split("/"),r=n.length;return n.some(vw)&&(r+=v2),e&&(r+=p2),n.filter(o=>!vw(o)).reduce((o,l)=>o+(h2.test(l)?f2:l===""?m2:g2),r)}function x2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function w2(t,e,n){let{routesMeta:r}=t,o={},l="/",u=[];for(let d=0;d<r.length;++d){let p=r[d],m=d===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=_2({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),E=p.route;if(!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:io([l,w.pathname]),pathnameBase:N2(io([l,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(l=io([l,w.pathnameBase]))}return u}function _2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=E2(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,v,w)=>{let{paramName:E,isOptional:j}=v;if(E==="*"){let b=d[w]||"";u=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const T=d[w];return j&&!T?m[E]=void 0:m[E]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function E2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function j2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function S2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ac(t):t;return{pathname:n?n.startsWith("/")?n:b2(n,e):e,search:T2(r),hash:I2(o)}}function b2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ym(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cv(t,e){let n=C2(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nv(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=ac(t):(o=Cu({},t),Ut(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),Ut(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),Ut(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=n;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;o.pathname=E.join("/")}d=w>=0?e[w]:"/"}let p=S2(o,d),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}const io=t=>t.join("/").replace(/\/\/+/g,"/"),N2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eE=["post","put","patch","delete"];new Set(eE);const A2=["get",...eE];new Set(A2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}const Tv=_.createContext(null),k2=_.createContext(null),Eo=_.createContext(null),Ff=_.createContext(null),gi=_.createContext({outlet:null,matches:[],isDataRoute:!1}),tE=_.createContext(null);function R2(t,e){let{relative:n}=e===void 0?{}:e;lc()||Ut(!1);let{basename:r,navigator:o}=_.useContext(Eo),{hash:l,pathname:u,search:d}=rE(t,{relative:n}),p=u;return r!=="/"&&(p=u==="/"?r:io([r,u])),o.createHref({pathname:p,search:d,hash:l})}function lc(){return _.useContext(Ff)!=null}function jo(){return lc()||Ut(!1),_.useContext(Ff).location}function nE(t){_.useContext(Eo).static||_.useLayoutEffect(t)}function cc(){let{isDataRoute:t}=_.useContext(gi);return t?Q2():D2()}function D2(){lc()||Ut(!1);let t=_.useContext(Tv),{basename:e,future:n,navigator:r}=_.useContext(Eo),{matches:o}=_.useContext(gi),{pathname:l}=jo(),u=JSON.stringify(Cv(o,n.v7_relativeSplatPath)),d=_.useRef(!1);return nE(()=>{d.current=!0}),_.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let w=Nv(m,JSON.parse(u),l,v.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:io([e,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[e,r,u,l,t])}const O2=_.createContext(null);function M2(t){let e=_.useContext(gi).outlet;return e&&_.createElement(O2.Provider,{value:t},e)}function rE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Eo),{matches:o}=_.useContext(gi),{pathname:l}=jo(),u=JSON.stringify(Cv(o,r.v7_relativeSplatPath));return _.useMemo(()=>Nv(t,JSON.parse(u),l,n==="path"),[t,u,l,n])}function L2(t,e){return F2(t,e)}function F2(t,e,n,r){lc()||Ut(!1);let{navigator:o,static:l}=_.useContext(Eo),{matches:u}=_.useContext(gi),d=u[u.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let v=jo(),w;if(e){var E;let k=typeof e=="string"?ac(e):e;m==="/"||(E=k.pathname)!=null&&E.startsWith(m)||Ut(!1),w=k}else w=v;let j=w.pathname||"/",T=j;if(m!=="/"){let k=m.replace(/^\//,"").split("/");T="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=c2(t,{pathname:T}),C=$2(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:io([m,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:io([m,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,n,r);return e&&C?_.createElement(Ff.Provider,{value:{location:Nu({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:so.Pop}},C):C}function V2(){let t=G2(),e=P2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:o},n):null,null)}const U2=_.createElement(V2,null);class z2 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(gi.Provider,{value:this.props.routeContext},_.createElement(tE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B2(t){let{routeContext:e,match:n,children:r}=t,o=_.useContext(Tv);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(gi.Provider,{value:e},r)}function $2(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let v=u.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);v>=0||Ut(!1),u=u.slice(0,Math.min(u.length,v+1))}let p=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:E,errors:j}=n,T=w.route.loader&&E[w.route.id]===void 0&&(!j||j[w.route.id]===void 0);if(w.route.lazy||T){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,w,E)=>{let j,T=!1,b=null,C=null;n&&(j=d&&w.route.id?d[w.route.id]:void 0,b=w.route.errorElement||U2,p&&(m<0&&E===0?(K2("route-fallback"),T=!0,C=null):m===E&&(T=!0,C=w.route.hydrateFallbackElement||null)));let k=e.concat(u.slice(0,E+1)),A=()=>{let D;return j?D=b:T?D=C:w.route.Component?D=_.createElement(w.route.Component,null):w.route.element?D=w.route.element:D=v,_.createElement(B2,{match:w,routeContext:{outlet:v,matches:k,isDataRoute:n!=null},children:D})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?_.createElement(z2,{location:n.location,revalidation:n.revalidation,component:b,error:j,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):A()},null)}var sE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sE||{}),iE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iE||{});function H2(t){let e=_.useContext(Tv);return e||Ut(!1),e}function W2(t){let e=_.useContext(k2);return e||Ut(!1),e}function q2(t){let e=_.useContext(gi);return e||Ut(!1),e}function oE(t){let e=q2(),n=e.matches[e.matches.length-1];return n.route.id||Ut(!1),n.route.id}function G2(){var t;let e=_.useContext(tE),n=W2(),r=oE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Q2(){let{router:t}=H2(sE.UseNavigateStable),e=oE(iE.UseNavigateStable),n=_.useRef(!1);return nE(()=>{n.current=!0}),_.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Nu({fromRouteId:e},l)))},[t,e])}const yw={};function K2(t,e,n){yw[t]||(yw[t]=!0)}function Y2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ef(t){let{to:e,replace:n,state:r,relative:o}=t;lc()||Ut(!1);let{future:l,static:u}=_.useContext(Eo),{matches:d}=_.useContext(gi),{pathname:p}=jo(),m=cc(),v=Nv(e,Cv(d,l.v7_relativeSplatPath),p,o==="path"),w=JSON.stringify(v);return _.useEffect(()=>m(JSON.parse(w),{replace:n,state:r,relative:o}),[m,w,o,n,r]),null}function aE(t){return M2(t.context)}function ln(t){Ut(!1)}function X2(t){let{basename:e="/",children:n=null,location:r,navigationType:o=so.Pop,navigator:l,static:u=!1,future:d}=t;lc()&&Ut(!1);let p=e.replace(/^\/*/,"/"),m=_.useMemo(()=>({basename:p,navigator:l,static:u,future:Nu({v7_relativeSplatPath:!1},d)}),[p,d,l,u]);typeof r=="string"&&(r=ac(r));let{pathname:v="/",search:w="",hash:E="",state:j=null,key:T="default"}=r,b=_.useMemo(()=>{let C=bv(v,p);return C==null?null:{location:{pathname:C,search:w,hash:E,state:j,key:T},navigationType:o}},[p,v,w,E,j,T,o]);return b==null?null:_.createElement(Eo.Provider,{value:m},_.createElement(Ff.Provider,{children:n,value:b}))}function J2(t){let{children:e,location:n}=t;return L2(Tg(e),n)}new Promise(()=>{});function Tg(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,o)=>{if(!_.isValidElement(r))return;let l=[...e,o];if(r.type===_.Fragment){n.push.apply(n,Tg(r.props.children,l));return}r.type!==ln&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Tg(r.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function Z2(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function eI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tI(t,e){return t.button===0&&(!e||e==="_self")&&!eI(t)}const nI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rI="6";try{window.__reactRouterVersion=rI}catch{}const sI="startTransition",xw=K1[sI];function iI(t){let{basename:e,children:n,future:r,window:o}=t,l=_.useRef();l.current==null&&(l.current=o2({window:o,v5Compat:!0}));let u=l.current,[d,p]=_.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},v=_.useCallback(w=>{m&&xw?xw(()=>p(w)):p(w)},[p,m]);return _.useLayoutEffect(()=>u.listen(v),[u,v]),_.useEffect(()=>Y2(r),[r]),_.createElement(X2,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:r})}const oI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,er=_.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:l,replace:u,state:d,target:p,to:m,preventScrollReset:v,viewTransition:w}=e,E=Z2(e,nI),{basename:j}=_.useContext(Eo),T,b=!1;if(typeof m=="string"&&aI.test(m)&&(T=m,oI))try{let D=new URL(window.location.href),R=m.startsWith("//")?new URL(D.protocol+m):new URL(m),W=bv(R.pathname,j);R.origin===D.origin&&W!=null?m=W+R.search+R.hash:b=!0}catch{}let C=R2(m,{relative:o}),k=lI(m,{replace:u,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:w});function A(D){r&&r(D),D.defaultPrevented||k(D)}return _.createElement("a",Ig({},E,{href:T||C,onClick:b||l?r:A,ref:n,target:p}))});var ww;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ww||(ww={}));var _w;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_w||(_w={}));function lI(t,e){let{target:n,replace:r,state:o,preventScrollReset:l,relative:u,viewTransition:d}=e===void 0?{}:e,p=cc(),m=jo(),v=rE(t,{relative:u});return _.useCallback(w=>{if(tI(w,n)){w.preventDefault();let E=r!==void 0?r:Zh(m)===Zh(v);p(t,{replace:E,state:o,preventScrollReset:l,relative:u,viewTransition:d})}},[m,p,v,r,o,n,t,l,u,d])}var Vf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uf=typeof window>"u"||"Deno"in globalThis;function Hr(){}function cI(t,e){return typeof t=="function"?t(e):t}function uI(t){return typeof t=="number"&&t>=0&&t!==1/0}function dI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pg(t,e){return typeof t=="function"?t(e):t}function hI(t,e){return typeof t=="function"?t(e):t}function Ew(t,e){const{type:n="all",exact:r,fetchStatus:o,predicate:l,queryKey:u,stale:d}=t;if(u){if(r){if(e.queryHash!==Iv(u,e.options))return!1}else if(!Iu(e.queryKey,u))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||l&&!l(e))}function jw(t,e){const{exact:n,status:r,predicate:o,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Tu(e.options.mutationKey)!==Tu(l))return!1}else if(!Iu(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function Iv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Tu)(t)}function Tu(t){return JSON.stringify(t,(e,n)=>Ag(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Iu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Iu(t[n],e[n])):!1}function lE(t,e){if(t===e)return t;const n=Sw(t)&&Sw(e);if(n||Ag(t)&&Ag(e)){const r=n?t:Object.keys(t),o=r.length,l=n?e:Object.keys(e),u=l.length,d=n?[]:{},p=new Set(r);let m=0;for(let v=0;v<u;v++){const w=n?v:l[v];(!n&&p.has(w)||n)&&t[w]===void 0&&e[w]===void 0?(d[w]=void 0,m++):(d[w]=lE(t[w],e[w]),d[w]===t[w]&&t[w]!==void 0&&m++)}return o===u&&m===o?t:d}return e}function Sw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ag(t){if(!bw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!bw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function bw(t){return Object.prototype.toString.call(t)==="[object Object]"}function fI(t){return new Promise(e=>{setTimeout(e,t)})}function pI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?lE(t,e):e}function mI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Pv=Symbol();function cE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Pv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var sa,Zi,Bl,z1,vI=(z1=class extends Vf{constructor(){super();ut(this,sa);ut(this,Zi);ut(this,Bl);qe(this,Bl,e=>{if(!Uf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,Zi)||this.setEventListener(ne(this,Bl))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Zi))==null||e.call(this),qe(this,Zi,void 0))}setEventListener(e){var n;qe(this,Bl,e),(n=ne(this,Zi))==null||n.call(this),qe(this,Zi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ne(this,sa)!==e&&(qe(this,sa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ne(this,sa)=="boolean"?ne(this,sa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},sa=new WeakMap,Zi=new WeakMap,Bl=new WeakMap,z1),uE=new vI,$l,eo,Hl,B1,yI=(B1=class extends Vf{constructor(){super();ut(this,$l,!0);ut(this,eo);ut(this,Hl);qe(this,Hl,e=>{if(!Uf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,eo)||this.setEventListener(ne(this,Hl))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,eo))==null||e.call(this),qe(this,eo,void 0))}setEventListener(e){var n;qe(this,Hl,e),(n=ne(this,eo))==null||n.call(this),qe(this,eo,e(this.setOnline.bind(this)))}setOnline(e){ne(this,$l)!==e&&(qe(this,$l,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ne(this,$l)}},$l=new WeakMap,eo=new WeakMap,Hl=new WeakMap,B1),tf=new yI;function xI(){let t,e;const n=new Promise((o,l)=>{t=o,e=l});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},n.reject=o=>{r({status:"rejected",reason:o}),e(o)},n}function wI(t){return Math.min(1e3*2**t,3e4)}function dE(t){return(t??"online")==="online"?tf.isOnline():!0}var hE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xm(t){return t instanceof hE}function fE(t){let e=!1,n=0,r=!1,o;const l=xI(),u=b=>{var C;r||(E(new hE(b)),(C=t.abort)==null||C.call(t))},d=()=>{e=!0},p=()=>{e=!1},m=()=>uE.isFocused()&&(t.networkMode==="always"||tf.isOnline())&&t.canRun(),v=()=>dE(t.networkMode)&&t.canRun(),w=b=>{var C;r||(r=!0,(C=t.onSuccess)==null||C.call(t,b),o==null||o(),l.resolve(b))},E=b=>{var C;r||(r=!0,(C=t.onError)==null||C.call(t,b),o==null||o(),l.reject(b))},j=()=>new Promise(b=>{var C;o=k=>{(r||m())&&b(k)},(C=t.onPause)==null||C.call(t)}).then(()=>{var b;o=void 0,r||(b=t.onContinue)==null||b.call(t)}),T=()=>{if(r)return;let b;const C=n===0?t.initialPromise:void 0;try{b=C??t.fn()}catch(k){b=Promise.reject(k)}Promise.resolve(b).then(w).catch(k=>{var Z;if(r)return;const A=t.retry??(Uf?0:3),D=t.retryDelay??wI,R=typeof D=="function"?D(n,k):D,W=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,k);if(e||!W){E(k);return}n++,(Z=t.onFail)==null||Z.call(t,n,k),fI(R).then(()=>m()?void 0:j()).then(()=>{e?E(k):T()})})};return{promise:l,cancel:u,continue:()=>(o==null||o(),l),cancelRetry:d,continueRetry:p,canStart:v,start:()=>(v()?T():j().then(T),l)}}var _I=t=>setTimeout(t,0);function EI(){let t=[],e=0,n=d=>{d()},r=d=>{d()},o=_I;const l=d=>{e?t.push(d):o(()=>{n(d)})},u=()=>{const d=t;t=[],d.length&&o(()=>{r(()=>{d.forEach(p=>{n(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||u()}return p},batchCalls:d=>(...p)=>{l(()=>{d(...p)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{o=d}}}var Rn=EI(),ia,$1,pE=($1=class{constructor(){ut(this,ia)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uI(this.gcTime)&&qe(this,ia,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uf?1/0:5*60*1e3))}clearGcTimeout(){ne(this,ia)&&(clearTimeout(ne(this,ia)),qe(this,ia,void 0))}},ia=new WeakMap,$1),Wl,oa,xr,aa,En,Uu,la,Wr,Js,H1,jI=(H1=class extends pE{constructor(n){super();ut(this,Wr);ut(this,Wl);ut(this,oa);ut(this,xr);ut(this,aa);ut(this,En);ut(this,Uu);ut(this,la);qe(this,la,!1),qe(this,Uu,n.defaultOptions),this.setOptions(n.options),this.observers=[],qe(this,aa,n.client),qe(this,xr,ne(this,aa).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,qe(this,Wl,bI(this.options)),this.state=n.state??ne(this,Wl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ne(this,En))==null?void 0:n.promise}setOptions(n){this.options={...ne(this,Uu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,xr).remove(this)}setData(n,r){const o=pI(this.state.data,n,this.options);return wn(this,Wr,Js).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(n,r){wn(this,Wr,Js).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var o,l;const r=(o=ne(this,En))==null?void 0:o.promise;return(l=ne(this,En))==null||l.cancel(n),r?r.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,Wl))}isActive(){return this.observers.some(n=>hI(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Pg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!dI(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(o=>o.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ne(this,En))==null||r.continue()}onOnline(){var r;const n=this.observers.find(o=>o.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ne(this,En))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ne(this,xr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ne(this,En)&&(ne(this,la)?ne(this,En).cancel({revert:!0}):ne(this,En).cancelRetry()),this.scheduleGc()),ne(this,xr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wn(this,Wr,Js).call(this,{type:"invalidate"})}fetch(n,r){var v,w,E;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,En))return ne(this,En).continueRetry(),ne(this,En).promise}if(n&&this.setOptions(n),!this.options.queryFn){const j=this.observers.find(T=>T.options.queryFn);j&&this.setOptions(j.options)}const o=new AbortController,l=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(qe(this,la,!0),o.signal)})},u=()=>{const j=cE(this.options,r),b=(()=>{const C={client:ne(this,aa),queryKey:this.queryKey,meta:this.meta};return l(C),C})();return qe(this,la,!1),this.options.persister?this.options.persister(j,b,this):j(b)},p=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ne(this,aa),state:this.state,fetchFn:u};return l(j),j})();(v=this.options.behavior)==null||v.onFetch(p,this),qe(this,oa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=p.fetchOptions)==null?void 0:w.meta))&&wn(this,Wr,Js).call(this,{type:"fetch",meta:(E=p.fetchOptions)==null?void 0:E.meta});const m=j=>{var T,b,C,k;Xm(j)&&j.silent||wn(this,Wr,Js).call(this,{type:"error",error:j}),Xm(j)||((b=(T=ne(this,xr).config).onError)==null||b.call(T,j,this),(k=(C=ne(this,xr).config).onSettled)==null||k.call(C,this.state.data,j,this)),this.scheduleGc()};return qe(this,En,fE({initialPromise:r==null?void 0:r.initialPromise,fn:p.fetchFn,abort:o.abort.bind(o),onSuccess:j=>{var T,b,C,k;if(j===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(j)}catch(A){m(A);return}(b=(T=ne(this,xr).config).onSuccess)==null||b.call(T,j,this),(k=(C=ne(this,xr).config).onSettled)==null||k.call(C,j,this.state.error,this),this.scheduleGc()},onError:m,onFail:(j,T)=>{wn(this,Wr,Js).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{wn(this,Wr,Js).call(this,{type:"pause"})},onContinue:()=>{wn(this,Wr,Js).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0})),ne(this,En).start()}},Wl=new WeakMap,oa=new WeakMap,xr=new WeakMap,aa=new WeakMap,En=new WeakMap,Uu=new WeakMap,la=new WeakMap,Wr=new WeakSet,Js=function(n){const r=o=>{switch(n.type){case"failed":return{...o,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...SI(o.data,this.options),fetchMeta:n.meta??null};case"success":return qe(this,oa,void 0),{...o,data:n.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=n.error;return Xm(l)&&l.revert&&ne(this,oa)?{...ne(this,oa),fetchStatus:"idle"}:{...o,error:l,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...n.state}}};this.state=r(this.state),Rn.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),ne(this,xr).notify({query:this,type:"updated",action:n})})},H1);function SI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ms,W1,CI=(W1=class extends Vf{constructor(e={}){super();ut(this,ms);this.config=e,qe(this,ms,new Map)}build(e,n,r){const o=n.queryKey,l=n.queryHash??Iv(o,n);let u=this.get(l);return u||(u=new jI({client:e,queryKey:o,queryHash:l,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(u)),u}add(e){ne(this,ms).has(e.queryHash)||(ne(this,ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ne(this,ms).get(e.queryHash);n&&(e.destroy(),n===e&&ne(this,ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Rn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,ms).get(e)}getAll(){return[...ne(this,ms).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ew(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ew(e,r)):n}notify(e){Rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Rn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Rn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ms=new WeakMap,W1),gs,kn,ca,vs,Wi,q1,NI=(q1=class extends pE{constructor(n){super();ut(this,vs);ut(this,gs);ut(this,kn);ut(this,ca);this.mutationId=n.mutationId,qe(this,kn,n.mutationCache),qe(this,gs,[]),this.state=n.state||TI(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ne(this,gs).includes(n)||(ne(this,gs).push(n),this.clearGcTimeout(),ne(this,kn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){qe(this,gs,ne(this,gs).filter(r=>r!==n)),this.scheduleGc(),ne(this,kn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ne(this,gs).length||(this.state.status==="pending"?this.scheduleGc():ne(this,kn).remove(this))}continue(){var n;return((n=ne(this,ca))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var u,d,p,m,v,w,E,j,T,b,C,k,A,D,R,W,Z,M,P,O;const r=()=>{wn(this,vs,Wi).call(this,{type:"continue"})};qe(this,ca,fE({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(L,U)=>{wn(this,vs,Wi).call(this,{type:"failed",failureCount:L,error:U})},onPause:()=>{wn(this,vs,Wi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,kn).canRun(this)}));const o=this.state.status==="pending",l=!ne(this,ca).canStart();try{if(o)r();else{wn(this,vs,Wi).call(this,{type:"pending",variables:n,isPaused:l}),await((d=(u=ne(this,kn).config).onMutate)==null?void 0:d.call(u,n,this));const U=await((m=(p=this.options).onMutate)==null?void 0:m.call(p,n));U!==this.state.context&&wn(this,vs,Wi).call(this,{type:"pending",context:U,variables:n,isPaused:l})}const L=await ne(this,ca).start();return await((w=(v=ne(this,kn).config).onSuccess)==null?void 0:w.call(v,L,n,this.state.context,this)),await((j=(E=this.options).onSuccess)==null?void 0:j.call(E,L,n,this.state.context)),await((b=(T=ne(this,kn).config).onSettled)==null?void 0:b.call(T,L,null,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,L,null,n,this.state.context)),wn(this,vs,Wi).call(this,{type:"success",data:L}),L}catch(L){try{throw await((D=(A=ne(this,kn).config).onError)==null?void 0:D.call(A,L,n,this.state.context,this)),await((W=(R=this.options).onError)==null?void 0:W.call(R,L,n,this.state.context)),await((M=(Z=ne(this,kn).config).onSettled)==null?void 0:M.call(Z,void 0,L,this.state.variables,this.state.context,this)),await((O=(P=this.options).onSettled)==null?void 0:O.call(P,void 0,L,n,this.state.context)),L}finally{wn(this,vs,Wi).call(this,{type:"error",error:L})}}finally{ne(this,kn).runNext(this)}}},gs=new WeakMap,kn=new WeakMap,ca=new WeakMap,vs=new WeakSet,Wi=function(n){const r=o=>{switch(n.type){case"failed":return{...o,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...o,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:n.error,failureCount:o.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rn.batch(()=>{ne(this,gs).forEach(o=>{o.onMutationUpdate(n)}),ne(this,kn).notify({mutation:this,type:"updated",action:n})})},q1);function TI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ei,qr,zu,G1,II=(G1=class extends Vf{constructor(e={}){super();ut(this,ei);ut(this,qr);ut(this,zu);this.config=e,qe(this,ei,new Set),qe(this,qr,new Map),qe(this,zu,0)}build(e,n,r){const o=new NI({mutationCache:this,mutationId:++wh(this,zu)._,options:e.defaultMutationOptions(n),state:r});return this.add(o),o}add(e){ne(this,ei).add(e);const n=Eh(e);if(typeof n=="string"){const r=ne(this,qr).get(n);r?r.push(e):ne(this,qr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ne(this,ei).delete(e)){const n=Eh(e);if(typeof n=="string"){const r=ne(this,qr).get(n);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&ne(this,qr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Eh(e);if(typeof n=="string"){const r=ne(this,qr).get(n),o=r==null?void 0:r.find(l=>l.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const n=Eh(e);if(typeof n=="string"){const o=(r=ne(this,qr).get(n))==null?void 0:r.find(l=>l!==e&&l.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rn.batch(()=>{ne(this,ei).forEach(e=>{this.notify({type:"removed",mutation:e})}),ne(this,ei).clear(),ne(this,qr).clear()})}getAll(){return Array.from(ne(this,ei))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jw(n,r))}findAll(e={}){return this.getAll().filter(n=>jw(e,n))}notify(e){Rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Rn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hr))))}},ei=new WeakMap,qr=new WeakMap,zu=new WeakMap,G1);function Eh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Cw(t){return{onFetch:(e,n)=>{var v,w,E,j,T;const r=e.options,o=(E=(w=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:w.fetchMore)==null?void 0:E.direction,l=((j=e.state.data)==null?void 0:j.pages)||[],u=((T=e.state.data)==null?void 0:T.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const m=async()=>{let b=!1;const C=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},k=cE(e.options,e.fetchOptions),A=async(D,R,W)=>{if(b)return Promise.reject();if(R==null&&D.pages.length)return Promise.resolve(D);const M=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:R,direction:W?"backward":"forward",meta:e.options.meta};return C(U),U})(),P=await k(M),{maxPages:O}=e.options,L=W?gI:mI;return{pages:L(D.pages,P,O),pageParams:L(D.pageParams,R,O)}};if(o&&l.length){const D=o==="backward",R=D?PI:Nw,W={pages:l,pageParams:u},Z=R(r,W);d=await A(W,Z,D)}else{const D=t??l.length;do{const R=p===0?u[0]??r.initialPageParam:Nw(r,d);if(p>0&&R==null)break;d=await A(d,R),p++}while(p<D)}return d};e.options.persister?e.fetchFn=()=>{var b,C;return(C=(b=e.options).persister)==null?void 0:C.call(b,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=m}}}function Nw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ot,to,no,ql,Gl,ro,Ql,Kl,Q1,AI=(Q1=class{constructor(t={}){ut(this,Ot);ut(this,to);ut(this,no);ut(this,ql);ut(this,Gl);ut(this,ro);ut(this,Ql);ut(this,Kl);qe(this,Ot,t.queryCache||new CI),qe(this,to,t.mutationCache||new II),qe(this,no,t.defaultOptions||{}),qe(this,ql,new Map),qe(this,Gl,new Map),qe(this,ro,0)}mount(){wh(this,ro)._++,ne(this,ro)===1&&(qe(this,Ql,uE.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,Ot).onFocus())})),qe(this,Kl,tf.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,Ot).onOnline())})))}unmount(){var t,e;wh(this,ro)._--,ne(this,ro)===0&&((t=ne(this,Ql))==null||t.call(this),qe(this,Ql,void 0),(e=ne(this,Kl))==null||e.call(this),qe(this,Kl,void 0))}isFetching(t){return ne(this,Ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ne(this,to).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,Ot).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ne(this,Ot).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Pg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ne(this,Ot).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=ne(this,Ot).get(r.queryHash),l=o==null?void 0:o.state.data,u=cI(e,l);if(u!==void 0)return ne(this,Ot).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Rn.batch(()=>ne(this,Ot).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,Ot).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ne(this,Ot);Rn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ne(this,Ot);return Rn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Rn.batch(()=>ne(this,Ot).findAll(t).map(o=>o.cancel(n)));return Promise.all(r).then(Hr).catch(Hr)}invalidateQueries(t,e={}){return Rn.batch(()=>(ne(this,Ot).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Rn.batch(()=>ne(this,Ot).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(Hr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ne(this,Ot).build(this,e);return n.isStaleByTime(Pg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hr).catch(Hr)}fetchInfiniteQuery(t){return t.behavior=Cw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hr).catch(Hr)}ensureInfiniteQueryData(t){return t.behavior=Cw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tf.isOnline()?ne(this,to).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,Ot)}getMutationCache(){return ne(this,to)}getDefaultOptions(){return ne(this,no)}setDefaultOptions(t){qe(this,no,t)}setQueryDefaults(t,e){ne(this,ql).set(Tu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ne(this,ql).values()],n={};return e.forEach(r=>{Iu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ne(this,Gl).set(Tu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ne(this,Gl).values()],n={};return e.forEach(r=>{Iu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ne(this,no).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Iv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Pv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ne(this,no).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ne(this,Ot).clear(),ne(this,to).clear()}},Ot=new WeakMap,to=new WeakMap,no=new WeakMap,ql=new WeakMap,Gl=new WeakMap,ro=new WeakMap,Ql=new WeakMap,Kl=new WeakMap,Q1),kI=_.createContext(void 0),RI=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(kI.Provider,{value:t,children:e}));let DI={data:""},OI=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||DI,MI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LI=/\/\*[^]*?\*\/|  +/g,Tw=/\n+/g,Qi=(t,e)=>{let n="",r="",o="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":r+=l[1]=="f"?Qi(u,l):l+"{"+Qi(u,l[1]=="k"?"":e)+"}":typeof u=="object"?r+=Qi(u,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Qi.p?Qi.p(l,u):l+":"+u+";")}return n+(e&&o?e+"{"+o+"}":o)+r},Ys={},mE=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+mE(t[n]);return e}return t},FI=(t,e,n,r,o)=>{let l=mE(t),u=Ys[l]||(Ys[l]=(p=>{let m=0,v=11;for(;m<p.length;)v=101*v+p.charCodeAt(m++)>>>0;return"go"+v})(l));if(!Ys[u]){let p=l!==t?t:(m=>{let v,w,E=[{}];for(;v=MI.exec(m.replace(LI,""));)v[4]?E.shift():v[3]?(w=v[3].replace(Tw," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][v[1]]=v[2].replace(Tw," ").trim();return E[0]})(t);Ys[u]=Qi(o?{["@keyframes "+u]:p}:p,n?"":"."+u)}let d=n&&Ys.g?Ys.g:null;return n&&(Ys.g=Ys[u]),((p,m,v,w)=>{w?m.data=m.data.replace(w,p):m.data.indexOf(p)===-1&&(m.data=v?p+m.data:m.data+p)})(Ys[u],e,r,d),u},VI=(t,e,n)=>t.reduce((r,o,l)=>{let u=e[l];if(u&&u.call){let d=u(n),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=p?"."+p:d&&typeof d=="object"?d.props?"":Qi(d,""):d===!1?"":d}return r+o+(u??"")},"");function zf(t){let e=this||{},n=t.call?t(e.p):t;return FI(n.unshift?n.raw?VI(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,OI(e.target),e.g,e.o,e.k)}let gE,kg,Rg;zf.bind({g:1});let ai=zf.bind({k:1});function UI(t,e,n,r){Qi.p=e,gE=t,kg=n,Rg=r}function So(t,e){let n=this||{};return function(){let r=arguments;function o(l,u){let d=Object.assign({},l),p=d.className||o.className;n.p=Object.assign({theme:kg&&kg()},d),n.o=/ *go\d+/.test(p),d.className=zf.apply(n,r)+(p?" "+p:"");let m=t;return t[0]&&(m=d.as||t,delete d.as),Rg&&m[0]&&Rg(d),gE(m,d)}return o}}var zI=t=>typeof t=="function",nf=(t,e)=>zI(t)?t(e):t,BI=(()=>{let t=0;return()=>(++t).toString()})(),vE=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),$I=20,yE=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,$I)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:n}=e;return yE(t,{type:t.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},Fh=[],na={toasts:[],pausedAt:void 0},Na=t=>{na=yE(na,t),Fh.forEach(e=>{e(na)})},HI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WI=(t={})=>{let[e,n]=_.useState(na),r=_.useRef(na);_.useEffect(()=>(r.current!==na&&n(na),Fh.push(n),()=>{let l=Fh.indexOf(n);l>-1&&Fh.splice(l,1)}),[]);let o=e.toasts.map(l=>{var u,d,p;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((d=t[l.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||HI[l.type],style:{...t.style,...(p=t[l.type])==null?void 0:p.style,...l.style}}});return{...e,toasts:o}},qI=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||BI()}),$u=t=>(e,n)=>{let r=qI(e,t,n);return Na({type:2,toast:r}),r.id},Dn=(t,e)=>$u("blank")(t,e);Dn.error=$u("error");Dn.success=$u("success");Dn.loading=$u("loading");Dn.custom=$u("custom");Dn.dismiss=t=>{Na({type:3,toastId:t})};Dn.remove=t=>Na({type:4,toastId:t});Dn.promise=(t,e,n)=>{let r=Dn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let l=e.success?nf(e.success,o):void 0;return l?Dn.success(l,{id:r,...n,...n==null?void 0:n.success}):Dn.dismiss(r),o}).catch(o=>{let l=e.error?nf(e.error,o):void 0;l?Dn.error(l,{id:r,...n,...n==null?void 0:n.error}):Dn.dismiss(r)}),t};var GI=(t,e)=>{Na({type:1,toast:{id:t,height:e}})},QI=()=>{Na({type:5,time:Date.now()})},vu=new Map,KI=1e3,YI=(t,e=KI)=>{if(vu.has(t))return;let n=setTimeout(()=>{vu.delete(t),Na({type:4,toastId:t})},e);vu.set(t,n)},XI=t=>{let{toasts:e,pausedAt:n}=WI(t);_.useEffect(()=>{if(n)return;let l=Date.now(),u=e.map(d=>{if(d.duration===1/0)return;let p=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(p<0){d.visible&&Dn.dismiss(d.id);return}return setTimeout(()=>Dn.dismiss(d.id),p)});return()=>{u.forEach(d=>d&&clearTimeout(d))}},[e,n]);let r=_.useCallback(()=>{n&&Na({type:6,time:Date.now()})},[n]),o=_.useCallback((l,u)=>{let{reverseOrder:d=!1,gutter:p=8,defaultPosition:m}=u||{},v=e.filter(j=>(j.position||m)===(l.position||m)&&j.height),w=v.findIndex(j=>j.id===l.id),E=v.filter((j,T)=>T<w&&j.visible).length;return v.filter(j=>j.visible).slice(...d?[E+1]:[0,E]).reduce((j,T)=>j+(T.height||0)+p,0)},[e]);return _.useEffect(()=>{e.forEach(l=>{if(l.dismissed)YI(l.id,l.removeDelay);else{let u=vu.get(l.id);u&&(clearTimeout(u),vu.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:GI,startPause:QI,endPause:r,calculateOffset:o}}},JI=ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ZI=ai`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eP=ai`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,tP=So("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${JI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ZI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${eP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,nP=ai`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rP=So("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${nP} 1s linear infinite;
`,sP=ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,iP=ai`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oP=So("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${iP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,aP=So("div")`
  position: absolute;
`,lP=So("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cP=ai`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uP=So("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?_.createElement(uP,null,e):e:n==="blank"?null:_.createElement(lP,null,_.createElement(rP,{...r}),n!=="loading"&&_.createElement(aP,null,n==="error"?_.createElement(tP,{...r}):_.createElement(oP,{...r})))},hP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,pP="0%{opacity:0;} 100%{opacity:1;}",mP="0%{opacity:1;} 100%{opacity:0;}",gP=So("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vP=So("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yP=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=vE()?[pP,mP]:[hP(n),fP(n)];return{animation:e?`${ai(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ai(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xP=_.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?yP(t.position||e||"top-center",t.visible):{opacity:0},l=_.createElement(dP,{toast:t}),u=_.createElement(vP,{...t.ariaProps},nf(t.message,t));return _.createElement(gP,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:l,message:u}):_.createElement(_.Fragment,null,l,u))});UI(_.createElement);var wP=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let l=_.useCallback(u=>{if(u){let d=()=>{let p=u.getBoundingClientRect().height;r(t,p)};d(),new MutationObserver(d).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return _.createElement("div",{ref:l,className:e,style:n},o)},_P=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},EP=zf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,jh=16,jP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:l,containerClassName:u})=>{let{toasts:d,handlers:p}=XI(n);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:jh,left:jh,right:jh,bottom:jh,pointerEvents:"none",...l},className:u,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(m=>{let v=m.position||e,w=p.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),E=_P(v,w);return _.createElement(wP,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?EP:"",style:E},m.type==="custom"?nf(m.message,m):o?o(m):_.createElement(xP,{toast:m,position:v}))}))},at=Dn;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=()=>{};var Iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],d=t[n++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,d=u?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let E=(d&15)<<2|m>>6,j=m&63;p||(j=64,u||(E=64)),r.push(n[v],n[w],n[E],n[j])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||m==null||w==null)throw new CP;const E=l<<2|d>>4;if(r.push(E),m!==64){const j=d<<4&240|m>>2;if(r.push(j),w!==64){const T=m<<6&192|w;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NP=function(t){const e=xE(t);return wE.encodeByteArray(e,!0)},rf=function(t){return NP(t).replace(/\./g,"")},_E=function(t){try{return wE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=()=>TP().__FIREBASE_DEFAULTS__,PP=()=>{if(typeof process>"u"||typeof Iw>"u")return;const t=Iw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_E(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return SP()||IP()||PP()||AP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EE=t=>{var e,n;return(n=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jE=t=>{const e=EE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SE=()=>{var t;return(t=Bf())===null||t===void 0?void 0:t.config},bE=t=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Av(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rf(JSON.stringify(n)),rf(JSON.stringify(u)),""].join(".")}const yu={};function DP(){const t={prod:[],emulator:[]};for(const e of Object.keys(yu))yu[e]?t.emulator.push(e):t.prod.push(e);return t}function OP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Pw=!1;function kv(t,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||yu[t]===e||yu[t]||Pw)return;yu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=DP().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,j){E.setAttribute("width","24"),E.setAttribute("id",j),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Pw=!0,u()},E}function v(E,j){E.setAttribute("id",j),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=OP(r),j=n("text"),T=document.getElementById(j)||document.createElement("span"),b=n("learnmore"),C=document.getElementById(b)||document.createElement("a"),k=n("preprendIcon"),A=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const D=E.element;d(D),v(C,b);const R=m();p(A,k),D.append(A,T,C,R),document.body.appendChild(D)}l?(T.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function LP(){var t;const e=(t=Bf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zP(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BP(){return!LP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $P(){try{return typeof indexedDB=="object"}catch{return!1}}function HP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="FirebaseError";class vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WP,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?qP(l,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new vi(o,d,r)}}function qP(t,e){return t.replace(GP,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const GP=/\{\$([^}]+)}/g;function QP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ha(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],u=e[o];if(Aw(l)&&Aw(u)){if(!ha(l,u))return!1}else if(l!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KP(t,e){const n=new YP(t,e);return n.subscribe.bind(n)}class YP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XP(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Jm),o.error===void 0&&(o.error=Jm),o.complete===void 0&&(o.complete=Jm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eA(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&u.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZP(t){return t===ta?void 0:t}function eA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const nA={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},rA=tt.INFO,sA={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},iA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=sA[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rv{constructor(e){this.name=e,this._logLevel=rA,this._logHandler=iA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const oA=(t,e)=>e.some(n=>t instanceof n);let kw,Rw;function aA(){return kw||(kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lA(){return Rw||(Rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Dg=new WeakMap,NE=new WeakMap,Zm=new WeakMap,Dv=new WeakMap;function cA(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(oo(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&CE.set(n,t)}).catch(()=>{}),Dv.set(e,t),e}function uA(t){if(Dg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Dg.set(t,e)}let Og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dA(t){Og=t(Og)}function hA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eg(this),e,...n);return NE.set(r,e.sort?e.sort():[e]),oo(r)}:lA().includes(t)?function(...e){return t.apply(eg(this),e),oo(CE.get(this))}:function(...e){return oo(t.apply(eg(this),e))}}function fA(t){return typeof t=="function"?hA(t):(t instanceof IDBTransaction&&uA(t),oA(t,aA())?new Proxy(t,Og):t)}function oo(t){if(t instanceof IDBRequest)return cA(t);if(Zm.has(t))return Zm.get(t);const e=fA(t);return e!==t&&(Zm.set(t,e),Dv.set(e,t)),e}const eg=t=>Dv.get(t);function pA(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),d=oo(u);return r&&u.addEventListener("upgradeneeded",p=>{r(oo(u.result),p.oldVersion,p.newVersion,oo(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const mA=["get","getKey","getAll","getAllKeys","count"],gA=["put","add","delete","clear"],tg=new Map;function Dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=gA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||mA.includes(n)))return;const l=async function(u,...d){const p=this.transaction(u,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),o&&p.done]))[0]};return tg.set(e,l),l}dA(t=>({...t,get:(e,n,r)=>Dw(e,n)||t.get(e,n,r),has:(e,n)=>!!Dw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",Ow="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Rv("@firebase/app"),xA="@firebase/app-compat",wA="@firebase/analytics-compat",_A="@firebase/analytics",EA="@firebase/app-check-compat",jA="@firebase/app-check",SA="@firebase/auth",bA="@firebase/auth-compat",CA="@firebase/database",NA="@firebase/data-connect",TA="@firebase/database-compat",IA="@firebase/functions",PA="@firebase/functions-compat",AA="@firebase/installations",kA="@firebase/installations-compat",RA="@firebase/messaging",DA="@firebase/messaging-compat",OA="@firebase/performance",MA="@firebase/performance-compat",LA="@firebase/remote-config",FA="@firebase/remote-config-compat",VA="@firebase/storage",UA="@firebase/storage-compat",zA="@firebase/firestore",BA="@firebase/ai",$A="@firebase/firestore-compat",HA="firebase",WA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="[DEFAULT]",qA={[Mg]:"fire-core",[xA]:"fire-core-compat",[_A]:"fire-analytics",[wA]:"fire-analytics-compat",[jA]:"fire-app-check",[EA]:"fire-app-check-compat",[SA]:"fire-auth",[bA]:"fire-auth-compat",[CA]:"fire-rtdb",[NA]:"fire-data-connect",[TA]:"fire-rtdb-compat",[IA]:"fire-fn",[PA]:"fire-fn-compat",[AA]:"fire-iid",[kA]:"fire-iid-compat",[RA]:"fire-fcm",[DA]:"fire-fcm-compat",[OA]:"fire-perf",[MA]:"fire-perf-compat",[LA]:"fire-rc",[FA]:"fire-rc-compat",[VA]:"fire-gcs",[UA]:"fire-gcs-compat",[zA]:"fire-fst",[$A]:"fire-fst-compat",[BA]:"fire-vertex","fire-js":"fire-js",[HA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,GA=new Map,Fg=new Map;function Mw(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(Fg.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Fg.set(e,t);for(const n of sf.values())Mw(n,t);for(const n of GA.values())Mw(n,t);return!0}function $f(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new Hu("app","Firebase",QA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=WA;function TE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lg,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw ao.create("bad-app-name",{appName:String(o)});if(n||(n=SE()),!n)throw ao.create("no-options");const l=sf.get(o);if(l){if(ha(n,l.options)&&ha(r,l.config))return l;throw ao.create("duplicate-app",{appName:o})}const u=new tA(o);for(const p of Fg.values())u.addComponent(p);const d=new KA(n,r,u);return sf.set(o,d),d}function Ov(t=Lg){const e=sf.get(t);if(!e&&t===Lg&&SE())return TE();if(!e)throw ao.create("no-app",{appName:t});return e}function xs(t,e,n){var r;let o=(r=qA[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(d.join(" "));return}fa(new po(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebase-heartbeat-database",XA=1,Pu="firebase-heartbeat-store";let ng=null;function IE(){return ng||(ng=pA(YA,XA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),ng}async function JA(t){try{const n=(await IE()).transaction(Pu),r=await n.objectStore(Pu).get(PE(t));return await n.done,r}catch(e){if(e instanceof vi)li.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function Lw(t,e){try{const r=(await IE()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,PE(t)),await r.done}catch(n){if(n instanceof vi)li.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(r.message)}}}function PE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1024,ek=30;class tk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>ek){const u=sk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){li.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:r,unsentEntries:o}=nk(this._heartbeatsCache.heartbeats),l=rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return li.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function nk(t,e=ZA){const n=[];let r=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Vw(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $P()?HP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Vw(t){return rf(JSON.stringify({version:2,heartbeats:t})).length}function sk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){fa(new po("platform-logger",e=>new vA(e),"PRIVATE")),fa(new po("heartbeat",e=>new tk(e),"PRIVATE")),xs(Mg,Ow,t),xs(Mg,Ow,"esm2017"),xs("fire-js","")}ik("");var ys=function(){return ys=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ys.apply(this,arguments)};function qu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function ok(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,l;r<o;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ak=AE,kE=new Hu("auth","Firebase",AE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Rv("@firebase/auth");function lk(t,...e){of.logLevel<=tt.WARN&&of.warn(`Auth (${uc}): ${t}`,...e)}function Vh(t,...e){of.logLevel<=tt.ERROR&&of.error(`Auth (${uc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw Mv(t,...e)}function ws(t,...e){return Mv(t,...e)}function RE(t,e,n){const r=Object.assign(Object.assign({},ak()),{[e]:n});return new Hu("auth","Firebase",r).create(e,{appName:t.name})}function lo(t){return RE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kE.create(t,...e)}function Ve(t,e,...n){if(!t)throw Mv(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vh(e),new Error(e)}function ui(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ck(){return Uw()==="http:"||Uw()==="https:"}function Uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ck()||VP()||"connection"in navigator)?navigator.onLine:!0}function dk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=MP()||UP()}get(){return uk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pk=new Gu(3e4,6e4);function Qu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ia(t,e,n,r,o={}){return OE(t,o,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const d=Wu(Object.assign({key:t.config.apiKey},u)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return FP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(m.credentials="include"),DE.fetch()(await LE(t,t.config.apiHost,n,d),m)})}async function OE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hk),e);try{const o=new gk(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Sh(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Sh(t,"user-disabled",u);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw RE(t,v,m);ci(t,v)}}catch(o){if(o instanceof vi)throw o;ci(t,"network-request-failed",{message:String(o)})}}async function ME(t,e,n,r,o={}){const l=await Ia(t,e,n,r,o);return"mfaPendingCredential"in l&&ci(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function LE(t,e,n,r){const o=`${e}${n}?${r}`,l=t,u=l.config.emulator?Lv(t.config,o):`${t.config.apiScheme}://${o}`;return fk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function mk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ws(this.auth,"network-request-failed")),pk.get())})}}function Sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ws(t,e,r);return o.customData._tokenResponse=n,o}function zw(t){return t!==void 0&&t.enterprise!==void 0}class vk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yk(t,e){return Ia(t,"GET","/v2/recaptchaConfig",Qu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e){return Ia(t,"POST","/v1/accounts:delete",e)}async function af(t,e){return Ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wk(t,e=!1){const n=jr(t),r=await n.getIdToken(e),o=Fv(r);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:r,authTime:xu(rg(o.auth_time)),issuedAtTime:xu(rg(o.iat)),expirationTime:xu(rg(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function rg(t){return Number(t)*1e3}function Fv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=_E(n);return o?JSON.parse(o):(Vh("Failed to decode base64 JWT payload"),null)}catch(o){return Vh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Bw(t){const e=Fv(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vi&&_k(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _k({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Au(t,af(n,{idToken:r}));Ve(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?FE(l.providerUserInfo):[],d=Sk(t.providerData,u),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?m:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Ug(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,w)}async function jk(t){const e=jr(t);await lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function FE(t){return t.map(e=>{var{providerId:n}=e,r=qu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e){const n=await OE(t,{},async()=>{const r=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=await LE(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(p.credentials="include"),DE.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ck(t,e){return Ia(t,"POST","/v2/accounts:revokeToken",Qu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=Bw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:l}=await bk(e,n);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:l}=n,u=new Rl;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ve(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Ve(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,l=qu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ug(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Au(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wk(this,e)}reload(){return jk(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(lo(this.auth));const e=await this.getIdToken();return await Au(this,xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,l,u,d,p,m,v;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(o=n.email)!==null&&o!==void 0?o:void 0,j=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,T=(u=n.photoURL)!==null&&u!==void 0?u:void 0,b=(d=n.tenantId)!==null&&d!==void 0?d:void 0,C=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,k=(m=n.createdAt)!==null&&m!==void 0?m:void 0,A=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:D,emailVerified:R,isAnonymous:W,providerData:Z,stsTokenManager:M}=n;Ve(D&&M,e,"internal-error");const P=Rl.fromJSON(this.name,M);Ve(typeof D=="string",e,"internal-error"),Bi(w,e.name),Bi(E,e.name),Ve(typeof R=="boolean",e,"internal-error"),Ve(typeof W=="boolean",e,"internal-error"),Bi(j,e.name),Bi(T,e.name),Bi(b,e.name),Bi(C,e.name),Bi(k,e.name),Bi(A,e.name);const O=new Yr({uid:D,auth:e,email:E,emailVerified:R,displayName:w,isAnonymous:W,photoURL:T,phoneNumber:j,tenantId:b,stsTokenManager:P,createdAt:k,lastLoginAt:A});return Z&&Array.isArray(Z)&&(O.providerData=Z.map(L=>Object.assign({},L))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(e,n,r=!1){const o=new Rl;o.updateFromServerResponse(n);const l=new Yr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await lf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?FE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Rl;d.updateFromIdToken(r);const p=new Yr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ug(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Map;function ni(t){ui(t instanceof Function,"Expected a class definition");let e=$w.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$w.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VE.type="NONE";const Hw=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t,e,n){return`firebase:${t}:${e}:${n}`}class Dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Uh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Uh("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await af(this.auth,{idToken:e}).catch(()=>{});return n?Yr._fromGetAccountInfoResponse(this.auth,n,e):null}return Yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dl(ni(Hw),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||ni(Hw);const u=Uh(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const E=await af(e,{idToken:v}).catch(()=>{});if(!E)break;w=await Yr._fromGetAccountInfoResponse(e,E,v)}else w=Yr._fromJSON(e,v);m!==l&&(d=w),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Dl(l,e,r):(l=p[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Dl(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(qE(e))return"Webos";if(zE(e))return"Safari";if((e.includes("chrome/")||BE(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UE(t=Cn()){return/firefox\//i.test(t)}function zE(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BE(t=Cn()){return/crios\//i.test(t)}function $E(t=Cn()){return/iemobile/i.test(t)}function HE(t=Cn()){return/android/i.test(t)}function WE(t=Cn()){return/blackberry/i.test(t)}function qE(t=Cn()){return/webos/i.test(t)}function Vv(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nk(t=Cn()){var e;return Vv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tk(){return zP()&&document.documentMode===10}function GE(t=Cn()){return Vv(t)||HE(t)||qE(t)||WE(t)||/windows phone/i.test(t)||$E(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e=[]){let n;switch(t){case"Browser":n=Ww(Cn());break;case"Worker":n=`${Ww(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,d)=>{try{const p=e(l);u(p)}catch(p){d(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t,e={}){return Ia(t,"GET","/v2/passwordPolicy",Qu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=6;class kk{constructor(e){var n,r,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:Ak,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,l,u,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qw(this),this.idTokenSubscription=new qw(this),this.beforeStateQueue=new Ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,o,l;if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await af(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(lo(this));const n=e?jr(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pk(this),n=new kk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ck(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dc(t){return jr(t)}class qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=KP(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dk(t){Hf=t}function KE(t){return Hf.loadJS(t)}function Ok(){return Hf.recaptchaEnterpriseScript}function Mk(){return Hf.gapiScript}function Lk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Fk{constructor(){this.enterprise=new Vk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Vk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Uk="recaptcha-enterprise",YE="NO_RECAPTCHA";class zk{constructor(e){this.type=Uk,this.auth=dc(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{yk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new vk(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{d(p)})})}function o(l,u,d){const p=window.grecaptcha;zw(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(YE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(d=>{if(!n&&zw(window.grecaptcha))o(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ok();p.length!==0&&(p+=d),KE(p).then(()=>{o(d,l,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function Gw(t,e,n,r=!1,o=!1){const l=new zk(t);let u;if(o)u=YE;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d=Object.assign({},e);return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Bk(t,e,n,r,o){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Gw(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Gw(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){const n=$f(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(ha(l,e??{}))return o;ci(o,"already-initialized")}return n.initialize({options:e})}function Hk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Wk(t,e,n){const r=dc(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=XE(e),{host:u,port:d}=qk(e),p=d===null?"":`:${d}`,m={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(ha(m,r.config.emulator)&&ha(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ta(u)?(Av(`${l}//${u}${p}`),kv("Auth",!0)):Gk()}function XE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qk(t){const e=XE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:Qw(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:Qw(u)}}}function Qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return ME(t,"POST","/v1/accounts:signInWithIdp",Qu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="http://localhost";class pa extends JE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,l=qu(n,["providerId","signInMethod"]);if(!r||!o)return null;const u=new pa(r,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:Qk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends ZE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ku{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Ku{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Ku{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e){return ME(t,"POST","/v1/accounts:signUp",Qu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const l=await Yr._fromIdTokenResponse(e,r,o),u=Kw(r);return new ma({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Kw(r);return new ma({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Kw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends vi{constructor(e,n,r,o){var l;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new cf(e,n,r,o)}}function ej(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(t,l,e,r):l})}async function Yk(t,e,n=!1){const r=await Au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(lo(r));const o="reauthenticate";try{const l=await Au(t,ej(r,o,e,t),n);Ve(l.idToken,r,"internal-error");const u=Fv(l.idToken);Ve(u,r,"internal-error");const{sub:d}=u;return Ve(t.uid===d,r,"user-mismatch"),ma._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ci(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(t,e,n=!1){if(_r(t.app))return Promise.reject(lo(t));const r="signIn",o=await ej(t,r,e),l=await ma._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t){const e=dc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eR(t,e,n){if(_r(t.app))return Promise.reject(lo(t));const r=dc(t),u=await Bk(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Zk(t),p}),d=await ma._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function tR(t,e,n,r){return jr(t).onIdTokenChanged(e,n,r)}function nR(t,e,n){return jr(t).beforeAuthStateChanged(e,n)}const uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uf,"1"),this.storage.removeItem(uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=1e3,sR=10;class nj extends tj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);Tk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nj.type="LOCAL";const iR=nj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj extends tj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rj.type="SESSION";const sj=rj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(n.origin,l)),p=await oR(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,p)=>{const m=Uv("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function lR(t){_s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function cR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dR(){return ij()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="firebaseLocalStorageDb",hR=1,df="firebaseLocalStorage",aj="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qf(t,e){return t.transaction([df],e?"readwrite":"readonly").objectStore(df)}function fR(){const t=indexedDB.deleteDatabase(oj);return new Yu(t).toPromise()}function zg(){const t=indexedDB.open(oj,hR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(df,{keyPath:aj})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(df)?e(r):(r.close(),await fR(),e(await zg()))})})}async function Yw(t,e,n){const r=qf(t,!0).put({[aj]:e,value:n});return new Yu(r).toPromise()}async function pR(t,e){const n=qf(t,!1).get(e),r=await new Yu(n).toPromise();return r===void 0?null:r.value}function Xw(t,e){const n=qf(t,!0).delete(e);return new Yu(n).toPromise()}const mR=800,gR=3;class lj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ij()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(dR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cR(),!this.activeServiceWorker)return;this.sender=new aR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zg();return await Yw(e,uf,"1"),await Xw(e,uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=qf(o,!1).getAll();return new Yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lj.type="LOCAL";const vR=lj;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e){return e?ni(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends JE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xR(t){return Jk(t.auth,new zv(t),t.bypassAuthState)}function wR(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),Xk(n,new zv(t),t.bypassAuthState)}async function _R(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),Yk(n,new zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xR;case"linkViaPopup":case"linkViaRedirect":return _R;case"reauthViaPopup":case"reauthViaRedirect":return wR;default:ci(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new Gu(2e3,1e4);class kl extends cj{constructor(e,n,r,o,l){super(e,n,o,l),this.provider=r,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=Uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ER.get())};e()}}kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="pendingRedirect",zh=new Map;class SR extends cj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await bR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bR(t,e){const n=TR(e),r=NR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function CR(t,e){zh.set(t._key(),e)}function NR(t){return ni(t._redirectPersistence)}function TR(t){return Uh(jR,t.config.apiKey,t.name)}async function IR(t,e,n=!1){if(_r(t.app))return Promise.reject(lo(t));const r=dc(t),o=yR(r,e),u=await new SR(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=10*60*1e3;class AR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uj(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jw(e))}saveEventToCache(e){this.cachedEventUids.add(Jw(e)),this.lastProcessedEventTime=Date.now()}}function Jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t,e={}){return Ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OR=/^https?/;async function MR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RR(t);for(const n of e)try{if(LR(n))return}catch{}ci(t,"unauthorized-domain")}function LR(t){const e=Vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!OR.test(n))return!1;if(DR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Gu(3e4,6e4);function Zw(){const t=_s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VR(t){return new Promise((e,n)=>{var r,o,l;function u(){Zw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zw(),n(ws(t,"network-request-failed"))},timeout:FR.get()})}if(!((o=(r=_s().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=_s().gapi)===null||l===void 0)&&l.load)u();else{const d=Lk("iframefcb");return _s()[d]=()=>{gapi.load?u():n(ws(t,"network-request-failed"))},KE(`${Mk()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function UR(t){return Bh=Bh||VR(t),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Gu(5e3,15e3),BR="__/auth/iframe",$R="emulator/auth/iframe",HR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qR(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,$R):`https://${t.config.authDomain}/${BR}`,r={apiKey:e.apiKey,appName:t.name,v:uc},o=WR.get(t.config.apiHost);o&&(r.eid=o);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Wu(r).slice(1)}`}async function GR(t){const e=await UR(t),n=_s().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:qR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HR,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const u=ws(t,"network-request-failed"),d=_s().setTimeout(()=>{l(u)},zR.get());function p(){_s().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KR=500,YR=600,XR="_blank",JR="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZR(t,e,n,r=KR,o=YR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},QR),{width:r.toString(),height:o.toString(),top:l,left:u}),m=Cn().toLowerCase();n&&(d=BE(m)?XR:n),UE(m)&&(e=e||JR,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[j,T])=>`${E}${j}=${T},`,"");if(Nk(m)&&d!=="_self")return eD(e||"",d),new e_(null);const w=window.open(e||"",d,v);Ve(w,t,"popup-blocked");try{w.focus()}catch{}return new e_(w)}function eD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="__/auth/handler",nD="emulator/auth/handler",rD=encodeURIComponent("fac");async function t_(t,e,n,r,o,l){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uc,eventId:o};if(e instanceof ZE){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",QP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Ku){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await t._getAppCheckToken(),m=p?`#${rD}=${encodeURIComponent(p)}`:"";return`${sD(t)}?${Wu(d).slice(1)}${m}`}function sD({config:t}){return t.emulator?Lv(t,nD):`https://${t.authDomain}/${tD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class iD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sj,this._completeRedirectFn=IR,this._overrideRedirectResult=CR}async _openPopup(e,n,r,o){var l;ui((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await t_(e,n,r,Vg(),o);return ZR(e,u,Uv())}async _openRedirect(e,n,r,o){await this._originValidation(e);const l=await t_(e,n,r,Vg(),o);return lR(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(ui(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GR(e),r=new AR(e);return n.register("authEvent",o=>(Ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sg,{type:sg},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[sg];u!==void 0&&n(!!u),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GE()||zE()||Vv()}}const oD=iD;var n_="@firebase/auth",r_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(t){fa(new po("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QE(t)},m=new Rk(r,o,l,p);return Hk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new po("auth-internal",e=>{const n=dc(e.getProvider("auth").getImmediate());return(r=>new aD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(n_,r_,lD(t)),xs(n_,r_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=5*60,dD=bE("authIdTokenMaxAge")||uD;let s_=null;const hD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dD)return;const o=n==null?void 0:n.token;s_!==o&&(s_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fD(t=Ov()){const e=$f(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$k(t,{popupRedirectResolver:oD,persistence:[vR,iR,sj]}),r=bE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=hD(l.toString());nR(n,u,()=>u(n.currentUser)),tR(n,d=>u(d))}}const o=EE("auth");return o&&Wk(n,`http://${o}`),n}function pD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Dk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const l=ws("internal-error");l.customData=o,n(l)},r.type="text/javascript",r.charset="UTF-8",pD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,P){function O(){}O.prototype=P.prototype,M.D=P.prototype,M.prototype=new O,M.prototype.constructor=M,M.C=function(L,U,z){for(var F=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)F[Ie-2]=arguments[Ie];return P.prototype[U].apply(L,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,P,O){O||(O=0);var L=Array(16);if(typeof P=="string")for(var U=0;16>U;++U)L[U]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for(U=0;16>U;++U)L[U]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=M.g[0],O=M.g[1],U=M.g[2];var z=M.g[3],F=P+(z^O&(U^z))+L[0]+3614090360&4294967295;P=O+(F<<7&4294967295|F>>>25),F=z+(U^P&(O^U))+L[1]+3905402710&4294967295,z=P+(F<<12&4294967295|F>>>20),F=U+(O^z&(P^O))+L[2]+606105819&4294967295,U=z+(F<<17&4294967295|F>>>15),F=O+(P^U&(z^P))+L[3]+3250441966&4294967295,O=U+(F<<22&4294967295|F>>>10),F=P+(z^O&(U^z))+L[4]+4118548399&4294967295,P=O+(F<<7&4294967295|F>>>25),F=z+(U^P&(O^U))+L[5]+1200080426&4294967295,z=P+(F<<12&4294967295|F>>>20),F=U+(O^z&(P^O))+L[6]+2821735955&4294967295,U=z+(F<<17&4294967295|F>>>15),F=O+(P^U&(z^P))+L[7]+4249261313&4294967295,O=U+(F<<22&4294967295|F>>>10),F=P+(z^O&(U^z))+L[8]+1770035416&4294967295,P=O+(F<<7&4294967295|F>>>25),F=z+(U^P&(O^U))+L[9]+2336552879&4294967295,z=P+(F<<12&4294967295|F>>>20),F=U+(O^z&(P^O))+L[10]+4294925233&4294967295,U=z+(F<<17&4294967295|F>>>15),F=O+(P^U&(z^P))+L[11]+2304563134&4294967295,O=U+(F<<22&4294967295|F>>>10),F=P+(z^O&(U^z))+L[12]+1804603682&4294967295,P=O+(F<<7&4294967295|F>>>25),F=z+(U^P&(O^U))+L[13]+4254626195&4294967295,z=P+(F<<12&4294967295|F>>>20),F=U+(O^z&(P^O))+L[14]+2792965006&4294967295,U=z+(F<<17&4294967295|F>>>15),F=O+(P^U&(z^P))+L[15]+1236535329&4294967295,O=U+(F<<22&4294967295|F>>>10),F=P+(U^z&(O^U))+L[1]+4129170786&4294967295,P=O+(F<<5&4294967295|F>>>27),F=z+(O^U&(P^O))+L[6]+3225465664&4294967295,z=P+(F<<9&4294967295|F>>>23),F=U+(P^O&(z^P))+L[11]+643717713&4294967295,U=z+(F<<14&4294967295|F>>>18),F=O+(z^P&(U^z))+L[0]+3921069994&4294967295,O=U+(F<<20&4294967295|F>>>12),F=P+(U^z&(O^U))+L[5]+3593408605&4294967295,P=O+(F<<5&4294967295|F>>>27),F=z+(O^U&(P^O))+L[10]+38016083&4294967295,z=P+(F<<9&4294967295|F>>>23),F=U+(P^O&(z^P))+L[15]+3634488961&4294967295,U=z+(F<<14&4294967295|F>>>18),F=O+(z^P&(U^z))+L[4]+3889429448&4294967295,O=U+(F<<20&4294967295|F>>>12),F=P+(U^z&(O^U))+L[9]+568446438&4294967295,P=O+(F<<5&4294967295|F>>>27),F=z+(O^U&(P^O))+L[14]+3275163606&4294967295,z=P+(F<<9&4294967295|F>>>23),F=U+(P^O&(z^P))+L[3]+4107603335&4294967295,U=z+(F<<14&4294967295|F>>>18),F=O+(z^P&(U^z))+L[8]+1163531501&4294967295,O=U+(F<<20&4294967295|F>>>12),F=P+(U^z&(O^U))+L[13]+2850285829&4294967295,P=O+(F<<5&4294967295|F>>>27),F=z+(O^U&(P^O))+L[2]+4243563512&4294967295,z=P+(F<<9&4294967295|F>>>23),F=U+(P^O&(z^P))+L[7]+1735328473&4294967295,U=z+(F<<14&4294967295|F>>>18),F=O+(z^P&(U^z))+L[12]+2368359562&4294967295,O=U+(F<<20&4294967295|F>>>12),F=P+(O^U^z)+L[5]+4294588738&4294967295,P=O+(F<<4&4294967295|F>>>28),F=z+(P^O^U)+L[8]+2272392833&4294967295,z=P+(F<<11&4294967295|F>>>21),F=U+(z^P^O)+L[11]+1839030562&4294967295,U=z+(F<<16&4294967295|F>>>16),F=O+(U^z^P)+L[14]+4259657740&4294967295,O=U+(F<<23&4294967295|F>>>9),F=P+(O^U^z)+L[1]+2763975236&4294967295,P=O+(F<<4&4294967295|F>>>28),F=z+(P^O^U)+L[4]+1272893353&4294967295,z=P+(F<<11&4294967295|F>>>21),F=U+(z^P^O)+L[7]+4139469664&4294967295,U=z+(F<<16&4294967295|F>>>16),F=O+(U^z^P)+L[10]+3200236656&4294967295,O=U+(F<<23&4294967295|F>>>9),F=P+(O^U^z)+L[13]+681279174&4294967295,P=O+(F<<4&4294967295|F>>>28),F=z+(P^O^U)+L[0]+3936430074&4294967295,z=P+(F<<11&4294967295|F>>>21),F=U+(z^P^O)+L[3]+3572445317&4294967295,U=z+(F<<16&4294967295|F>>>16),F=O+(U^z^P)+L[6]+76029189&4294967295,O=U+(F<<23&4294967295|F>>>9),F=P+(O^U^z)+L[9]+3654602809&4294967295,P=O+(F<<4&4294967295|F>>>28),F=z+(P^O^U)+L[12]+3873151461&4294967295,z=P+(F<<11&4294967295|F>>>21),F=U+(z^P^O)+L[15]+530742520&4294967295,U=z+(F<<16&4294967295|F>>>16),F=O+(U^z^P)+L[2]+3299628645&4294967295,O=U+(F<<23&4294967295|F>>>9),F=P+(U^(O|~z))+L[0]+4096336452&4294967295,P=O+(F<<6&4294967295|F>>>26),F=z+(O^(P|~U))+L[7]+1126891415&4294967295,z=P+(F<<10&4294967295|F>>>22),F=U+(P^(z|~O))+L[14]+2878612391&4294967295,U=z+(F<<15&4294967295|F>>>17),F=O+(z^(U|~P))+L[5]+4237533241&4294967295,O=U+(F<<21&4294967295|F>>>11),F=P+(U^(O|~z))+L[12]+1700485571&4294967295,P=O+(F<<6&4294967295|F>>>26),F=z+(O^(P|~U))+L[3]+2399980690&4294967295,z=P+(F<<10&4294967295|F>>>22),F=U+(P^(z|~O))+L[10]+4293915773&4294967295,U=z+(F<<15&4294967295|F>>>17),F=O+(z^(U|~P))+L[1]+2240044497&4294967295,O=U+(F<<21&4294967295|F>>>11),F=P+(U^(O|~z))+L[8]+1873313359&4294967295,P=O+(F<<6&4294967295|F>>>26),F=z+(O^(P|~U))+L[15]+4264355552&4294967295,z=P+(F<<10&4294967295|F>>>22),F=U+(P^(z|~O))+L[6]+2734768916&4294967295,U=z+(F<<15&4294967295|F>>>17),F=O+(z^(U|~P))+L[13]+1309151649&4294967295,O=U+(F<<21&4294967295|F>>>11),F=P+(U^(O|~z))+L[4]+4149444226&4294967295,P=O+(F<<6&4294967295|F>>>26),F=z+(O^(P|~U))+L[11]+3174756917&4294967295,z=P+(F<<10&4294967295|F>>>22),F=U+(P^(z|~O))+L[2]+718787259&4294967295,U=z+(F<<15&4294967295|F>>>17),F=O+(z^(U|~P))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+P&4294967295,M.g[1]=M.g[1]+(U+(F<<21&4294967295|F>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+z&4294967295}r.prototype.u=function(M,P){P===void 0&&(P=M.length);for(var O=P-this.blockSize,L=this.B,U=this.h,z=0;z<P;){if(U==0)for(;z<=O;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<P;)if(L[U++]=M.charCodeAt(z++),U==this.blockSize){o(this,L),U=0;break}}else for(;z<P;)if(L[U++]=M[z++],U==this.blockSize){o(this,L),U=0;break}}this.h=U,this.o+=P},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var P=1;P<M.length-8;++P)M[P]=0;var O=8*this.o;for(P=M.length-8;P<M.length;++P)M[P]=O&255,O/=256;for(this.u(M),M=Array(16),P=O=0;4>P;++P)for(var L=0;32>L;L+=8)M[O++]=this.g[P]>>>L&255;return M};function l(M,P){var O=d;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=P(M)}function u(M,P){this.h=P;for(var O=[],L=!0,U=M.length-1;0<=U;U--){var z=M[U]|0;L&&z==P||(O[U]=z,L=!1)}this.g=O}var d={};function p(M){return-128<=M&&128>M?l(M,function(P){return new u([P|0],0>P?-1:0)}):new u([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return C(m(-M));for(var P=[],O=1,L=0;M>=O;L++)P[L]=M/O|0,O*=4294967296;return new u(P,0)}function v(M,P){if(M.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M.charAt(0)=="-")return C(v(M.substring(1),P));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=m(Math.pow(P,8)),L=w,U=0;U<M.length;U+=8){var z=Math.min(8,M.length-U),F=parseInt(M.substring(U,U+z),P);8>z?(z=m(Math.pow(P,z)),L=L.j(z).add(m(F))):(L=L.j(O),L=L.add(m(F)))}return L}var w=p(0),E=p(1),j=p(16777216);t=u.prototype,t.m=function(){if(b(this))return-C(this).m();for(var M=0,P=1,O=0;O<this.g.length;O++){var L=this.i(O);M+=(0<=L?L:4294967296+L)*P,P*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(b(this))return"-"+C(this).toString(M);for(var P=m(Math.pow(M,6)),O=this,L="";;){var U=R(O,P).g;O=k(O,U.j(P));var z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(M);if(O=U,T(O))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var P=0;P<M.g.length;P++)if(M.g[P]!=0)return!1;return!0}function b(M){return M.h==-1}t.l=function(M){return M=k(this,M),b(M)?-1:T(M)?0:1};function C(M){for(var P=M.g.length,O=[],L=0;L<P;L++)O[L]=~M.g[L];return new u(O,~M.h).add(E)}t.abs=function(){return b(this)?C(this):this},t.add=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],L=0,U=0;U<=P;U++){var z=L+(this.i(U)&65535)+(M.i(U)&65535),F=(z>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);L=F>>>16,z&=65535,F&=65535,O[U]=F<<16|z}return new u(O,O[O.length-1]&-2147483648?-1:0)};function k(M,P){return M.add(C(P))}t.j=function(M){if(T(this)||T(M))return w;if(b(this))return b(M)?C(this).j(C(M)):C(C(this).j(M));if(b(M))return C(this.j(C(M)));if(0>this.l(j)&&0>M.l(j))return m(this.m()*M.m());for(var P=this.g.length+M.g.length,O=[],L=0;L<2*P;L++)O[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<M.g.length;U++){var z=this.i(L)>>>16,F=this.i(L)&65535,Ie=M.i(U)>>>16,Be=M.i(U)&65535;O[2*L+2*U]+=F*Be,A(O,2*L+2*U),O[2*L+2*U+1]+=z*Be,A(O,2*L+2*U+1),O[2*L+2*U+1]+=F*Ie,A(O,2*L+2*U+1),O[2*L+2*U+2]+=z*Ie,A(O,2*L+2*U+2)}for(L=0;L<P;L++)O[L]=O[2*L+1]<<16|O[2*L];for(L=P;L<2*P;L++)O[L]=0;return new u(O,0)};function A(M,P){for(;(M[P]&65535)!=M[P];)M[P+1]+=M[P]>>>16,M[P]&=65535,P++}function D(M,P){this.g=M,this.h=P}function R(M,P){if(T(P))throw Error("division by zero");if(T(M))return new D(w,w);if(b(M))return P=R(C(M),P),new D(C(P.g),C(P.h));if(b(P))return P=R(M,C(P)),new D(C(P.g),P.h);if(30<M.g.length){if(b(M)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var O=E,L=P;0>=L.l(M);)O=W(O),L=W(L);var U=Z(O,1),z=Z(L,1);for(L=Z(L,2),O=Z(O,2);!T(L);){var F=z.add(L);0>=F.l(M)&&(U=U.add(O),z=F),L=Z(L,1),O=Z(O,1)}return P=k(M,U.j(P)),new D(U,P)}for(U=w;0<=M.l(P);){for(O=Math.max(1,Math.floor(M.m()/P.m())),L=Math.ceil(Math.log(O)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=m(O),F=z.j(P);b(F)||0<F.l(M);)O-=L,z=m(O),F=z.j(P);T(z)&&(z=E),U=U.add(z),M=k(M,F)}return new D(U,M)}t.A=function(M){return R(this,M).h},t.and=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],L=0;L<P;L++)O[L]=this.i(L)&M.i(L);return new u(O,this.h&M.h)},t.or=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],L=0;L<P;L++)O[L]=this.i(L)|M.i(L);return new u(O,this.h|M.h)},t.xor=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],L=0;L<P;L++)O[L]=this.i(L)^M.i(L);return new u(O,this.h^M.h)};function W(M){for(var P=M.g.length+1,O=[],L=0;L<P;L++)O[L]=M.i(L)<<1|M.i(L-1)>>>31;return new u(O,M.h)}function Z(M,P){var O=P>>5;P%=32;for(var L=M.g.length-O,U=[],z=0;z<L;z++)U[z]=0<P?M.i(z+O)>>>P|M.i(z+O+1)<<32-P:M.i(z+O);return new u(U,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Bv=u}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dj,mu,hj,$h,Bg,fj,pj,mj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,S){return h==Array.prototype||h==Object.prototype||(h[y]=S.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<h.length;++y){var S=h[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function o(h,y){if(y)e:{var S=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var q=h[I];if(!(q in S))break e;S=S[q]}h=h[h.length-1],I=S[h],y=y(I),y!=I&&y!=null&&e(S,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var S=0,I=!1,q={next:function(){if(!I&&S<h.length){var Y=S++;return{value:y(Y,h[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(h){return h||function(){return l(this,function(y,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,S){return h.call.apply(h.bind,arguments)}function w(h,y,S){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function E(h,y,S){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function j(h,y){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function T(h,y){function S(){}S.prototype=y.prototype,h.aa=y.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(I,q,Y){for(var he=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)he[ht-2]=arguments[ht];return y.prototype[q].apply(I,he)}}function b(h){const y=h.length;if(0<y){const S=Array(y);for(let I=0;I<y;I++)S[I]=h[I];return S}return[]}function C(h,y){for(let S=1;S<arguments.length;S++){const I=arguments[S];if(p(I)){const q=h.length||0,Y=I.length||0;h.length=q+Y;for(let he=0;he<Y;he++)h[q+he]=I[he]}else h.push(I)}}class k{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function A(h){return/^[\s\xa0]*$/.test(h)}function D(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function R(h){return R[" "](h),h}R[" "]=function(){};var W=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function Z(h,y,S){for(const I in h)y.call(S,h[I],I,h)}function M(h,y){for(const S in h)y.call(void 0,h[S],S,h)}function P(h){const y={};for(const S in h)y[S]=h[S];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,y){let S,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(S in I)h[S]=I[S];for(let Y=0;Y<O.length;Y++)S=O[Y],Object.prototype.hasOwnProperty.call(I,S)&&(h[S]=I[S])}}function U(h){var y=1;h=h.split(":");const S=[];for(;0<y&&h.length;)S.push(h.shift()),y--;return h.length&&S.push(h.join(":")),S}function z(h){d.setTimeout(()=>{throw h},0)}function F(){var h=de;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Ie{constructor(){this.h=this.g=null}add(y,S){const I=Be.get();I.set(y,S),this.h?this.h.next=I:this.g=I,this.h=I}}var Be=new k(()=>new _e,h=>h.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,J=!1,de=new Ie,ue=()=>{const h=d.Promise.resolve(void 0);Ne=()=>{h.then(H)}};var H=()=>{for(var h;h=F();){try{h.h.call(h.g)}catch(S){z(S)}var y=Be;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}J=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};d.addEventListener("test",S,y),d.removeEventListener("test",S,y)}catch{}return h}();function Ue(h,y){if(je.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(W){e:{try{R(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else S=="mouseover"?y=h.fromElement:S=="mouseout"&&(y=h.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Qe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ue.aa.h.call(this)}}T(Ue,je);var Qe={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function We(h,y,S,I,q){this.listener=h,this.proxy=null,this.src=y,this.type=S,this.capture=!!I,this.ha=q,this.key=++Pe,this.da=this.fa=!1}function ze(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ze(h){this.src=h,this.g={},this.h=0}Ze.prototype.add=function(h,y,S,I,q){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var he=Rt(h,y,I,q);return-1<he?(y=h[he],S||(y.fa=!1)):(y=new We(y,this.src,Y,!!I,q),y.fa=S,h.push(y)),y};function nt(h,y){var S=y.type;if(S in h.g){var I=h.g[S],q=Array.prototype.indexOf.call(I,y,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(I,q,1),Y&&(ze(y),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Rt(h,y,S,I){for(var q=0;q<h.length;++q){var Y=h[q];if(!Y.da&&Y.listener==y&&Y.capture==!!S&&Y.ha==I)return q}return-1}var Yt="closure_lm_"+(1e6*Math.random()|0),ar={};function br(h,y,S,I,q){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)br(h,y[Y],S,I,q);return null}return S=wc(S),h&&h[ve]?h.K(y,S,m(I)?!!I.capture:!1,q):Cr(h,y,S,!1,I,q)}function Cr(h,y,S,I,q,Y){if(!y)throw Error("Invalid event type");var he=m(q)?!!q.capture:!!q,ht=Ma(h);if(ht||(h[Yt]=ht=new Ze(h)),S=ht.add(y,S,I,he,Y),S.proxy)return S;if(I=Oa(),S.proxy=I,I.src=h,I.listener=S,h.addEventListener)Le||(q=he),q===void 0&&(q=!1),h.addEventListener(y.toString(),I,q);else if(h.attachEvent)h.attachEvent(Ds(y.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Oa(){function h(S){return y.call(h.src,h.listener,S)}const y=xc;return h}function Nr(h,y,S,I,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Nr(h,y[Y],S,I,q);else I=m(I)?!!I.capture:!!I,S=wc(S),h&&h[ve]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],S=Rt(Y,S,I,q),-1<S&&(ze(Y[S]),Array.prototype.splice.call(Y,S,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=Ma(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Rt(y,S,I,q)),(S=-1<h?y[h]:null)&&Rs(S))}function Rs(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ve])nt(y.i,h);else{var S=h.type,I=h.proxy;y.removeEventListener?y.removeEventListener(S,I,h.capture):y.detachEvent?y.detachEvent(Ds(S),I):y.addListener&&y.removeListener&&y.removeListener(I),(S=Ma(y))?(nt(S,h),S.h==0&&(S.src=null,y[Yt]=null)):ze(h)}}}function Ds(h){return h in ar?ar[h]:ar[h]="on"+h}function xc(h,y){if(h.da)h=!0;else{y=new Ue(y,this);var S=h.listener,I=h.ha||h.src;h.fa&&Rs(h),h=S.call(I,y)}return h}function Ma(h){return h=h[Yt],h instanceof Ze?h:null}var La="__closure_events_fn_"+(1e9*Math.random()>>>0);function wc(h){return typeof h=="function"?h:(h[La]||(h[La]=function(y){return h.handleEvent(y)}),h[La])}function Wt(){te.call(this),this.i=new Ze(this),this.M=this,this.F=null}T(Wt,te),Wt.prototype[ve]=!0,Wt.prototype.removeEventListener=function(h,y,S,I){Nr(this,h,y,S,I)};function qt(h,y){var S,I=h.F;if(I)for(S=[];I;I=I.F)S.push(I);if(h=h.M,I=y.type||y,typeof y=="string")y=new je(y,h);else if(y instanceof je)y.target=y.target||h;else{var q=y;y=new je(I,h),L(y,q)}if(q=!0,S)for(var Y=S.length-1;0<=Y;Y--){var he=y.g=S[Y];q=Os(he,I,!0,y)&&q}if(he=y.g=h,q=Os(he,I,!0,y)&&q,q=Os(he,I,!1,y)&&q,S)for(Y=0;Y<S.length;Y++)he=y.g=S[Y],q=Os(he,I,!1,y)&&q}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var S=h.g[y],I=0;I<S.length;I++)ze(S[I]);delete h.g[y],h.h--}}this.F=null},Wt.prototype.K=function(h,y,S,I){return this.i.add(String(h),y,!1,S,I)},Wt.prototype.L=function(h,y,S,I){return this.i.add(String(h),y,!0,S,I)};function Os(h,y,S,I){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Y=0;Y<y.length;++Y){var he=y[Y];if(he&&!he.da&&he.capture==S){var ht=he.listener,Gt=he.ha||he.src;he.fa&&nt(h.i,he),q=ht.call(Gt,I)!==!1&&q}}return q&&!I.defaultPrevented}function _c(h,y,S){if(typeof h=="function")S&&(h=E(h,S));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function yi(h){h.g=_c(()=>{h.g=null,h.i&&(h.i=!1,yi(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class To extends te{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Io(h){te.call(this),this.h=h,this.g={}}T(Io,te);var Ec=[];function jc(h){Z(h.g,function(y,S){this.g.hasOwnProperty(S)&&Rs(y)},h),h.g={}}Io.prototype.N=function(){Io.aa.N.call(this),jc(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sc=d.JSON.stringify,bc=d.JSON.parse,Cc=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Po(){}Po.prototype.h=null;function Fa(h){return h.h||(h.h=h.i())}function Va(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){je.call(this,"d")}T(rs,je);function Ua(){je.call(this,"c")}T(Ua,je);var ss={},Nc=null;function Ao(){return Nc=Nc||new Wt}ss.La="serverreachability";function Tc(h){je.call(this,ss.La,h)}T(Tc,je);function Ms(h){const y=Ao();qt(y,new Tc(y))}ss.STAT_EVENT="statevent";function Ic(h,y){je.call(this,ss.STAT_EVENT,h),this.stat=y}T(Ic,je);function Lt(h){const y=Ao();qt(y,new Ic(y,h))}ss.Ma="timingevent";function za(h,y){je.call(this,ss.Ma,h),this.size=y}T(za,je);function Tr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function Ro(h,y,S,I,q,Y){h.info(function(){if(h.g)if(Y)for(var he="",ht=Y.split("&"),Gt=0;Gt<ht.length;Gt++){var st=ht[Gt].split("=");if(1<st.length){var Xt=st[0];st=st[1];var zt=Xt.split("_");he=2<=zt.length&&zt[1]=="type"?he+(Xt+"="+st+"&"):he+(Xt+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+y+`
`+S+`
`+he})}function Ba(h,y,S,I,q,Y,he){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+y+`
`+S+`
`+Y+" "+he})}function Ir(h,y,S,I){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+yp(h,S)+(I?" "+I:"")})}function Pc(h,y){h.info(function(){return"TIMEOUT: "+y})}ko.prototype.info=function(){};function yp(h,y){if(!h.g)return y;if(!y)return null;try{var S=JSON.parse(y);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var I=S[h];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<q.length;he++)q[he]=""}}}}return Sc(S)}catch{return y}}var $a={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},od={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pr;function Do(){}T(Do,Po),Do.prototype.g=function(){return new XMLHttpRequest},Do.prototype.i=function(){return{}},Pr=new Do;function Ar(h,y,S,I){this.j=h,this.i=y,this.l=S,this.R=I||1,this.U=new Io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ad}function ad(){this.i=null,this.g="",this.h=!1}var Ac={},Ha={};function Wa(h,y,S){h.L=1,h.v=ji(Qn(y)),h.m=S,h.P=!0,kc(h,null)}function kc(h,y){h.F=Date.now(),yt(h),h.A=Qn(h.v);var S=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),bi(S.i,"t",I),h.C=0,S=h.j.J,h.h=new ad,h.g=bd(h.j,S?y:null,!h.m),0<h.O&&(h.M=new To(E(h.Y,h,h.g),h.O)),y=h.U,S=h.g,I=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ec[0]=q.toString()),q=Ec);for(var Y=0;Y<q.length;Y++){var he=br(S,q[Y],I||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=h.H?P(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ms(),Ro(h.i,h.u,h.A,h.l,h.R,h.m)}Ar.prototype.ca=function(h){h=h.target;const y=this.M;y&&Ln(h)==3?y.j():this.Y(h)},Ar.prototype.Y=function(h){try{if(h==this.g)e:{const zt=Ln(this.g);var y=this.g.Ba();const dr=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Fc(this.g)))){this.J||zt!=4||y==7||(y==8||0>=dr?Ms(3):Ms(2)),Oo(this);var S=this.g.Z();this.X=S;t:if(ld(this)){var I=Fc(this.g);h="";var q=I.length,Y=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),xi(this);var he="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(I[y],{stream:!(Y&&y==q-1)});I.length=0,this.h.g+=h,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=S==200,Ba(this.i,this.u,this.A,this.l,this.R,zt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Gt=this.g;if((ht=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(ht)){var st=ht;break t}}st=null}if(S=st)Ir(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rc(this,S);else{this.o=!1,this.s=3,Lt(12),cr(this),xi(this);break e}}if(this.P){S=!0;let Yn;for(;!this.J&&this.C<he.length;)if(Yn=xp(this,he),Yn==Ha){zt==4&&(this.s=4,Lt(14),S=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Ac){this.s=4,Lt(15),Ir(this.i,this.l,he,"[Invalid Chunk]"),S=!1;break}else Ir(this.i,this.l,Yn,null),Rc(this,Yn);if(ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||he.length!=0||this.h.h||(this.s=1,Lt(16),S=!1),this.o=this.o&&S,!S)Ir(this.i,this.l,he,"[Invalid Chunked Response]"),cr(this),xi(this);else if(0<he.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Uc(Xt),Xt.M=!0,Lt(11))}}else Ir(this.i,this.l,he,null),Rc(this,he);zt==4&&cr(this),this.o&&!this.J&&(zt==4?nl(this.j,this):(this.o=!1,yt(this)))}else Xa(this.g),S==400&&0<he.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),cr(this),xi(this)}}}catch{}finally{}};function ld(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function xp(h,y){var S=h.C,I=y.indexOf(`
`,S);return I==-1?Ha:(S=Number(y.substring(S,I)),isNaN(S)?Ac:(I+=1,I+S>y.length?Ha:(y=y.slice(I,I+S),h.C=I+S,y)))}Ar.prototype.cancel=function(){this.J=!0,cr(this)};function yt(h){h.S=Date.now()+h.I,cd(h,h.I)}function cd(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Tr(E(h.ba,h),y)}function Oo(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Ar.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Pc(this.i,this.A),this.L!=2&&(Ms(),Lt(17)),cr(this),this.s=2,xi(this)):cd(this,this.S-h)};function xi(h){h.j.G==0||h.J||nl(h.j,h)}function cr(h){Oo(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,jc(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Rc(h,y){try{var S=h.j;if(S.G!=0&&(S.g==h||Tn(S.h,h))){if(!h.K&&Tn(S.h,h)&&S.G==3){try{var I=S.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)tl(S),Mr(S);else break e;el(S),Lt(18)}}else S.za=q[1],0<S.za-S.T&&37500>q[2]&&S.F&&S.v==0&&!S.C&&(S.C=Tr(E(S.Za,S),6e3));if(1>=dd(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else zs(S,11)}else if((h.K||S.g==h)&&tl(S),!A(y))for(q=S.Da.g.parse(y),y=0;y<q.length;y++){let st=q[y];if(S.T=st[0],st=st[1],S.G==2)if(st[0]=="c"){S.K=st[1],S.ia=st[2];const Xt=st[3];Xt!=null&&(S.la=Xt,S.j.info("VER="+S.la));const zt=st[4];zt!=null&&(S.Aa=zt,S.j.info("SVER="+S.Aa));const dr=st[5];dr!=null&&typeof dr=="number"&&0<dr&&(I=1.5*dr,S.L=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const Yn=h.g;if(Yn){const Bo=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var Y=I.h;Y.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Dc(Y,Y.h),Y.h=null))}if(I.D){const sl=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(I.ya=sl,vt(I.I,I.D,sl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),I=S;var he=h;if(I.qa=Sd(I,I.J?I.ia:null,I.W),he.K){hd(I.h,he);var ht=he,Gt=I.L;Gt&&(ht.I=Gt),ht.B&&(Oo(ht),yt(ht)),I.g=he}else zo(I);0<S.i.length&&ls(S)}else st[0]!="stop"&&st[0]!="close"||zs(S,7);else S.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?zs(S,7):sn(S):st[0]!="noop"&&S.l&&S.l.ta(st),S.v=0)}}Ms(4)}catch{}}var ud=class{constructor(h,y){this.g=h,this.map=y}};function Mo(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function dd(h){return h.h?1:h.g?h.g.size:0}function Tn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Dc(h,y){h.g?h.g.add(y):h.h=y}function hd(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Mo.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fd(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const S of h.g.values())y=y.concat(S.D);return y}return b(h.i)}function qa(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],S=h.length,I=0;I<S;I++)y.push(h[I]);return y}y=[],S=0;for(I in h)y[S++]=h[I];return y}function Ga(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var S=0;S<h;S++)y.push(S);return y}y=[],S=0;for(const I in h)y[S++]=I;return y}}}function wi(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var S=Ga(h),I=qa(h),q=I.length,Y=0;Y<q;Y++)y.call(void 0,I[Y],S&&S[Y],h)}var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wp(h,y){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var I=h[S].indexOf("="),q=null;if(0<=I){var Y=h[S].substring(0,I);q=h[S].substring(I+1)}else Y=h[S];y(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ls(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ls){this.h=h.h,Fo(this,h.j),this.o=h.o,this.g=h.g,_i(this,h.s),this.l=h.l;var y=h.i,S=new is;S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),Ei(this,S),this.m=h.m}else h&&(y=String(h).match(Lo))?(this.h=!1,Fo(this,y[1]||"",!0),this.o=rt(y[2]||""),this.g=rt(y[3]||"",!0),_i(this,y[4]),this.l=rt(y[5]||"",!0),Ei(this,y[6]||"",!0),this.m=rt(y[7]||"")):(this.h=!1,this.i=new is(null,this.h))}Ls.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Si(y,Qa,!0),":");var S=this.g;return(S||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Si(y,Qa,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Si(S,S.charAt(0)=="/"?gd:md,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Si(S,Oc)),h.join("")};function Qn(h){return new Ls(h)}function Fo(h,y,S){h.j=S?rt(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function _i(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Ei(h,y,S){y instanceof is?(h.i=y,os(h.i,h.h)):(S||(y=Si(y,vd)),h.i=new is(y,h.h))}function vt(h,y,S){h.i.set(y,S)}function ji(h){return vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function rt(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Si(h,y,S){return typeof h=="string"?(h=encodeURI(h).replace(y,pd),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Qa=/[#\/\?@]/g,md=/[#\?:]/g,gd=/[#\?]/g,vd=/[#\?@]/g,Oc=/#/g;function is(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function rn(h){h.g||(h.g=new Map,h.h=0,h.i&&wp(h.i,function(y,S){h.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}t=is.prototype,t.add=function(h,y){rn(this),this.i=null,h=ur(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(y),this.h+=1,this};function kr(h,y){rn(h),y=ur(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Rr(h,y){return rn(h),y=ur(h,y),h.g.has(y)}t.forEach=function(h,y){rn(this),this.g.forEach(function(S,I){S.forEach(function(q){h.call(y,q,I,this)},this)},this)},t.na=function(){rn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),S=[];for(let I=0;I<y.length;I++){const q=h[I];for(let Y=0;Y<q.length;Y++)S.push(y[I])}return S},t.V=function(h){rn(this);let y=[];if(typeof h=="string")Rr(this,h)&&(y=y.concat(this.g.get(ur(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)y=y.concat(h[S])}return y},t.set=function(h,y){return rn(this),this.i=null,h=ur(this,h),Rr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function bi(h,y,S){kr(h,y),0<S.length&&(h.i=null,h.g.set(ur(h,y),b(S)),h.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var S=0;S<y.length;S++){var I=y[S];const Y=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var q=Y;he[I]!==""&&(q+="="+encodeURIComponent(String(he[I]))),h.push(q)}}return this.i=h.join("&")};function ur(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function os(h,y){y&&!h.j&&(rn(h),h.i=null,h.g.forEach(function(S,I){var q=I.toLowerCase();I!=q&&(kr(this,I),bi(this,q,S))},h)),h.j=y}function _p(h,y){const S=new ko;if(d.Image){const I=new Image;I.onload=j(Mn,S,"TestLoadImage: loaded",!0,y,I),I.onerror=j(Mn,S,"TestLoadImage: error",!1,y,I),I.onabort=j(Mn,S,"TestLoadImage: abort",!1,y,I),I.ontimeout=j(Mn,S,"TestLoadImage: timeout",!1,y,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else y(!1)}function yd(h,y){const S=new ko,I=new AbortController,q=setTimeout(()=>{I.abort(),Mn(S,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:I.signal}).then(Y=>{clearTimeout(q),Y.ok?Mn(S,"TestPingServer: ok",!0,y):Mn(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Mn(S,"TestPingServer: error",!1,y)})}function Mn(h,y,S,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(S)}catch{}}function Ep(){this.g=new Cc}function xd(h,y,S){const I=S||"";try{wi(h,function(q,Y){let he=q;m(q)&&(he=Sc(q)),y.push(I+Y+"="+encodeURIComponent(he))})}catch(q){throw y.push(I+"type="+encodeURIComponent("_badmap")),q}}function Fs(h){this.l=h.Ub||null,this.j=h.eb||!1}T(Fs,Po),Fs.prototype.g=function(){return new Vo(this.l,this.j)},Fs.prototype.i=function(h){return function(){return h}}({});function Vo(h,y){Wt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Vo,Wt),t=Vo.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Or(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wd(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function wd(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Dr(this):Or(this),this.readyState==3&&wd(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Dr(this))},t.Qa=function(h){this.g&&(this.response=h,Dr(this))},t.ga=function(){this.g&&Dr(this)};function Dr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Or(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=y.next();return h.join(`\r
`)};function Or(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vs(h){let y="";return Z(h,function(S,I){y+=I,y+=":",y+=S,y+=`\r
`}),y}function Ci(h,y,S){e:{for(I in S){var I=!1;break e}I=!0}I||(S=Vs(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):vt(h,y,S))}function St(h){Wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(St,Wt);var jp=/^https?$/i,Mc=["POST","PUT"];t=St.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pr.g(),this.v=this.o?Fa(this.o):Fa(Pr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Uo(this,Y);return}if(h=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)S.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())S.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Mc,y,void 0))||I||q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of S)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Uo(this,Y)}};function Uo(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ka(h),Kn(h)}function Ka(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,qt(this,"complete"),qt(this,"abort"),Kn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lc(this):this.bb())},t.bb=function(){Lc(this)};function Lc(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Ln(h)!=4||h.Z()!=2)){if(h.u&&Ln(h)==4)_c(h.Ea,0,h);else if(qt(h,"readystatechange"),Ln(h)==4){h.h=!1;try{const he=h.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var I;if(I=he===0){var q=String(h.D).match(Lo)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),I=!jp.test(q?q.toLowerCase():"")}S=I}if(S)qt(h,"complete"),qt(h,"success");else{h.m=6;try{var Y=2<Ln(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",Ka(h)}}finally{Kn(h)}}}}function Kn(h,y){if(h.g){Ya(h);const S=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||qt(h,"ready");try{S.onreadystatechange=I}catch{}}}function Ya(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Ln(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),bc(y)}};function Fc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xa(h){const y={};h=(h.g&&2<=Ln(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(A(h[I]))continue;var S=U(h[I]);const q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Y=y[q]||[];y[q]=Y,Y.push(S)}M(y,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(h,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||y}function Vc(h){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,h),this.cb=as("retryDelaySeedMs",1e4,h),this.Wa=as("forwardChannelMaxRetries",2,h),this.wa=as("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Mo(h&&h.concurrentRequestLimit),this.Da=new Ep,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vc.prototype,t.la=8,t.G=1,t.connect=function(h,y,S,I){Lt(0),this.W=h,this.H=y||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.I=Sd(this,null,this.W),ls(this)};function sn(h){if(Ja(h),h.G==3){var y=h.U++,S=Qn(h.I);if(vt(S,"SID",h.K),vt(S,"RID",y),vt(S,"TYPE","terminate"),Us(h,S),y=new Ar(h,h.j,y),y.L=2,y.v=ji(Qn(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!S&&d.Image&&(new Image().src=y.v,S=!0),S||(y.g=bd(y.j,null),y.g.ea(y.v)),y.F=Date.now(),yt(y)}jd(h)}function Mr(h){h.g&&(Uc(h),h.g.cancel(),h.g=null)}function Ja(h){Mr(h),h.u&&(d.clearTimeout(h.u),h.u=null),tl(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ls(h){if(!Gn(h.h)&&!h.s){h.s=!0;var y=h.Ga;Ne||ue(),J||(Ne(),J=!0),de.add(y,h),h.B=0}}function Sp(h,y){return dd(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Tr(E(h.Ga,h,y),Ed(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new Ar(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=P(Y),L(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=Ni(this,q,y),S=Qn(this.I),vt(S,"RID",h),vt(S,"CVER",22),this.D&&vt(S,"X-HTTP-Session-Id",this.D),Us(this,S),Y&&(this.O?y="headers="+encodeURIComponent(String(Vs(Y)))+"&"+y:this.m&&Ci(S,this.m,Y)),Dc(this.h,q),this.Ua&&vt(S,"TYPE","init"),this.P?(vt(S,"$req",y),vt(S,"SID","null"),q.T=!0,Wa(q,S,null)):Wa(q,S,y),this.G=2}}else this.G==3&&(h?Za(this,h):this.i.length==0||Gn(this.h)||Za(this))};function Za(h,y){var S;y?S=y.l:S=h.U++;const I=Qn(h.I);vt(I,"SID",h.K),vt(I,"RID",S),vt(I,"AID",h.T),Us(h,I),h.m&&h.o&&Ci(I,h.m,h.o),S=new Ar(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Ni(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Dc(h.h,S),Wa(S,I,y)}function Us(h,y){h.H&&Z(h.H,function(S,I){vt(y,I,S)}),h.l&&wi({},function(S,I){vt(y,I,S)})}function Ni(h,y,S){S=Math.min(h.i.length,S);var I=h.l?E(h.l.Na,h.l,h):null;e:{var q=h.i;let Y=-1;for(;;){const he=["count="+S];Y==-1?0<S?(Y=q[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let ht=!0;for(let Gt=0;Gt<S;Gt++){let st=q[Gt].g;const Xt=q[Gt].map;if(st-=Y,0>st)Y=Math.max(0,q[Gt].g-100),ht=!1;else try{xd(Xt,he,"req"+st+"_")}catch{I&&I(Xt)}}if(ht){I=he.join("&");break e}}}return h=h.i.splice(0,S),y.D=h,I}function zo(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Ne||ue(),J||(Ne(),J=!0),de.add(y,h),h.v=0}}function el(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Tr(E(h.Fa,h),Ed(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,_d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Tr(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Mr(this),_d(this))};function Uc(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function _d(h){h.g=new Ar(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Qn(h.qa);vt(y,"RID","rpc"),vt(y,"SID",h.K),vt(y,"AID",h.T),vt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&vt(y,"TO",h.ja),vt(y,"TYPE","xmlhttp"),Us(h,y),h.m&&h.o&&Ci(y,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=ji(Qn(y)),S.m=null,S.P=!0,kc(S,h)}t.Za=function(){this.C!=null&&(this.C=null,Mr(this),el(this),Lt(19))};function tl(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function nl(h,y){var S=null;if(h.g==y){tl(h),Uc(h),h.g=null;var I=2}else if(Tn(h.h,y))S=y.D,hd(h.h,y),I=1;else return;if(h.G!=0){if(y.o)if(I==1){S=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;I=Ao(),qt(I,new za(I,S)),ls(h)}else zo(h);else if(q=y.s,q==3||q==0&&0<y.X||!(I==1&&Sp(h,y)||I==2&&el(h)))switch(S&&0<S.length&&(y=h.h,y.i=y.i.concat(S)),q){case 1:zs(h,5);break;case 4:zs(h,10);break;case 3:zs(h,6);break;default:zs(h,2)}}}function Ed(h,y){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*y}function zs(h,y){if(h.j.info("Error code "+y),y==2){var S=E(h.fb,h),I=h.Xa;const q=!I;I=new Ls(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fo(I,"https"),ji(I),q?_p(I.toString(),S):yd(I.toString(),S)}else Lt(2);h.G=0,h.l&&h.l.sa(y),jd(h),Ja(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function jd(h){if(h.G=0,h.ka=[],h.l){const y=fd(h.h);(y.length!=0||h.i.length!=0)&&(C(h.ka,y),C(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function Sd(h,y,S){var I=S instanceof Ls?Qn(S):new Ls(S);if(I.g!="")y&&(I.g=y+"."+I.g),_i(I,I.s);else{var q=d.location;I=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Y=new Ls(null);I&&Fo(Y,I),y&&(Y.g=y),q&&_i(Y,q),S&&(Y.l=S),I=Y}return S=h.D,y=h.ya,S&&y&&vt(I,S,y),vt(I,"VER",h.la),Us(h,I),I}function bd(h,y,S){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new St(new Fs({eb:S})):new St(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zc(){}t=zc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rl(){}rl.prototype.g=function(h,y){return new In(h,y)};function In(h,y){Wt.call(this),this.g=new Vc(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!A(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!A(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new cs(this)}T(In,Wt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){sn(this.g)},In.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Sc(h),h=S);y.i.push(new ud(y.Ya++,h)),y.G==3&&ls(y)},In.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,In.aa.N.call(this)};function Cd(h){rs.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const S in y){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Cd,rs);function Nd(){Ua.call(this),this.status=1}T(Nd,Ua);function cs(h){this.g=h}T(cs,zc),cs.prototype.ua=function(){qt(this.g,"a")},cs.prototype.ta=function(h){qt(this.g,new Cd(h))},cs.prototype.sa=function(h){qt(this.g,new Nd)},cs.prototype.ra=function(){qt(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,mj=function(){return new rl},pj=function(){return Ao()},fj=ss,Bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$a.NO_ERROR=0,$a.TIMEOUT=8,$a.HTTP_ERROR=6,$h=$a,od.COMPLETE="complete",hj=od,Va.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,mu=Va,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,dj=St}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",a_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Rv("@firebase/firestore");function Pl(){return ga.logLevel}function be(t,...e){if(ga.logLevel<=tt.DEBUG){const n=e.map($v);ga.debug(`Firestore (${hc}): ${t}`,...n)}}function va(t,...e){if(ga.logLevel<=tt.ERROR){const n=e.map($v);ga.error(`Firestore (${hc}): ${t}`,...n)}}function Yl(t,...e){if(ga.logLevel<=tt.WARN){const n=e.map($v);ga.warn(`Firestore (${hc}): ${t}`,...n)}}function $v(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gj(t,r,n)}function gj(t,e,n){let r=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw va(r),new Error(r)}function Mt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||gj(e,o,r)}function wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vD{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let l=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ua,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ua)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt(typeof r.accessToken=="string",31837,{l:r}),new vj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class yD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Mt(this.o===void 0,3512);const r=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new l_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=_D(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function $g(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),o=e.codePointAt(n);if(r!==o){if(r<128&&o<128)return lt(r,o);{const l=ED(),u=jD(l.encode(c_(t,n)),l.encode(c_(e,n)));return u!==0?u:lt(r,o)}}n+=r>65535?2:1}return lt(t.length,e.length)}function c_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function jD(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return lt(t[n],e[n]);return lt(t.length,e.length)}function Xl(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=ps.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return lt(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),o=ps.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ps.extractNumericId(e).compare(ps.extractNumericId(n)):$g(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bv.fromString(e.substring(4,e.length-2))}}class Vt extends ps{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ps{construct(e,n,r){return new dn(e,n,r)}static isValidIdentifier(e){return SD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u_}static keyField(){return new dn([u_])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new Oe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Oe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Oe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(l(),o++)}if(l(),u)throw new Oe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Vt.fromString(e))}static fromName(e){return new Xe(Vt.fromString(e).popFirst(5))}static empty(){return new Xe(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e,n){if(!n)throw new Oe(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CD(t,e,n,r){if(e===!0&&r===!0)throw new Oe(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d_(t){if(!Xe.isDocumentKey(t))throw new Oe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je(12329,{type:typeof t})}function Hg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wv(t);throw new Oe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xu(t,e){if(!yj(t))throw new Oe(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new Oe(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-62135596800,f_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*f_);return new Tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h_)throw new Oe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f_}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-h_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Ht("string",Tt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Tt(0,0))}static max(){return new Nt(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function ND(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new mo(o,Xe.empty(),e)}function TD(t){return new mo(t.readTime,t.key,ku)}class mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mo(Nt.min(),Xe.empty(),ku)}static max(){return new mo(Nt.max(),Xe.empty(),ku)}}function ID(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==PD)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let o=0,l=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++l,u&&l===o&&n()},p=>r(p))}),u=!0,l===o&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(o=>o?re.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,l)=>{r.push(n.call(this,o,l))}),this.waitFor(r)}static mapArray(e,n){return new re((r,o)=>{const l=e.length,u=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(v=>{u[m]=v,++d,d===l&&r(u)},v=>o(v))}})}static doWhile(e,n){return new re((r,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):r()};l()})}}function kD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ju(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Gv.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=-1;function Kv(t){return t==null}function hf(t){return t===0&&1/t==-1/0}function RD(t){return typeof t=="number"&&Number.isInteger(t)&&!hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="";function DD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=p_(e)),e=OD(t.get(n),e);return p_(e)}function OD(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case xj:n+="";break;default:n+=l}}return n}function p_(t){return t+xj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new qn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r??cn.RED,this.left=o??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new cn(e??this.key,n??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Je(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Je(57766)}get value(){throw Je(16141)}get color(){throw Je(16727)}get left(){throw Je(29726)}get right(){throw Je(36894)}copy(e,n,r,o,l){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Xr([])}unionWith(e){let n=new mn(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new MD("Invalid base64 string: "+l):l}}(e);return new Ss(n)}static fromUint8Array(e){const n=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new Ss(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ss.EMPTY_BYTE_STRING=new Ss("");const LD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(t){if(Mt(!!t,39018),typeof t=="string"){let e=0;const n=LD.exec(t);if(Mt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jl(t){return typeof t=="string"?Ss.fromBase64String(t):Ss.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="server_timestamp",Ej="__type__",jj="__previous_value__",Sj="__local_write_time__";function Yv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ej])===null||n===void 0?void 0:n.stringValue)===_j}function Xv(t){const e=t.mapValue.fields[jj];return Yv(e)?Xv(e):e}function ff(t){const e=ya(t.mapValue.fields[Sj].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,o,l,u,d,p,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const pf="(default)";class mf{constructor(e,n){this.projectId=e,this.database=n||pf}static empty(){return new mf("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof mf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="__type__",VD="__max__",Nh={mapValue:{}},Cj="__vector__",Wg="value";function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yv(t)?4:zD(t)?9007199254740991:UD(t)?10:11:Je(28295,{value:t})}function bs(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ff(t).isEqual(ff(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=ya(o.timestampValue),d=ya(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return Jl(o.bytesValue).isEqual(Jl(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return un(o.geoPointValue.latitude)===un(l.geoPointValue.latitude)&&un(o.geoPointValue.longitude)===un(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return un(o.integerValue)===un(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=un(o.doubleValue),d=un(l.doubleValue);return u===d?hf(u)===hf(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},d=l.mapValue.fields||{};if(m_(u)!==m_(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!bs(u[p],d[p])))return!1;return!0}(t,e);default:return Je(52216,{left:t})}}function Ru(t,e){return(t.values||[]).find(n=>bs(n,e))!==void 0}function Zl(t,e){if(t===e)return 0;const n=xa(t),r=xa(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(l,u){const d=un(l.integerValue||l.doubleValue),p=un(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return v_(t.timestampValue,e.timestampValue);case 4:return v_(ff(t),ff(e));case 5:return $g(t.stringValue,e.stringValue);case 6:return function(l,u){const d=Jl(l),p=Jl(u);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),p=u.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=lt(d[m],p[m]);if(v!==0)return v}return lt(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const d=lt(un(l.latitude),un(u.latitude));return d!==0?d:lt(un(l.longitude),un(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return y_(t.arrayValue,e.arrayValue);case 10:return function(l,u){var d,p,m,v;const w=l.fields||{},E=u.fields||{},j=(d=w[Wg])===null||d===void 0?void 0:d.arrayValue,T=(p=E[Wg])===null||p===void 0?void 0:p.arrayValue,b=lt(((m=j==null?void 0:j.values)===null||m===void 0?void 0:m.length)||0,((v=T==null?void 0:T.values)===null||v===void 0?void 0:v.length)||0);return b!==0?b:y_(j,T)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===Nh.mapValue&&u===Nh.mapValue)return 0;if(l===Nh.mapValue)return 1;if(u===Nh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=u.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const E=$g(p[w],v[w]);if(E!==0)return E;const j=Zl(d[p[w]],m[v[w]]);if(j!==0)return j}return lt(p.length,v.length)}(t.mapValue,e.mapValue);default:throw Je(23264,{le:n})}}function v_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=ya(t),r=ya(e),o=lt(n.seconds,r.seconds);return o!==0?o:lt(n.nanos,r.nanos)}function y_(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=Zl(n[o],r[o]);if(l)return l}return lt(n.length,r.length)}function ec(t){return qg(t)}function qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ya(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=qg(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${qg(n.fields[u])}`;return o+"}"}(t.mapValue):Je(61005,{value:t})}function Hh(t){switch(xa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xv(t);return e?16+Hh(e):16;case 5:return 2*t.stringValue.length;case 6:return Jl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+Hh(l),0)}(t.arrayValue);case 10:case 11:return function(r){let o=0;return fc(r.fields,(l,u)=>{o+=l.length+Hh(u)}),o}(t.mapValue);default:throw Je(13486,{value:t})}}function Gg(t){return!!t&&"integerValue"in t}function Jv(t){return!!t&&"arrayValue"in t}function Wh(t){return!!t&&"mapValue"in t}function UD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[bj])===null||n===void 0?void 0:n.stringValue)===Cj}function wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=dn.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=d.popLast()}u?r[d.lastSegment()]=wu(u):o.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){fc(n,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Qr(wu(this.value))}}function Nj(t){const e=[];return fc(t.fields,(n,r)=>{const o=new dn([n]);if(Wh(r)){const l=Nj(r.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,r,o,l,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gr(e,0,Nt.min(),Nt.min(),Nt.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,o){return new Gr(e,1,n,Nt.min(),r,o,0)}static newNoDocument(e,n){return new Gr(e,2,n,Nt.min(),Nt.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new Gr(e,3,n,Nt.min(),Nt.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.position=e,this.inclusive=n}}function x_(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?r=Xe.comparator(Xe.fromName(u.referenceValue),n.key):r=Zl(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function w_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n="asc"){this.field=e,this.dir=n}}function BD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tj=class{};class nn extends Tj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HD(e,n,r):n==="array-contains"?new GD(e,r):n==="in"?new QD(e,r):n==="not-in"?new KD(e,r):n==="array-contains-any"?new YD(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WD(e,r):new qD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&xa(this.value)===xa(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends Tj{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new go(e,n)}matches(e){return Ij(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ij(t){return t.op==="and"}function Pj(t){return $D(t)&&Ij(t)}function $D(t){for(const e of t.filters)if(e instanceof go)return!1;return!0}function Qg(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(Pj(t))return t.filters.map(e=>Qg(e)).join(",");{const e=t.filters.map(n=>Qg(n)).join(",");return`${t.op}(${e})`}}function Aj(t,e){return t instanceof nn?function(r,o){return o instanceof nn&&r.op===o.op&&r.field.isEqual(o.field)&&bs(r.value,o.value)}(t,e):t instanceof go?function(r,o){return o instanceof go&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,u,d)=>l&&Aj(u,o.filters[d]),!0):!1}(t,e):void Je(19439)}function kj(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`}(t):t instanceof go?function(n){return n.op.toString()+" {"+n.getFilters().map(kj).join(" ,")+"}"}(t):"Filter"}class HD extends nn{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class WD extends nn{constructor(e,n){super(e,"in",n),this.keys=Rj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qD extends nn{constructor(e,n){super(e,"not-in",n),this.keys=Rj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class GD extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jv(n)&&Ru(n.arrayValue,this.value)}}class QD extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class KD extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class YD extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n=null,r=[],o=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=u,this.endAt=d,this.Pe=null}}function __(t,e=null,n=[],r=[],o=null,l=null,u=null){return new XD(t,e,n,r,o,l,u)}function Zv(t){const e=wt(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Kv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ec(r)).join(",")),e.Pe=n}return e.Pe}function ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Aj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w_(t.startAt,e.startAt)&&w_(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n=null,r=[],o=[],l=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function JD(t,e,n,r,o,l,u,d){return new Gf(t,e,n,r,o,l,u,d)}function ZD(t){return new Gf(t)}function E_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function e4(t){return t.collectionGroup!==null}function _u(t){const e=wt(t);if(e.Te===null){e.Te=[];const n=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new mn(dn.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Te.push(new vf(l,r))}),n.has(dn.keyField().canonicalString())||e.Te.push(new vf(dn.keyField(),r))}return e.Te}function da(t){const e=wt(t);return e.Ie||(e.Ie=t4(e,_u(t))),e.Ie}function t4(t,e){if(t.limitType==="F")return __(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new vf(o.field,l)});const n=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;return __(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kg(t,e,n){return new Gf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dj(t,e){return ey(da(t),da(e))&&t.limitType===e.limitType}function Oj(t){return`${Zv(da(t))}|lt:${t.limitType}`}function hu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>kj(o)).join(", ")}]`),Kv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>ec(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>ec(o)).join(",")),`Target(${r})`}(da(t))}; limitType=${t.limitType})`}function ty(t,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Xe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,o){for(const l of _u(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(u,d,p){const m=x_(u,d,p);return u.inclusive?m<=0:m<0}(r.startAt,_u(r),o)||r.endAt&&!function(u,d,p){const m=x_(u,d,p);return u.inclusive?m>=0:m>0}(r.endAt,_u(r),o))}(t,e)}function n4(t){return(e,n)=>{let r=!1;for(const o of _u(t)){const l=r4(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function r4(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):function(l,u,d){const p=u.data.field(l),m=d.data.field(l);return p!==null&&m!==null?Zl(p,m):Je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fc(this.inner,(n,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return wj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new qn(Xe.comparator);function yf(){return s4}const Mj=new qn(Xe.comparator);function Th(...t){let e=Mj;for(const n of t)e=e.insert(n.key,n);return e}function Lj(t){let e=Mj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ra(){return Eu()}function Fj(){return Eu()}function Eu(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const i4=new qn(Xe.comparator),o4=new mn(Xe.comparator);function Sn(...t){let e=o4;for(const n of t)e=e.add(n);return e}const a4=new mn(lt);function l4(){return a4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(e)?"-0":e}}function Vj(t){return{integerValue:""+t}}function c4(t,e){return RD(e)?Vj(e):ny(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this._=void 0}}function u4(t,e,n){return t instanceof xf?function(o,l){const u={fields:{[Ej]:{stringValue:_j},[Sj]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yv(l)&&(l=Xv(l)),l&&(u.fields[jj]=l),{mapValue:u}}(n,e):t instanceof Du?zj(t,e):t instanceof Ou?Bj(t,e):function(o,l){const u=Uj(o,l),d=j_(u)+j_(o.Ee);return Gg(u)&&Gg(o.Ee)?Vj(d):ny(o.serializer,d)}(t,e)}function d4(t,e,n){return t instanceof Du?zj(t,e):t instanceof Ou?Bj(t,e):n}function Uj(t,e){return t instanceof wf?function(r){return Gg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class xf extends Qf{}class Du extends Qf{constructor(e){super(),this.elements=e}}function zj(t,e){const n=$j(e);for(const r of t.elements)n.some(o=>bs(o,r))||n.push(r);return{arrayValue:{values:n}}}class Ou extends Qf{constructor(e){super(),this.elements=e}}function Bj(t,e){let n=$j(e);for(const r of t.elements)n=n.filter(o=>!bs(o,r));return{arrayValue:{values:n}}}class wf extends Qf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function j_(t){return un(t.integerValue||t.doubleValue)}function $j(t){return Jv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h4(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Du&&o instanceof Du||r instanceof Ou&&o instanceof Ou?Xl(r.elements,o.elements,bs):r instanceof wf&&o instanceof wf?bs(r.Ee,o.Ee):r instanceof xf&&o instanceof xf}(t.transform,e.transform)}class f4{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kf{}function Hj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qj(t.key,ri.none()):new Zu(t.key,t.data,ri.none());{const n=t.data,r=Qr.empty();let o=new mn(dn.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),o=o.add(l)}return new Aa(t.key,r,new Xr(o.toArray()),ri.none())}}function p4(t,e,n){t instanceof Zu?function(o,l,u){const d=o.value.clone(),p=b_(o.fieldTransforms,l,u.transformResults);d.setAll(p),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Aa?function(o,l,u){if(!qh(o.precondition,l))return void l.convertToUnknownDocument(u.version);const d=b_(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(Wj(o)),p.setAll(d),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(t,e,n):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function ju(t,e,n,r){return t instanceof Zu?function(l,u,d,p){if(!qh(l.precondition,u))return d;const m=l.value.clone(),v=C_(l.fieldTransforms,p,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Aa?function(l,u,d,p){if(!qh(l.precondition,u))return d;const m=C_(l.fieldTransforms,p,u),v=u.data;return v.setAll(Wj(l)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(l,u,d){return qh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function m4(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=Uj(r.transform,o||null);l!=null&&(n===null&&(n=Qr.empty()),n.set(r.field,l))}return n||null}function S_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Xl(r,o,(l,u)=>h4(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends Kf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends Kf{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Wj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function b_(t,e,n){const r=new Map;Mt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,d=e.data.field(l.field);r.set(l.field,d4(u,d,n[o]))}return r}function C_(t,e,n){const r=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);r.set(o.field,u4(l,u,e))}return r}class qj extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g4 extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&p4(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Fj();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(o.key)?null:d;const p=Hj(u,d);p!==null&&r.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Sn())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(n,r)=>S_(n,r))&&Xl(this.baseMutations,e.baseMutations,(n,r)=>S_(n,r))}}class ry{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Mt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=function(){return i4}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,r[u].version);return new ry(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,it;function x4(t){switch(t){case ae.OK:return Je(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Je(15467,{code:t})}}function w4(t){if(t===void 0)return va("GRPC error has no .code"),ae.UNKNOWN;switch(t){case $t.OK:return ae.OK;case $t.CANCELLED:return ae.CANCELLED;case $t.UNKNOWN:return ae.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ae.INTERNAL;case $t.UNAVAILABLE:return ae.UNAVAILABLE;case $t.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case $t.NOT_FOUND:return ae.NOT_FOUND;case $t.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case $t.ABORTED:return ae.ABORTED;case $t.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case $t.DATA_LOSS:return ae.DATA_LOSS;default:return Je(39323,{code:t})}}(it=$t||($t={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Bv([4294967295,4294967295],0);class _4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j4(t,e){return Yg(t,e.toTimestamp())}function Ml(t){return Mt(!!t,49232),Nt.fromTimestamp(function(n){const r=ya(n);return new Tt(r.seconds,r.nanos)}(t))}function Gj(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){const n=function(o){return new Vt(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function S4(t){const e=Vt.fromString(t);return Mt(k4(e),10190,{key:e.toString()}),e}function Jg(t,e){return Gj(t.databaseId,e.path)}function b4(t){const e=S4(t);return e.length===4?Vt.emptyPath():N4(e)}function C4(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N4(t){return Mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function N_(t,e,n){return{name:Jg(t,e),fields:n.value.mapValue.fields}}function T4(t,e){let n;if(e instanceof Zu)n={update:N_(t,e.key,e.value)};else if(e instanceof qj)n={delete:Jg(t,e.key)};else if(e instanceof Aa)n={update:N_(t,e.key,e.data),updateMask:A4(e.fieldMask)};else{if(!(e instanceof g4))return Je(16599,{Rt:e.type});n={verify:Jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const d=u.transform;if(d instanceof xf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Du)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ou)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wf)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw Je(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:j4(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Je(27497)}(t,e.precondition)),n}function I4(t,e){return t&&t.length>0?(Mt(e!==void 0,14353),t.map(n=>function(o,l){let u=o.updateTime?Ml(o.updateTime):Ml(l);return u.isEqual(Nt.min())&&(u=Ml(l)),new f4(u,o.transformResults||[])}(n,e))):[]}function P4(t){let e=b4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Mt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(w){const E=Qj(w);return E instanceof go&&Pj(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(w){return w.map(E=>function(T){return new vf(Al(T.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(w){let E;return E=typeof w=="object"?w.value:w,Kv(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(w){const E=!!w.before,j=w.values||[];return new gf(j,E)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const E=!w.before,j=w.values||[];return new gf(j,E)}(n.endAt)),JD(e,o,u,l,d,"F",p,m)}function Qj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Al(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Al(n.unaryFilter.field);return nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Al(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Al(n.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Je(61313);default:return Je(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Al(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Je(58110);default:return Je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return go.create(n.compositeFilter.filters.map(r=>Qj(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Je(1026)}}(n.compositeFilter.op))}(t):Je(30097,{filter:t})}function Al(t){return dn.fromServerFormat(t.fieldPath)}function A4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.gt=e}}function D4(t){const e=P4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.Dn=new M4}addToCollectionParentIndex(e,n){return this.Dn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(mo.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class M4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new mn(Vt.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new mn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kj=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(Kj,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new tc(0)}static ur(){return new tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",L4=1048576;function P_([t,e],[n,r]){const o=lt(t,n);return o===0?lt(e,r):o}class F4{constructor(e){this.Tr=e,this.buffer=new mn(P_),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();P_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class V4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){be(I_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ju(n)?be(I_,"Ignoring IndexedDB error during garbage collection: ",n):await qv(n)}await this.Rr(3e5)})}}class U4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Gv.ue);const r=new F4(n);return this.Vr.forEachTarget(e,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(T_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,o,l,u,d,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,n))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Pl()<=tt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function z4(t,e){return new U4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&ju(r.mutation,o,Xr.empty(),Tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Sn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Sn()){const o=ra();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(l=>{let u=Th();return l.forEach((d,p)=>{u=u.insert(d,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=ra();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Sn()))}populateOverlays(e,n,r){const o=[];return r.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,r,o){let l=yf();const u=Eu(),d=function(){return Eu()}();return n.forEach((p,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Aa)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),ju(v.mutation,m,v.mutation.getFieldMask(),Tt.now())):u.set(m.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,v)=>u.set(m,v)),n.forEach((m,v)=>{var w;return d.set(m,new $4(v,(w=u.get(m))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Eu();let o=new qn((u,d)=>u-d),l=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let v=r.get(p)||Xr.empty();v=d.applyToLocalView(m,v),r.set(p,v);const w=(o.get(d.batchId)||Sn()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,w=Fj();v.forEach(E=>{if(!l.has(E)){const j=Hj(n.get(E),r.get(E));j!==null&&w.set(E,j),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(u){return Xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):re.resolve(ra());let d=ku,p=l;return u.next(m=>re.forEach(m,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{p=p.insert(v,E)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Sn())).next(v=>({batchId:d,changes:Lj(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next(r=>{let o=Th();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let u=Th();return this.indexManager.getCollectionParents(e,l).next(d=>re.forEach(d,p=>{const m=function(w,E){return new Gf(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o))).next(u=>{l.forEach((p,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Gr.newInvalidDocument(v)))});let d=Th();return u.forEach((p,m)=>{const v=l.get(p);v!==void 0&&ju(v.mutation,m,Xr.empty(),Tt.now()),ty(n,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return re.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ml(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:D4(o.bundledQuery),readTime:Ml(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.overlays=new qn(Xe.comparator),this.kr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ra();return re.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,l)=>{this.wt(e,n,l)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const o=ra(),l=n.length+1,u=new Xe(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new qn((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let v=l.get(m.largestBatchId);v===null&&(v=ra(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=ra(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return re.resolve(d)}wt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new y4(n,r));let l=this.kr.get(n);l===void 0&&(l=Sn(),this.kr.set(n,l)),this.kr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.sessionToken=Ss.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.qr=new mn(tn.Qr),this.$r=new mn(tn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new tn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Xe(new Vt([])),r=new tn(n,e),o=new tn(n,e+1),l=[];return this.$r.forEachInRange([r,o],u=>{this.Wr(u),l.push(u.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Xe(new Vt([])),r=new tn(n,e),o=new tn(n,e+1);let l=Sn();return this.$r.forEachInRange([r,o],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new tn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Xe.comparator(e.key,n.key)||lt(e.Hr,n.Hr)}static Ur(e,n){return lt(e.Hr,n.Hr)||Xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new mn(tn.Qr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new v4(l,n,r,o);this.mutationQueue.push(u);for(const d of o)this.Yr=this.Yr.add(new tn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),l=o<0?0:o;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Qv:this.er-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),o=new tn(n,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([r,o],u=>{const d=this.Zr(u.Hr);l.push(d)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(lt);return n.forEach(o=>{const l=new tn(o,0),u=new tn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,u],d=>{r=r.add(d.Hr)})}),re.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;Xe.isDocumentKey(l)||(l=l.child(""));const u=new tn(new Xe(l),0);let d=new mn(lt);return this.Yr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(p.Hr)),!0)},u),re.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(r=>{const o=this.Zr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Mt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return re.forEach(n.mutations,o=>{const l=new tn(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new tn(n,0),o=this.Yr.firstAfterOrEqual(r);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.ni=e,this.docs=function(){return new qn(Xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,u=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Gr.newInvalidDocument(n))}getEntries(e,n){let r=yf();return n.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Gr.newInvalidDocument(o))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=yf();const u=n.path,d=new Xe(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||ID(TD(v),r)<=0||(o.has(v.key)||ty(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Je(9500)}ri(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Y4(this)}getSize(e){return re.resolve(this.size)}}class Y4 extends B4{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.persistence=e,this.ii=new Pa(n=>Zv(n),ey),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.si=0,this.oi=new sy,this.targetCount=0,this._i=tc.ar()}forEachTarget(e,n){return this.ii.forEach((r,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),re.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.hr(n),re.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.ii.forEach((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),re.waitFor(l).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.ai={},this.overlays={},this.ui=new Gv(0),this.ci=!1,this.ci=!0,this.li=new G4,this.referenceDelegate=e(this),this.hi=new X4(this),this.indexManager=new O4,this.remoteDocumentCache=function(o){return new K4(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new R4(n),this.Ti=new W4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Q4(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const o=new J4(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(e,n){return re.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class J4 extends AD{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Ai=new sy,this.Ri=null}static Vi(e){return new iy(e)}get mi(){if(this.Ri)return this.Ri;throw Je(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.mi,r=>{const o=Xe.fromPath(r);return this.fi(e,o).next(l=>{l||n.removeEntry(o,Nt.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return re.or([()=>re.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _f{constructor(e,n){this.persistence=e,this.gi=new Pa(r=>DD(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=z4(this,n)}static Vi(e,n){return new _f(e,n)}Ii(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return re.forEach(this.gi,(r,o)=>this.Sr(e,r,o).next(l=>l?re.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,u=>this.Sr(e,u,n).next(d=>{d||(r++,l.removeEntry(u,Nt.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),re.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hh(e.data.value)),n}Sr(e,n,r){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=o}static Es(e,n){let r=Sn(),o=Sn();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new oy(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return BP()?8:kD(Cn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.ps(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ys(e,n,o,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new Z4;return this.ws(e,n,u).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,n,u,d.size)})}).next(()=>l.result)}Ss(e,n,r,o){return r.documentReadCount<this.Vs?(Pl()<=tt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Pl()<=tt.DEBUG&&be("QueryEngine","Query:",hu(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(Pl()<=tt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,da(n))):re.resolve())}ps(e,n){if(E_(n))return re.resolve(null);let r=da(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Kg(n,null,"F"),r=da(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=Sn(...l);return this.gs.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.bs(n,d);return this.Ds(n,m,u,p.readTime)?this.ps(e,Kg(n,null,"F")):this.vs(e,m,n,p)}))})))}ys(e,n,r,o){return E_(n)||o.isEqual(Nt.min())?re.resolve(null):this.gs.getDocuments(e,r).next(l=>{const u=this.bs(n,l);return this.Ds(n,u,r,o)?re.resolve(null):(Pl()<=tt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hu(n)),this.vs(e,u,n,ND(o,ku)).next(d=>d))})}bs(e,n){let r=new mn(n4(e));return n.forEach((o,l)=>{ty(e,l)&&(r=r.add(l))}),r}Ds(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,n,r){return Pl()<=tt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",hu(n)),this.gs.getDocumentsMatchingQuery(e,n,mo.min(),r)}vs(e,n,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="LocalStore";class nO{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new qn(lt),this.Ms=new Pa(l=>Zv(l),ey),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function rO(t,e,n,r){return new nO(t,e,n,r)}async function Xj(t,e){const n=wt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],d=[];let p=Sn();for(const m of o){u.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(r,p).next(m=>({Bs:m,removedBatchIds:u,addedBatchIds:d}))})})}function sO(t,e){const n=wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,m,v){const w=m.batch,E=w.keys();let j=re.resolve();return E.forEach(T=>{j=j.next(()=>v.getEntry(p,T)).next(b=>{const C=m.docVersions.get(T);Mt(C!==null,48541),b.version.compareTo(C)<0&&(w.applyToRemoteDocument(b,m),b.isValidDocument()&&(b.setReadTime(m.commitVersion),v.addEntry(b)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Sn();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function iO(t){const e=wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function oO(t,e){const n=wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class A_{constructor(){this.activeTargetIds=l4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aO{constructor(){this.Fo=new A_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new A_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class R_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){be(k_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){be(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function Zg(){return Ih===null?Ih=function(){return 268435456+Math.round(2147483648*Math.random())}():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",cO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uO{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===pf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,l){const u=Zg(),d=this.Go(e,n.toUriEncodedString());be(ig,`Sending RPC '${e}' ${u}:`,d,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:m}=new URL(d),v=Ta(m);return this.jo(e,d,p,r,v).then(w=>(be(ig,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Yl(ig,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Jo(e,n,r,o,l,u){return this.Wo(e,n,r,o,l)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}Go(e,n){const r=cO[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class hO extends uO{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,o,l){const u=Zg();return new Promise((d,p)=>{const m=new dj;m.setWithCredentials(!0),m.listenOnce(hj.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case $h.NO_ERROR:const w=m.getResponseJson();be(_n,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case $h.TIMEOUT:be(_n,`RPC '${e}' ${u} timed out`),p(new Oe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const E=m.getStatus();if(be(_n,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let j=m.getResponseJson();Array.isArray(j)&&(j=j[0]);const T=j==null?void 0:j.error;if(T&&T.status&&T.message){const b=function(k){const A=k.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(A)>=0?A:ae.UNKNOWN}(T.status);p(new Oe(b,T.message))}else p(new Oe(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Oe(ae.UNAVAILABLE,"Connection failed."));break;default:Je(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{be(_n,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);be(_n,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",v,r,15)})}P_(e,n,r){const o=Zg(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=mj(),d=pj(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const v=l.join("");be(_n,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=u.createWebChannel(v,p);this.T_(w);let E=!1,j=!1;const T=new dO({Ho:C=>{j?be(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(E||(be(_n,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),be(_n,`RPC '${e}' stream ${o} sending:`,C),w.send(C))},Yo:()=>w.close()}),b=(C,k,A)=>{C.listen(k,D=>{try{A(D)}catch(R){setTimeout(()=>{throw R},0)}})};return b(w,mu.EventType.OPEN,()=>{j||(be(_n,`RPC '${e}' stream ${o} transport opened.`),T.s_())}),b(w,mu.EventType.CLOSE,()=>{j||(j=!0,be(_n,`RPC '${e}' stream ${o} transport closed`),T.__(),this.I_(w))}),b(w,mu.EventType.ERROR,C=>{j||(j=!0,Yl(_n,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),T.__(new Oe(ae.UNAVAILABLE,"The operation could not be completed")))}),b(w,mu.EventType.MESSAGE,C=>{var k;if(!j){const A=C.data[0];Mt(!!A,16349);const D=A,R=(D==null?void 0:D.error)||((k=D[0])===null||k===void 0?void 0:k.error);if(R){be(_n,`RPC '${e}' stream ${o} received error:`,R);const W=R.status;let Z=function(O){const L=$t[O];if(L!==void 0)return w4(L)}(W),M=R.message;Z===void 0&&(Z=ae.INTERNAL,M="Unknown error status: "+W+" with message "+R.message),j=!0,T.__(new Oe(Z,M)),w.close()}else be(_n,`RPC '${e}' stream ${o} received:`,A),T.a_(A)}}),b(d,fj.STAT_EVENT,C=>{C.stat===Bg.PROXY?be(_n,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Bg.NOPROXY&&be(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){return new _4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,r=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-r);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="PersistentStream";class fO{constructor(e,n,r,o,l,u,d,p){this.Fi=e,this.w_=r,this.S_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Jj(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(va(n.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===n&&this.W_(r,o)},r=>{e(()=>{const o=new Oe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return be(D_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(be(D_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pO extends fO{constructor(e,n,r,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=I4(e.writeResults,e.commitTime),r=Ml(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=C4(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>T4(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{}class gO extends mO{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Oe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,Xg(n,r),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Oe(ae.UNKNOWN,l.toString())})}Jo(e,n,r,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Jo(e,Xg(n,r),o,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(ae.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class vO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(va(n),this._a=!1):be("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="RemoteStore";class yO{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(u=>{r.enqueueAndForget(async()=>{nd(this)&&(be(ed,"Restarting streams for network reachability change."),await async function(p){const m=wt(p);m.Ia.add(4),await td(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Xf(m)}(this))})}),this.Aa=new vO(r,o)}}async function Xf(t){if(nd(t))for(const e of t.da)await e(!0)}async function td(t){for(const e of t.da)await e(!1)}function nd(t){return wt(t).Ia.size===0}async function Zj(t,e,n){if(!Ju(e))throw e;t.Ia.add(1),await td(t),t.Aa.set("Offline"),n||(n=()=>iO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be(ed,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Xf(t)})}function eS(t,e){return e().catch(n=>Zj(t,n,e))}async function Jf(t){const e=wt(t),n=vo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Qv;for(;xO(e);)try{const o=await oO(e.localStore,r);if(o===null){e.Pa.length===0&&n.B_();break}r=o.batchId,wO(e,o)}catch(o){await Zj(e,o)}tS(e)&&nS(e)}function xO(t){return nd(t)&&t.Pa.length<10}function wO(t,e){t.Pa.push(e);const n=vo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function tS(t){return nd(t)&&!vo(t).M_()&&t.Pa.length>0}function nS(t){vo(t).start()}async function _O(t){vo(t).na()}async function EO(t){const e=vo(t);for(const n of t.Pa)e.X_(n.mutations)}async function jO(t,e,n){const r=t.Pa.shift(),o=ry.from(r,e,n);await eS(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Jf(t)}async function SO(t,e){e&&vo(t).Z_&&await async function(r,o){if(function(u){return x4(u)&&u!==ae.ABORTED}(o.code)){const l=r.Pa.shift();vo(r).N_(),await eS(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Jf(r)}}(t,e),tS(t)&&nS(t)}async function O_(t,e){const n=wt(t);n.asyncQueue.verifyOperationInProgress(),be(ed,"RemoteStore received new credentials");const r=nd(n);n.Ia.add(3),await td(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Xf(n)}async function bO(t,e){const n=wt(t);e?(n.Ia.delete(2),await Xf(n)):e||(n.Ia.add(2),await td(n),n.Aa.set("Unknown"))}function vo(t){return t.ma||(t.ma=function(n,r,o){const l=wt(n);return l.ia(),new pO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:_O.bind(null,t),n_:SO.bind(null,t),ea:EO.bind(null,t),ta:jO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Jf(t)):(await t.ma.stop(),t.Pa.length>0&&(be(ed,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const u=Date.now()+r,d=new ay(e,n,u,o,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rS(t,e){if(va("AsyncQueue",`${e}: ${t}`),Ju(t))return new Oe(ae.UNAVAILABLE,`${e}: ${t}`);throw t}class CO{constructor(){this.queries=M_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const o=wt(n),l=o.queries;o.queries=M_(),l.forEach((u,d)=>{for(const p of d.wa)p.onError(r)})})(this,new Oe(ae.ABORTED,"Firestore shutting down"))}}function M_(){return new Pa(t=>Oj(t),Dj)}function NO(t){t.Da.forEach(e=>{e.next()})}var L_,F_;(F_=L_||(L_={})).Fa="default",F_.Cache="cache";const TO="SyncEngine";class IO{constructor(e,n,r,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Pa(d=>Oj(d),Dj),this.Tu=new Map,this.Iu=new Set,this.du=new qn(Xe.comparator),this.Eu=new Map,this.Au=new sy,this.Ru={},this.Vu=new Map,this.mu=tc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function PO(t,e,n){const r=DO(t);try{const o=await function(u,d){const p=wt(u),m=Tt.now(),v=d.reduce((j,T)=>j.add(T.key),Sn());let w,E;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let T=yf(),b=Sn();return p.Os.getEntries(j,v).next(C=>{T=C,T.forEach((k,A)=>{A.isValidDocument()||(b=b.add(k))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,T)).next(C=>{w=C;const k=[];for(const A of d){const D=m4(A,w.get(A.key).overlayedDocument);D!=null&&k.push(new Aa(A.key,D,Nj(D.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(j,m,k,d)}).next(C=>{E=C;const k=C.applyToLocalDocumentSet(w,b);return p.documentOverlayCache.saveOverlays(j,C.batchId,k)})}).then(()=>({batchId:E.batchId,changes:Lj(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,p){let m=u.Ru[u.currentUser.toKey()];m||(m=new qn(lt)),m=m.insert(d,p),u.Ru[u.currentUser.toKey()]=m}(r,o.batchId,n),await Zf(r,o.changes),await Jf(r.remoteStore)}catch(o){const l=rS(o,"Failed to persist write");n.reject(l)}}function V_(t,e,n){const r=wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Pu.forEach((l,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const p=wt(u);p.onlineState=d;let m=!1;p.queries.forEach((v,w)=>{for(const E of w.wa)E.va(d)&&(m=!0)}),m&&NO(p)}(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AO(t,e){const n=wt(t),r=e.batch.batchId;try{const o=await sO(n.localStore,e);iS(n,r,null),sS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zf(n,o)}catch(o){await qv(o)}}async function kO(t,e,n){const r=wt(t);try{const o=await function(u,d){const p=wt(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next(w=>(Mt(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>p.localDocuments.getDocuments(m,v))})}(r.localStore,e);iS(r,e,n),sS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zf(r,o)}catch(o){await qv(o)}}function sS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function iS(t,e,n){const r=wt(t);let o=r.Ru[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}async function Zf(t,e,n){const r=wt(t),o=[],l=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach((d,p)=>{u.push(r.gu(p,e,n).then(m=>{var v;if((m||n)&&r.isPrimaryClient){const w=m?!m.fromCache:(v=void 0)===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){o.push(m);const w=oy.Es(p.targetId,m);l.push(w)}}))}),await Promise.all(u),r.hu.J_(o),await async function(p,m){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>re.forEach(m,E=>re.forEach(E.Is,j=>v.persistence.referenceDelegate.addReference(w,E.targetId,j)).next(()=>re.forEach(E.ds,j=>v.persistence.referenceDelegate.removeReference(w,E.targetId,j)))))}catch(w){if(!Ju(w))throw w;be(tO,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const j=v.Fs.get(E),T=j.snapshotVersion,b=j.withLastLimboFreeSnapshotVersion(T);v.Fs=v.Fs.insert(E,b)}}}(r.localStore,l))}async function RO(t,e){const n=wt(t);if(!n.currentUser.isEqual(e)){be(TO,"User change. New user:",e.toKey());const r=await Xj(n.localStore,e);n.currentUser=e,function(l,u){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new Oe(ae.CANCELLED,u))})}),l.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zf(n,r.Bs)}}function DO(t){const e=wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kO.bind(null,e),e}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return rO(this.persistence,new eO,e.initialUser,this.serializer)}Du(e){return new Yj(iy.Vi,this.serializer)}bu(e){return new aO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class OO extends Ef{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Mt(this.persistence.referenceDelegate instanceof _f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new V4(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new Yj(r=>_f.Vi(r,n),this.serializer)}}class ev{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RO.bind(null,this.syncEngine),await bO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CO}()}createDatastore(e){const n=Yf(e.databaseInfo.databaseId),r=function(l){return new hO(l)}(e.databaseInfo);return function(l,u,d,p){return new gO(l,u,d,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,l,u,d){return new yO(r,o,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>V_(this.syncEngine,n,0),function(){return R_.C()?new R_:new lO}())}createSyncEngine(e,n){return function(o,l,u,d,p,m,v){const w=new IO(o,l,u,d,p,m);return v&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const l=wt(o);be(ed,"RemoteStore shutting down."),l.Ia.add(5),await td(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ev.provider={build:()=>new ev};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class MO{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=jn.UNAUTHENTICATED,this.clientId=Hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{be(yo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(be(yo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ag(t,e){t.asyncQueue.verifyOperationInProgress(),be(yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Xj(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>{Yl("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{be("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Yl("Terminating Firestore due to IndexedDb database deletion failed",o)})}),t._offlineComponents=e}async function U_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LO(t);be(yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>O_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>O_(e.remoteStore,o)),t._onlineComponents=e}async function LO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(yo,"Using user provided OfflineComponentProvider");try{await ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Yl("Error using user provided cache. Falling back to memory cache: "+n),await ag(t,new Ef)}}else be(yo,"Using default OfflineComponentProvider"),await ag(t,new OO(void 0));return t._offlineComponents}async function FO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(yo,"Using user provided OnlineComponentProvider"),await U_(t,t._uninitializedComponentsProvider._online)):(be(yo,"Using default OnlineComponentProvider"),await U_(t,new ev))),t._onlineComponents}function VO(t){return FO(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firestore.googleapis.com",B_=!0;class $_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=B_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:B_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L4)throw new Oe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Oe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Oe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Oe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ly{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mD;switch(r.type){case"firstParty":return new xD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=z_.get(n);r&&(be("ComponentProvider","Removing Datastore"),z_.delete(n),r.terminate())}(this),Promise.resolve()}}function UO(t,e,n,r={}){var o;t=Hg(t,ly);const l=Ta(e),u=t._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),p=`${e}:${n}`;l&&(Av(`https://${p}`),kv("Firestore",!0)),u.host!==aS&&u.host!==p&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:l,emulatorOptions:r});if(!ha(m,d)&&(t._setSettings(m),r.mockUserToken)){let v,w;if(typeof r.mockUserToken=="string")v=r.mockUserToken,w=jn.MOCK_USER;else{v=RP(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Oe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new jn(E)}t._authCredentials=new gD(new vj(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cy(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}toJSON(){return{type:bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xu(n,bn._jsonSchema))return new bn(e,r||null,new Xe(Vt.fromString(n.referencePath)))}}bn._jsonSchemaVersion="firestore/documentReference/1.0",bn._jsonSchema={type:Ht("string",bn._jsonSchemaVersion),referencePath:Ht("string")};class Mu extends cy{constructor(e,n,r){super(e,n,ZD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new Xe(e))}withConverter(e){return new Mu(this.firestore,e,this._path)}}function zO(t,e,...n){if(t=jr(t),arguments.length===1&&(e=Hv.newId()),bD("doc","path",e),t instanceof ly){const r=Vt.fromString(e,...n);return d_(r),new bn(t,null,new Xe(r))}{if(!(t instanceof bn||t instanceof Mu))throw new Oe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return d_(r),new bn(t.firestore,t instanceof Mu?t.converter:null,new Xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class W_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Jj(this,"async_queue_retry"),this.oc=()=>{const r=og();r&&be(H_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ua;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ju(e))throw e;be(H_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,va("INTERNAL UNHANDLED ERROR: ",q_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=ay.createAndSchedule(this,e,n,r,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Je(47125,{hc:q_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function q_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lS extends ly{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new W_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,await e}}}function BO(t,e){const n=typeof t=="object"?t:Ov(),r=typeof t=="string"?t:pf,o=$f(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=jE("firestore");l&&UO(o,...l)}return o}function $O(t){if(t._terminated)throw new Oe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HO(t),t._firestoreClient}function HO(t){var e,n,r;const o=t._freezeSettings(),l=function(d,p,m,v){return new FD(d,p,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,oS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new MO(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kr(Ss.fromBase64String(e))}catch(n){throw new Oe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kr(Ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,Kr._jsonSchema))return Kr.fromBase64String(e.bytes)}}Kr._jsonSchemaVersion="firestore/bytes/1.0",Kr._jsonSchema={type:Ht("string",Kr._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Ht("string",si._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ii(e.vectorValues);throw new Oe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Ht("string",ii._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=/^__.*__$/;class qO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}function uS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je(40011,{Ec:t})}}class dy{constructor(e,n,r,o,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return jf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(uS(this.Ec)&&WO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class GO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yf(e)}Dc(e,n,r,o=!1){return new dy({Ec:e,methodName:n,bc:r,path:dn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QO(t){const e=t._freezeSettings(),n=Yf(t._databaseId);return new GO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KO(t,e,n,r,o,l={}){const u=t.Dc(l.merge||l.mergeFields?2:0,e,n,o);pS("Data must be an object, but it was:",u,r);const d=hS(r,u);let p,m;if(l.merge)p=new Xr(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const E=YO(e,w,n);if(!u.contains(E))throw new Oe(ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);JO(v,E)||v.push(E)}p=new Xr(v),m=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=u.fieldTransforms;return new qO(new Qr(d),p,m)}function dS(t,e){if(fS(t=jr(t)))return pS("Unsupported field value:",e,t),hS(t,e);if(t instanceof cS)return function(r,o){if(!uS(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,o){const l=[];let u=0;for(const d of r){let p=dS(d,o.yc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(t,e)}return function(r,o){if((r=jr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return c4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Tt.fromDate(r);return{timestampValue:Yg(o.serializer,l)}}if(r instanceof Tt){const l=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yg(o.serializer,l)}}if(r instanceof si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kr)return{bytesValue:E4(o.serializer,r._byteString)};if(r instanceof bn){const l=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gj(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ii)return function(u,d){return{mapValue:{fields:{[bj]:{stringValue:Cj},[Wg]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.wc("VectorValues must only contain numeric values.");return ny(d.serializer,m)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${Wv(r)}`)}(t,e)}function hS(t,e){const n={};return wj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fc(t,(r,o)=>{const l=dS(o,e.Vc(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function fS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof si||t instanceof Kr||t instanceof bn||t instanceof cS||t instanceof ii)}function pS(t,e,n){if(!fS(n)||!yj(n)){const r=Wv(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function YO(t,e,n){if((e=jr(e))instanceof uy)return e._internalPath;if(typeof e=="string")return mS(t,e);throw jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const XO=new RegExp("[~\\*/\\[\\]]");function mS(t,e,n){if(e.search(XO)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uy(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jf(t,e,n,r,o){const l=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${r}`),u&&(p+=` in document ${o}`),p+=")"),new Oe(ae.INVALID_ARGUMENT,d+t+p)}function JO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZO extends gS{data(){return super.data()}}function vS(t,e){return typeof e=="string"?mS(t,e):e instanceof uy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ph{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends gS{constructor(e,n,r,o,l,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:Ht("string",Ll._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Gh extends Ll{data(e={}){return super.data(e)}}class Su{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ph(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gh(this._firestore,this._userDataWriter,r.key,r,new Ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const p=new Gh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ph(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Gh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ph(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:tM(d.type),doc:p,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je(61501,{type:t})}}Su._jsonSchemaVersion="firestore/querySnapshot/1.0",Su._jsonSchema={type:Ht("string",Su._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};function nM(t,e,n){t=Hg(t,bn);const r=Hg(t.firestore,lS),o=eM(t.converter,e);return rM(r,[KO(QO(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,ri.none())])}function rM(t,e){return function(r,o){const l=new ua;return r.asyncQueue.enqueueAndForget(async()=>PO(await VO(r),o,l)),l.promise}($O(t),e)}(function(e,n=!0){(function(o){hc=o})(uc),fa(new po("firestore",(r,{instanceIdentifier:o,options:l})=>{const u=r.getProvider("app").getImmediate(),d=new lS(new vD(r.getProvider("auth-internal")),new wD(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Oe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(m.options.projectId,v)}(u,o),u);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),xs(o_,a_,e),xs(o_,a_,"esm2017")})();var sM="firebase",iM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(sM,iM,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,_r(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o==null||o.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="us-central1";class aM{constructor(e,n,r,o,l=tv,u=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new oM(e,n,r,o),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(l);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=tv}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function lM(t,e,n){const r=Ta(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Av(t.emulatorOrigin),kv("Functions",!0))}const G_="@firebase/functions",Q_="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="auth-internal",uM="app-check-internal",dM="messaging-internal";function hM(t){const e=(n,{instanceIdentifier:r})=>{const o=n.getProvider("app").getImmediate(),l=n.getProvider(cM),u=n.getProvider(dM),d=n.getProvider(uM);return new aM(o,l,u,d,r)};fa(new po(yS,e,"PUBLIC").setMultipleInstances(!0)),xs(G_,Q_,t),xs(G_,Q_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t=Ov(),e=tv){const r=$f(jr(t),yS).getImmediate({identifier:e}),o=jE("functions");return o&&pM(r,...o),r}function pM(t,e,n){lM(jr(t),e,n)}hM();var bl={};const mM={apiKey:bl.VITE_FIREBASE_API_KEY||"demo-api-key",authDomain:bl.VITE_FIREBASE_AUTH_DOMAIN||"quote-hub-demo.firebaseapp.com",projectId:bl.VITE_FIREBASE_PROJECT_ID||"quote-hub-demo",storageBucket:bl.VITE_FIREBASE_STORAGE_BUCKET||"quote-hub-demo.appspot.com",messagingSenderId:bl.VITE_FIREBASE_MESSAGING_SENDER_ID||"123456789",appId:bl.VITE_FIREBASE_APP_ID||"1:123456789:web:abcdef123456"},hy=TE(mM),gM=fD(hy),vM=BO(hy);fM(hy);const xS=_.createContext(null),ep=()=>{const t=_.useContext(xS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},yM=({children:t})=>{const[e,n]=_.useState(null),[r,o]=_.useState(null),[l,u]=_.useState(!0);_.useEffect(()=>{(()=>{try{const C=localStorage.getItem("demo_user");if(C){n(JSON.parse(C)),u(!1);return}}catch(C){console.error("Error checking stored demo user:",C)}u(!1)})()},[]);const d=async(b,C)=>{try{if(u(!0),b==="admin@quotehub.com"&&C==="demo123"){const k={uid:"demo-admin-123",email:"admin@quotehub.com",name:"Global Admin",role:"global_app_admin",created_at:new Date,updated_at:new Date};n(k),localStorage.setItem("demo_user",JSON.stringify(k)),at.success("Successfully logged in as Global Admin");return}if(b==="john@acmeelectrical.com"&&C==="demo123"){const k={uid:"demo-user-456",email:"john@acmeelectrical.com",name:"John Smith",role:"trade_company_user",company_id:"acme-electrical",created_at:new Date,updated_at:new Date};n(k),localStorage.setItem("demo_user",JSON.stringify(k)),at.success("Successfully logged in as Company User");return}throw at.error(`Invalid credentials. Use demo accounts:
- admin@quotehub.com
- john@acmeelectrical.com
Password: demo123`),new Error("Invalid demo credentials")}catch(k){throw console.error("Login error:",k),at.error(k.message||"Failed to log in"),k}finally{u(!1)}},p=async(b,C,k)=>{try{u(!0);const{user:A}=await eR(gM,b,C),D={uid:A.uid,email:A.email||b,name:k.name||b.split("@")[0],role:k.role||"trade_company_user",company_id:k.company_id,created_at:new Date,updated_at:new Date};await nM(zO(vM,"users",A.uid),D),n(D),at.success("Account created successfully")}catch(A){throw console.error("Registration error:",A),at.error(A.message||"Failed to create account"),A}finally{u(!1)}},m=async b=>{try{u(!0);const k={admin:{uid:"demo-admin-123",email:"admin@quotehub.com",name:"Global Admin",role:"global_app_admin",created_at:new Date,updated_at:new Date},company:{uid:"demo-user-456",email:"john@acmeelectrical.com",name:"John Smith",role:"trade_company_user",company_id:"acme-electrical",created_at:new Date,updated_at:new Date}}[b];n(k),localStorage.setItem("demo_user",JSON.stringify(k)),at.success(`Successfully logged in as ${b==="admin"?"Global Admin":"Company User"}`)}catch(C){throw console.error("Demo login error:",C),at.error("Failed to log in with demo credentials"),C}finally{u(!1)}},v=async()=>{try{n(null),localStorage.removeItem("demo_user"),at.success("Successfully logged out")}catch(b){throw console.error("Logout error:",b),at.error("Failed to log out"),b}},w=()=>({admin:{email:"admin@quotehub.com",password:"demo123"},company:{email:"john@acmeelectrical.com",password:"demo123"}}),E=(e==null?void 0:e.role)==="global_app_admin",j=(e==null?void 0:e.role)==="trade_company_user",T={user:e,firebaseUser:r,loading:l,login:d,loginWithDemo:m,logout:v,register:p,isGlobalAdmin:E,isTradeCompanyUser:j,getDemoCredentials:w};return i.jsx(xS.Provider,{value:T,children:t})},K_=({children:t,requiredRole:e,redirectTo:n="/login"})=>{const{user:r,loading:o}=ep(),l=jo();if(o)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!r)return i.jsx(ef,{to:n,state:{from:l},replace:!0});if(e&&r.role!==e){const u=r.role==="global_app_admin"?"/admin":"/dashboard";return i.jsx(ef,{to:u,replace:!0})}return i.jsx(i.Fragment,{children:t})};function Y_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wS(...t){return e=>{let n=!1;const r=t.map(o=>{const l=Y_(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():Y_(t[o],null)}}}}function dt(...t){return _.useCallback(wS(...t),t)}function nc(t){const e=wM(t),n=_.forwardRef((r,o)=>{const{children:l,...u}=r,d=_.Children.toArray(l),p=d.find(EM);if(p){const m=p.props.children,v=d.map(w=>w===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:w);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}var xM=nc("Slot");function wM(t){const e=_.forwardRef((n,r)=>{const{children:o,...l}=n;if(_.isValidElement(o)){const u=SM(o),d=jM(l,o.props);return o.type!==_.Fragment&&(d.ref=r?wS(r,u):u),_.cloneElement(o,d)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _M=Symbol("radix.slottable");function EM(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_M}function jM(t,e){const n={...e};for(const r in e){const o=t[r],l=e[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{l(...d),o(...d)}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function SM(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _S(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=_S(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ES(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=_S(t))&&(r&&(r+=" "),r+=e);return r}const X_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,J_=ES,fy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return J_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(m=>{const v=n==null?void 0:n[m],w=l==null?void 0:l[m];if(v===null)return null;const E=X_(v)||X_(w);return o[m][E]}),d=n&&Object.entries(n).reduce((m,v)=>{let[w,E]=v;return E===void 0||(m[w]=E),m},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,v)=>{let{class:w,className:E,...j}=v;return Object.entries(j).every(T=>{let[b,C]=T;return Array.isArray(C)?C.includes({...l,...d}[b]):{...l,...d}[b]===C})?[...m,w,E]:m},[]);return J_(t,u,p,n==null?void 0:n.class,n==null?void 0:n.className)},py="-",bM=t=>{const e=NM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{const d=u.split(py);return d[0]===""&&d.length!==1&&d.shift(),jS(d,e)||CM(u)},getConflictingClassGroupIds:(u,d)=>{const p=n[u]||[];return d&&r[u]?[...p,...r[u]]:p}}},jS=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?jS(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(py);return(u=e.validators.find(({validator:d})=>d(l)))==null?void 0:u.classGroupId},Z_=/^\[(.+)\]$/,CM=t=>{if(Z_.test(t)){const e=Z_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},NM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return IM(Object.entries(t.classGroups),n).forEach(([l,u])=>{nv(u,r,l,e)}),r},nv=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:e1(e,o);l.classGroupId=n;return}if(typeof o=="function"){if(TM(o)){nv(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,u])=>{nv(u,e1(e,l),n,r)})})},e1=(t,e)=>{let n=t;return e.split(py).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},TM=t=>t.isThemeGetter,IM=(t,e)=>e?t.map(([n,r])=>{const o=r.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,d])=>[e+u,d])):l);return[n,o]}):t,PM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=r.get(l))!==void 0)return o(l,u),u},set(l,u){n.has(l)?n.set(l,u):o(l,u)}}},SS="!",AM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,o=e[0],l=e.length,u=d=>{const p=[];let m=0,v=0,w;for(let C=0;C<d.length;C++){let k=d[C];if(m===0){if(k===o&&(r||d.slice(C,C+l)===e)){p.push(d.slice(v,C)),v=C+l;continue}if(k==="/"){w=C;continue}}k==="["?m++:k==="]"&&m--}const E=p.length===0?d:d.substring(v),j=E.startsWith(SS),T=j?E.substring(1):E,b=w&&w>v?w-v:void 0;return{modifiers:p,hasImportantModifier:j,baseClassName:T,maybePostfixModifierPosition:b}};return n?d=>n({className:d,parseClassName:u}):u},kM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},RM=t=>({cache:PM(t.cacheSize),parseClassName:AM(t),...bM(t)}),DM=/\s+/,OM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,l=[],u=t.trim().split(DM);let d="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{modifiers:v,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:j}=n(m);let T=!!j,b=r(T?E.substring(0,j):E);if(!b){if(!T){d=m+(d.length>0?" "+d:d);continue}if(b=r(E),!b){d=m+(d.length>0?" "+d:d);continue}T=!1}const C=kM(v).join(":"),k=w?C+SS:C,A=k+b;if(l.includes(A))continue;l.push(A);const D=o(b,T);for(let R=0;R<D.length;++R){const W=D[R];l.push(k+W)}d=m+(d.length>0?" "+d:d)}return d};function MM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bS(e))&&(r&&(r+=" "),r+=n);return r}const bS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bS(t[r]))&&(n&&(n+=" "),n+=e);return n};function LM(t,...e){let n,r,o,l=u;function u(p){const m=e.reduce((v,w)=>w(v),t());return n=RM(m),r=n.cache.get,o=n.cache.set,l=d,d(p)}function d(p){const m=r(p);if(m)return m;const v=OM(p,n);return o(p,v),v}return function(){return l(MM.apply(null,arguments))}}const jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},CS=/^\[(?:([a-z-]+):)?(.+)\]$/i,FM=/^\d+\/\d+$/,VM=new Set(["px","full","screen"]),UM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xs=t=>Fl(t)||VM.has(t)||FM.test(t),$i=t=>pc(t,"length",JM),Fl=t=>!!t&&!Number.isNaN(Number(t)),lg=t=>pc(t,"number",Fl),fu=t=>!!t&&Number.isInteger(Number(t)),WM=t=>t.endsWith("%")&&Fl(t.slice(0,-1)),Ye=t=>CS.test(t),Hi=t=>UM.test(t),qM=new Set(["length","size","percentage"]),GM=t=>pc(t,qM,NS),QM=t=>pc(t,"position",NS),KM=new Set(["image","url"]),YM=t=>pc(t,KM,eL),XM=t=>pc(t,"",ZM),pu=()=>!0,pc=(t,e,n)=>{const r=CS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},JM=t=>zM.test(t)&&!BM.test(t),NS=()=>!1,ZM=t=>$M.test(t),eL=t=>HM.test(t),tL=()=>{const t=jt("colors"),e=jt("spacing"),n=jt("blur"),r=jt("brightness"),o=jt("borderColor"),l=jt("borderRadius"),u=jt("borderSpacing"),d=jt("borderWidth"),p=jt("contrast"),m=jt("grayscale"),v=jt("hueRotate"),w=jt("invert"),E=jt("gap"),j=jt("gradientColorStops"),T=jt("gradientColorStopPositions"),b=jt("inset"),C=jt("margin"),k=jt("opacity"),A=jt("padding"),D=jt("saturate"),R=jt("scale"),W=jt("sepia"),Z=jt("skew"),M=jt("space"),P=jt("translate"),O=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Ye,e],z=()=>[Ye,e],F=()=>["",Xs,$i],Ie=()=>["auto",Fl,Ye],Be=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],de=()=>["","0",Ye],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Fl,Ye];return{cacheSize:500,separator:":",theme:{colors:[pu],spacing:[Xs,$i],blur:["none","",Hi,Ye],brightness:H(),borderColor:[t],borderRadius:["none","","full",Hi,Ye],borderSpacing:z(),borderWidth:F(),contrast:H(),grayscale:de(),hueRotate:H(),invert:de(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[WM,$i],inset:U(),margin:U(),opacity:H(),padding:z(),saturate:H(),scale:H(),sepia:de(),skew:H(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Hi]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Be(),Ye]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fu,Ye]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",fu,Ye]}],"grid-cols":[{"grid-cols":[pu]}],"col-start-end":[{col:["auto",{span:["full",fu,Ye]},Ye]}],"col-start":[{"col-start":Ie()}],"col-end":[{"col-end":Ie()}],"grid-rows":[{"grid-rows":[pu]}],"row-start-end":[{row:["auto",{span:[fu,Ye]},Ye]}],"row-start":[{"row-start":Ie()}],"row-end":[{"row-end":Ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[Hi]},Hi]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hi,$i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lg]}],"font-family":[{font:[pu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Fl,lg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xs,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xs,$i]}],"underline-offset":[{"underline-offset":["auto",Xs,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Be(),QM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:_e()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[Xs,Ye]}],"outline-w":[{outline:[Xs,$i]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Xs,$i]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hi,XM]}],"shadow-color":[{shadow:[pu]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Hi,Ye]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[D]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[fu,Ye]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xs,$i,lg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nL=LM(tL);function Ge(...t){return nL(ES(t))}const rL=fy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),X=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},l)=>{const u=r?xM:"button";return i.jsx(u,{className:Ge(rL({variant:e,size:n,className:t})),ref:l,...o})});X.displayName="Button";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:p,...m},v)=>_.createElement("svg",{ref:v,...sL,width:o,height:o,stroke:r,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${iL(t)}`,d].join(" "),...m},[...e.map(([w,E])=>_.createElement(w,E)),...Array.isArray(p)?p:[p]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=Ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Ce("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=Ce("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=Ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=Ce("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=Ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=Ce("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Ce("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=Ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=Ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Ce("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Ce("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Ce("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=Ce("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Ce("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Ce("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=Ce("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),CL=()=>{const{user:t,logout:e}=ep(),n=jo(),r=cc(),[o,l]=_.useState(!1),u=[{id:"dashboard",label:"Dashboard",icon:RS,path:"/admin"},{id:"trades",label:"Trade Management",icon:tp,path:"/admin/trades"},{id:"companies",label:"Company Management",icon:co,path:"/admin/companies"},{id:"users",label:"User Management",icon:Wn,path:"/admin/users"},{id:"settings",label:"Platform Settings",icon:Cs,path:"/admin/settings"}],d=async()=>{try{await e(),r("/login")}catch(p){console.error("Logout failed:",p)}};return i.jsxs("div",{className:"h-screen bg-gray-50 flex",children:[o&&i.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",children:i.jsx("div",{className:"absolute inset-0 bg-gray-600 opacity-75",onClick:()=>l(!1)})}),i.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:flex lg:flex-col ${o?"translate-x-0":"-translate-x-full"}`,children:[i.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-teal-600",children:[i.jsx("h1",{className:"text-xl font-bold text-white",children:"Quote Hub Admin"}),i.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-white hover:text-gray-200",children:i.jsx(my,{className:"h-6 w-6"})})]}),i.jsx("nav",{className:"mt-8",children:u.map(p=>{const m=p.icon,v=n.pathname===p.path||p.path!=="/admin"&&n.pathname.startsWith(p.path);return i.jsxs(er,{to:p.path,className:`flex items-center px-6 py-3 text-sm font-medium transition-colors ${v?"bg-teal-50 text-teal-700 border-r-4 border-teal-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>l(!1),children:[i.jsx(m,{className:`mr-3 h-5 w-5 ${v?"text-teal-600":"text-gray-400"}`}),p.label]},p.id)})})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-white shadow-sm border-b",children:[i.jsx("button",{onClick:()=>l(!0),className:"lg:hidden text-gray-600 hover:text-gray-900",children:i.jsx(MS,{className:"h-6 w-6"})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-900",children:t==null?void 0:t.name}),i.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-teal-100 text-teal-800 rounded-full",children:"Global Admin"})]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center",children:[i.jsx(DS,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),i.jsx("main",{className:"flex-1 overflow-auto p-6",children:i.jsx(aE,{})})]})]})},NL=()=>{const{user:t,logout:e}=ep(),n=jo(),r=cc(),[o,l]=_.useState(!1),u=[{id:"dashboard",label:"Dashboard",icon:RS,path:"/dashboard"},{id:"business",label:"My Business Settings",icon:lL,path:"/business-settings"},{id:"products",label:"My Products & Services",icon:Gi,path:"/products-services"},{id:"clients",label:"My Clients",icon:Wn,path:"/clients"},{id:"quotes",label:"My Quotes",icon:sc,path:"/quotes"},{id:"integrations",label:"Integrations",icon:wL,path:"/integrations"}],d=async()=>{try{await e(),r("/login")}catch(p){console.error("Logout failed:",p)}};return i.jsxs("div",{className:"h-screen bg-gray-50 flex",children:[o&&i.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",children:i.jsx("div",{className:"absolute inset-0 bg-gray-600 opacity-75",onClick:()=>l(!1)})}),i.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:flex lg:flex-col ${o?"translate-x-0":"-translate-x-full"}`,children:[i.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-blue-600",children:[i.jsx("h1",{className:"text-xl font-bold text-white",children:"Quote Hub"}),i.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-white hover:text-gray-200",children:i.jsx(my,{className:"h-6 w-6"})})]}),i.jsx("nav",{className:"mt-8",children:u.map(p=>{const m=p.icon,v=n.pathname===p.path||p.path!=="/dashboard"&&n.pathname.startsWith(p.path);return i.jsxs(er,{to:p.path,className:`flex items-center px-6 py-3 text-sm font-medium transition-colors ${v?"bg-blue-50 text-blue-700 border-r-4 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>l(!1),children:[i.jsx(m,{className:`mr-3 h-5 w-5 ${v?"text-blue-600":"text-gray-400"}`}),p.label]},p.id)})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-gray-50",children:i.jsxs("div",{className:"text-xs text-gray-600",children:[i.jsx("div",{className:"font-medium",children:"Company"}),i.jsx("div",{className:"truncate",children:(t==null?void 0:t.company_id)||"Not assigned"})]})})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-white shadow-sm border-b",children:[i.jsx("button",{onClick:()=>l(!0),className:"lg:hidden text-gray-600 hover:text-gray-900",children:i.jsx(MS,{className:"h-6 w-6"})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-900",children:t==null?void 0:t.name}),i.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Trade User"})]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center",children:[i.jsx(DS,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),i.jsx("main",{className:"flex-1 overflow-auto p-6",children:i.jsx(aE,{})})]})]})},xe=_.forwardRef(({className:t,type:e,...n},r)=>i.jsx("input",{type:e,className:Ge("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:r,...n}));xe.displayName="Input";var TL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=TL.reduce((t,e)=>{const n=nc(`Primitive.${e}`),r=_.forwardRef((o,l)=>{const{asChild:u,...d}=o,p=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function IL(t,e){t&&Bu.flushSync(()=>t.dispatchEvent(e))}var PL="Label",zS=_.forwardRef((t,e)=>i.jsx(He.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zS.displayName=PL;var BS=zS;const AL=fy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=_.forwardRef(({className:t,...e},n)=>i.jsx(BS,{ref:n,className:Ge(AL(),t),...e}));ee.displayName=BS.displayName;const fe=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ge("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t),...e}));fe.displayName="Card";const pe=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ge("flex flex-col space-y-1.5 p-6",t),...e}));pe.displayName="CardHeader";const ge=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ge("font-semibold leading-none tracking-tight",t),...e}));ge.displayName="CardTitle";const Me=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ge("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));Me.displayName="CardDescription";const me=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ge("p-6 pt-0",t),...e}));me.displayName="CardContent";const kL=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ge("flex items-center p-6 pt-0",t),...e}));kL.displayName="CardFooter";const RL=()=>{const{login:t,loginWithDemo:e,isGlobalAdmin:n,isTradeCompanyUser:r,getDemoCredentials:o}=ep(),l=cc(),[u,d]=_.useState({email:"",password:""}),[p,m]=_.useState(!1),[v,w]=_.useState(!1),E=T=>{d({...u,[T.target.name]:T.target.value})},j=async T=>{if(T.preventDefault(),!u.email||!u.password){at.error("Please fill in all fields");return}w(!0);try{await t(u.email,u.password),setTimeout(()=>{l(n?"/admin":r?"/dashboard":"/")},100)}catch(b){console.error("Login failed:",b)}finally{w(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-teal-50 p-4",children:i.jsxs(fe,{className:"w-full max-w-md",children:[i.jsxs(pe,{className:"text-center",children:[i.jsx(ge,{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),i.jsx(Me,{children:"Sign in to your Quote Generation Hub account"})]}),i.jsxs(me,{children:[i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"email",children:"Email Address"}),i.jsx(xe,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:u.email,onChange:E,required:!0,className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"password",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"password",name:"password",type:p?"text":"password",placeholder:"Enter your password",value:u.password,onChange:E,required:!0,className:"w-full pr-10"}),i.jsx("button",{type:"button",onClick:()=>m(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?i.jsx(pL,{className:"h-4 w-4"}):i.jsx(wa,{className:"h-4 w-4"})})]})]}),i.jsx(X,{type:"submit",disabled:v,className:"w-full bg-blue-600 hover:bg-blue-700",children:v?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):i.jsxs("div",{className:"flex items-center",children:[i.jsx(yL,{className:"h-4 w-4 mr-2"}),"Sign In"]})})]}),i.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:i.jsxs("p",{children:["Don't have an account?"," ",i.jsx(er,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact your administrator"})]})}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Demo Accounts:"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[i.jsx("strong",{children:"Global Admin:"})," admin@quotehub.com / demo123"]}),i.jsx(X,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:async()=>{w(!0);try{await e("admin"),l("/admin")}catch(T){console.error("Demo login failed:",T)}finally{w(!1)}},disabled:v,children:"Login as Global Admin"})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[i.jsx("strong",{children:"Company User:"})," john@acmeelectrical.com / demo123"]}),i.jsx(X,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:async()=>{w(!0);try{await e("company"),l("/dashboard")}catch(T){console.error("Demo login failed:",T)}finally{w(!1)}},disabled:v,children:"Login as Company User"})]})]})]})]})]})})},DL=()=>{const t={totalCompanies:12,totalUsers:48,activeTrades:5,monthlyGrowth:15},e=[{id:1,action:"New company registered",company:"Acme Electrical",time:"2 hours ago"},{id:2,action:"User created",company:"Solar Pro Solutions",time:"4 hours ago"},{id:3,action:"Quote template updated",company:"System",time:"1 day ago"},{id:4,action:"New trade added",company:"System",time:"2 days ago"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Global Admin Dashboard"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your multi-trade quote generation platform"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Companies"}),i.jsx(co,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalCompanies}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+2 this month"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Users"}),i.jsx(Wn,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+8 this month"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Active Trades"}),i.jsx(tp,{className:"h-4 w-4 text-orange-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.activeTrades}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Solar, Electrical, Plumbing, HVAC, Roofing"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Monthly Growth"}),i.jsx(US,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(me,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[t.monthlyGrowth,"%"]}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"↑ 3% from last month"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Quick Actions"}),i.jsx(Me,{children:"Common administrative tasks"})]}),i.jsxs(me,{className:"space-y-3",children:[i.jsx(er,{to:"/admin/companies/new",children:i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(On,{className:"mr-2 h-4 w-4"}),"Create New Company"]})}),i.jsx(er,{to:"/admin/trades/new",children:i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(On,{className:"mr-2 h-4 w-4"}),"Add New Trade"]})}),i.jsx(er,{to:"/admin/users/new",children:i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(On,{className:"mr-2 h-4 w-4"}),"Create User Account"]})}),i.jsx(er,{to:"/admin/analytics",children:i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(oL,{className:"mr-2 h-4 w-4"}),"View Analytics"]})})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Recent Activity"}),i.jsx(Me,{children:"Latest platform activity"})]}),i.jsx(me,{children:i.jsx("div",{className:"space-y-4",children:e.map(n=>i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.action}),i.jsx("p",{className:"text-sm text-gray-600",children:n.company})]}),i.jsx("span",{className:"text-xs text-gray-400",children:n.time})]},n.id))})})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"System Status"}),i.jsx(Me,{children:"Current platform health and performance"})]}),i.jsx(me,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm",children:"All Systems Operational"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm",children:"Database Performance: Good"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm",children:"API Response Time: 120ms"})]})]})})]})]})};function $e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function OL(t,e){const n=_.createContext(e),r=l=>{const{children:u,...d}=l,p=_.useMemo(()=>d,Object.values(d));return i.jsx(n.Provider,{value:p,children:u})};r.displayName=t+"Provider";function o(l){const u=_.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[r,o]}function Is(t,e=[]){let n=[];function r(l,u){const d=_.createContext(u),p=n.length;n=[...n,u];const m=w=>{var k;const{scope:E,children:j,...T}=w,b=((k=E==null?void 0:E[t])==null?void 0:k[p])||d,C=_.useMemo(()=>T,Object.values(T));return i.jsx(b.Provider,{value:C,children:j})};m.displayName=l+"Provider";function v(w,E){var b;const j=((b=E==null?void 0:E[t])==null?void 0:b[p])||d,T=_.useContext(j);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${l}\``)}return[m,v]}const o=()=>{const l=n.map(u=>_.createContext(u));return function(d){const p=(d==null?void 0:d[t])||l;return _.useMemo(()=>({[`__scope${t}`]:{...d,[t]:p}}),[d,p])}};return o.scopeName=t,[r,ML(o,...e)]}function ML(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=r.reduce((d,{useScope:p,scopeName:m})=>{const w=p(l)[`__scope${m}`];return{...d,...w}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function $S(t){const e=t+"CollectionProvider",[n,r]=Is(e),[o,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:C,children:k}=b,A=Zs.useRef(null),D=Zs.useRef(new Map).current;return i.jsx(o,{scope:C,itemMap:D,collectionRef:A,children:k})};u.displayName=e;const d=t+"CollectionSlot",p=nc(d),m=Zs.forwardRef((b,C)=>{const{scope:k,children:A}=b,D=l(d,k),R=dt(C,D.collectionRef);return i.jsx(p,{ref:R,children:A})});m.displayName=d;const v=t+"CollectionItemSlot",w="data-radix-collection-item",E=nc(v),j=Zs.forwardRef((b,C)=>{const{scope:k,children:A,...D}=b,R=Zs.useRef(null),W=dt(C,R),Z=l(v,k);return Zs.useEffect(()=>(Z.itemMap.set(R,{ref:R,...D}),()=>void Z.itemMap.delete(R))),i.jsx(E,{[w]:"",ref:W,children:A})});j.displayName=v;function T(b){const C=l(t+"CollectionConsumer",b);return Zs.useCallback(()=>{const A=C.collectionRef.current;if(!A)return[];const D=Array.from(A.querySelectorAll(`[${w}]`));return Array.from(C.itemMap.values()).sort((Z,M)=>D.indexOf(Z.ref.current)-D.indexOf(M.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:m,ItemSlot:j},T,r]}var Nn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},LL=K1[" useId ".trim().toString()]||(()=>{}),FL=0;function ho(t){const[e,n]=_.useState(LL());return Nn(()=>{n(r=>r??String(FL++))},[t]),e?`radix-${e}`:""}function hn(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Ea({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=VL({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:r,d=hn(n),p=_.useCallback(m=>{if(l){const w=typeof m=="function"?m(t):m;w!==t&&d(w)}else o(m)},[l,t,o,d]);return[u,p]}function VL({defaultProp:t,onChange:e}){const n=_.useState(t),[r]=n,o=_.useRef(r),l=hn(e);return _.useEffect(()=>{o.current!==r&&(l(r),o.current=r)},[r,o,l]),n}var UL=_.createContext(void 0);function np(t){const e=_.useContext(UL);return t||e||"ltr"}var ug="rovingFocusGroup.onEntryFocus",zL={bubbles:!1,cancelable:!0},rp="RovingFocusGroup",[iv,HS,BL]=$S(rp),[$L,WS]=Is(rp,[BL]),[HL,WL]=$L(rp),qS=_.forwardRef((t,e)=>i.jsx(iv.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(iv.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(qL,{...t,ref:e})})}));qS.displayName=rp;var qL=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...w}=t,E=_.useRef(null),j=dt(e,E),T=np(l),[b=null,C]=Ea({prop:u,defaultProp:d,onChange:p}),[k,A]=_.useState(!1),D=hn(m),R=HS(n),W=_.useRef(!1),[Z,M]=_.useState(0);return _.useEffect(()=>{const P=E.current;if(P)return P.addEventListener(ug,D),()=>P.removeEventListener(ug,D)},[D]),i.jsx(HL,{scope:n,orientation:r,dir:T,loop:o,currentTabStopId:b,onItemFocus:_.useCallback(P=>C(P),[C]),onItemShiftTab:_.useCallback(()=>A(!0),[]),onFocusableItemAdd:_.useCallback(()=>M(P=>P+1),[]),onFocusableItemRemove:_.useCallback(()=>M(P=>P-1),[]),children:i.jsx(He.div,{tabIndex:k||Z===0?-1:0,"data-orientation":r,...w,ref:j,style:{outline:"none",...t.style},onMouseDown:$e(t.onMouseDown,()=>{W.current=!0}),onFocus:$e(t.onFocus,P=>{const O=!W.current;if(P.target===P.currentTarget&&O&&!k){const L=new CustomEvent(ug,zL);if(P.currentTarget.dispatchEvent(L),!L.defaultPrevented){const U=R().filter(_e=>_e.focusable),z=U.find(_e=>_e.active),F=U.find(_e=>_e.id===b),Be=[z,F,...U].filter(Boolean).map(_e=>_e.ref.current);KS(Be,v)}}W.current=!1}),onBlur:$e(t.onBlur,()=>A(!1))})})}),GS="RovingFocusGroupItem",QS=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:l,...u}=t,d=ho(),p=l||d,m=WL(GS,n),v=m.currentTabStopId===p,w=HS(n),{onFocusableItemAdd:E,onFocusableItemRemove:j}=m;return _.useEffect(()=>{if(r)return E(),()=>j()},[r,E,j]),i.jsx(iv.ItemSlot,{scope:n,id:p,focusable:r,active:o,children:i.jsx(He.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:$e(t.onMouseDown,T=>{r?m.onItemFocus(p):T.preventDefault()}),onFocus:$e(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:$e(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){m.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const b=KL(T,m.orientation,m.dir);if(b!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let k=w().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")k.reverse();else if(b==="prev"||b==="next"){b==="prev"&&k.reverse();const A=k.indexOf(T.currentTarget);k=m.loop?YL(k,A+1):k.slice(A+1)}setTimeout(()=>KS(k))}})})})});QS.displayName=GS;var GL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QL(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KL(t,e,n){const r=QL(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return GL[r]}function KS(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function YL(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XL=qS,JL=QS;function ZL(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Ps=t=>{const{present:e,children:n}=t,r=e6(e),o=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),l=dt(r.ref,t6(o));return typeof n=="function"||r.isPresent?_.cloneElement(o,{ref:l}):null};Ps.displayName="Presence";function e6(t){const[e,n]=_.useState(),r=_.useRef({}),o=_.useRef(t),l=_.useRef("none"),u=t?"mounted":"unmounted",[d,p]=ZL(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=Ah(r.current);l.current=d==="mounted"?m:"none"},[d]),Nn(()=>{const m=r.current,v=o.current;if(v!==t){const E=l.current,j=Ah(m);t?p("MOUNT"):j==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(v&&E!==j?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,p]),Nn(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,w=j=>{const b=Ah(r.current).includes(j.animationName);if(j.target===e&&b&&(p("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},E=j=>{j.target===e&&(l.current=Ah(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:_.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function Ah(t){return(t==null?void 0:t.animationName)||"none"}function t6(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gy="Tabs",[n6,vU]=Is(gy,[WS]),YS=WS(),[r6,vy]=n6(gy),XS=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:l,orientation:u="horizontal",dir:d,activationMode:p="automatic",...m}=t,v=np(d),[w,E]=Ea({prop:r,onChange:o,defaultProp:l});return i.jsx(r6,{scope:n,baseId:ho(),value:w,onValueChange:E,orientation:u,dir:v,activationMode:p,children:i.jsx(He.div,{dir:v,"data-orientation":u,...m,ref:e})})});XS.displayName=gy;var JS="TabsList",ZS=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...o}=t,l=vy(JS,n),u=YS(n);return i.jsx(XL,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:r,children:i.jsx(He.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});ZS.displayName=JS;var eb="TabsTrigger",tb=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...l}=t,u=vy(eb,n),d=YS(n),p=sb(u.baseId,r),m=ib(u.baseId,r),v=r===u.value;return i.jsx(JL,{asChild:!0,...d,focusable:!o,active:v,children:i.jsx(He.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...l,ref:e,onMouseDown:$e(t.onMouseDown,w=>{!o&&w.button===0&&w.ctrlKey===!1?u.onValueChange(r):w.preventDefault()}),onKeyDown:$e(t.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&u.onValueChange(r)}),onFocus:$e(t.onFocus,()=>{const w=u.activationMode!=="manual";!v&&!o&&w&&u.onValueChange(r)})})})});tb.displayName=eb;var nb="TabsContent",rb=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:o,children:l,...u}=t,d=vy(nb,n),p=sb(d.baseId,r),m=ib(d.baseId,r),v=r===d.value,w=_.useRef(v);return _.useEffect(()=>{const E=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(E)},[]),i.jsx(Ps,{present:o||v,children:({present:E})=>i.jsx(He.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":p,hidden:!E,id:m,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:w.current?"0s":void 0},children:E&&l})})});rb.displayName=nb;function sb(t,e){return`${t}-trigger-${e}`}function ib(t,e){return`${t}-content-${e}`}var s6=XS,ob=ZS,ab=tb,lb=rb;const Da=s6,bo=_.forwardRef(({className:t,...e},n)=>i.jsx(ob,{ref:n,className:Ge("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",t),...e}));bo.displayName=ob.displayName;const It=_.forwardRef(({className:t,...e},n)=>i.jsx(ab,{ref:n,className:Ge("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",t),...e}));It.displayName=ab.displayName;const Pt=_.forwardRef(({className:t,...e},n)=>i.jsx(lb,{ref:n,className:Ge("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",t),...e}));Pt.displayName=lb.displayName;function i6(t,e=globalThis==null?void 0:globalThis.document){const n=hn(t);_.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var o6="DismissableLayer",ov="dismissableLayer.update",a6="dismissableLayer.pointerDownOutside",l6="dismissableLayer.focusOutside",r1,cb=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yy=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...p}=t,m=_.useContext(cb),[v,w]=_.useState(null),E=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=_.useState({}),T=dt(e,M=>w(M)),b=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=b.indexOf(C),A=v?b.indexOf(v):-1,D=m.layersWithOutsidePointerEventsDisabled.size>0,R=A>=k,W=d6(M=>{const P=M.target,O=[...m.branches].some(L=>L.contains(P));!R||O||(o==null||o(M),u==null||u(M),M.defaultPrevented||d==null||d())},E),Z=h6(M=>{const P=M.target;[...m.branches].some(L=>L.contains(P))||(l==null||l(M),u==null||u(M),M.defaultPrevented||d==null||d())},E);return i6(M=>{A===m.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},E),_.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(r1=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),s1(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=r1)}},[v,E,n,m]),_.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),s1())},[v,m]),_.useEffect(()=>{const M=()=>j({});return document.addEventListener(ov,M),()=>document.removeEventListener(ov,M)},[]),i.jsx(He.div,{...p,ref:T,style:{pointerEvents:D?R?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,W.onPointerDownCapture)})});yy.displayName=o6;var c6="DismissableLayerBranch",u6=_.forwardRef((t,e)=>{const n=_.useContext(cb),r=_.useRef(null),o=dt(e,r);return _.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),i.jsx(He.div,{...t,ref:o})});u6.displayName=c6;function d6(t,e=globalThis==null?void 0:globalThis.document){const n=hn(t),r=_.useRef(!1),o=_.useRef(()=>{});return _.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let p=function(){ub(a6,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function h6(t,e=globalThis==null?void 0:globalThis.document){const n=hn(t),r=_.useRef(!1);return _.useEffect(()=>{const o=l=>{l.target&&!r.current&&ub(l6,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s1(){const t=new CustomEvent(ov);document.dispatchEvent(t)}function ub(t,e,n,{discrete:r}){const o=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?IL(o,l):o.dispatchEvent(l)}var dg="focusScope.autoFocusOnMount",hg="focusScope.autoFocusOnUnmount",i1={bubbles:!1,cancelable:!0},f6="FocusScope",xy=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=t,[d,p]=_.useState(null),m=hn(o),v=hn(l),w=_.useRef(null),E=dt(e,b=>p(b)),j=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let b=function(D){if(j.paused||!d)return;const R=D.target;d.contains(R)?w.current=R:qi(w.current,{select:!0})},C=function(D){if(j.paused||!d)return;const R=D.relatedTarget;R!==null&&(d.contains(R)||qi(w.current,{select:!0}))},k=function(D){if(document.activeElement===document.body)for(const W of D)W.removedNodes.length>0&&qi(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",C);const A=new MutationObserver(k);return d&&A.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),A.disconnect()}}},[r,d,j.paused]),_.useEffect(()=>{if(d){a1.add(j);const b=document.activeElement;if(!d.contains(b)){const k=new CustomEvent(dg,i1);d.addEventListener(dg,m),d.dispatchEvent(k),k.defaultPrevented||(p6(x6(db(d)),{select:!0}),document.activeElement===b&&qi(d))}return()=>{d.removeEventListener(dg,m),setTimeout(()=>{const k=new CustomEvent(hg,i1);d.addEventListener(hg,v),d.dispatchEvent(k),k.defaultPrevented||qi(b??document.body,{select:!0}),d.removeEventListener(hg,v),a1.remove(j)},0)}}},[d,m,v,j]);const T=_.useCallback(b=>{if(!n&&!r||j.paused)return;const C=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,k=document.activeElement;if(C&&k){const A=b.currentTarget,[D,R]=m6(A);D&&R?!b.shiftKey&&k===R?(b.preventDefault(),n&&qi(D,{select:!0})):b.shiftKey&&k===D&&(b.preventDefault(),n&&qi(R,{select:!0})):k===A&&b.preventDefault()}},[n,r,j.paused]);return i.jsx(He.div,{tabIndex:-1,...u,ref:E,onKeyDown:T})});xy.displayName=f6;function p6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qi(r,{select:e}),document.activeElement!==n)return}function m6(t){const e=db(t),n=o1(e,t),r=o1(e.reverse(),t);return[n,r]}function db(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function o1(t,e){for(const n of t)if(!g6(n,{upTo:e}))return n}function g6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function v6(t){return t instanceof HTMLInputElement&&"select"in t}function qi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&v6(t)&&e&&t.select()}}var a1=y6();function y6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=l1(t,e),t.unshift(e)},remove(e){var n;t=l1(t,e),(n=t[0])==null||n.resume()}}}function l1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function x6(t){return t.filter(e=>e.tagName!=="A")}var w6="Portal",wy=_.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[o,l]=_.useState(!1);Nn(()=>l(!0),[]);const u=n||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?i2.createPortal(i.jsx(He.div,{...r,ref:e}),u):null});wy.displayName=w6;var fg=0;function hb(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??c1()),document.body.insertAdjacentElement("beforeend",t[1]??c1()),fg++,()=>{fg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fg--}},[])}function c1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Qh="right-scroll-bar-position",Kh="width-before-scroll-bar",_6="with-scroll-bars-hidden",E6="--removed-body-scroll-bar-size";function pg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function j6(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var S6=typeof window<"u"?_.useLayoutEffect:_.useEffect,u1=new WeakMap;function b6(t,e){var n=j6(null,function(r){return t.forEach(function(o){return pg(o,r)})});return S6(function(){var r=u1.get(n);if(r){var o=new Set(r),l=new Set(t),u=n.current;o.forEach(function(d){l.has(d)||pg(d,null)}),l.forEach(function(d){o.has(d)||pg(d,u)})}u1.set(n,t)},[t]),n}function C6(t){return t}function N6(t,e){e===void 0&&(e=C6);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(r=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var p=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),n}}}};return o}function T6(t){t===void 0&&(t={});var e=N6(null);return e.options=ys({async:!0,ssr:!1},t),e}var fb=function(t){var e=t.sideCar,n=qu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,ys({},n))};fb.isSideCarExport=!0;function I6(t,e){return t.useMedium(e),fb}var pb=T6(),mg=function(){},sp=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:mg,onWheelCapture:mg,onTouchMoveCapture:mg}),o=r[0],l=r[1],u=t.forwardProps,d=t.children,p=t.className,m=t.removeScrollBar,v=t.enabled,w=t.shards,E=t.sideCar,j=t.noIsolation,T=t.inert,b=t.allowPinchZoom,C=t.as,k=C===void 0?"div":C,A=t.gapMode,D=qu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=E,W=b6([n,e]),Z=ys(ys({},D),o);return _.createElement(_.Fragment,null,v&&_.createElement(R,{sideCar:pb,removeScrollBar:m,shards:w,noIsolation:j,inert:T,setCallbacks:l,allowPinchZoom:!!b,lockRef:n,gapMode:A}),u?_.cloneElement(_.Children.only(d),ys(ys({},Z),{ref:W})):_.createElement(k,ys({},Z,{className:p,ref:W}),d))});sp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sp.classNames={fullWidth:Kh,zeroRight:Qh};var P6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=P6();return e&&t.setAttribute("nonce",e),t}function k6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function R6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var D6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=A6())&&(k6(e,n),R6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O6=function(){var t=D6();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mb=function(){var t=O6(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},M6={left:0,top:0,right:0,gap:0},gg=function(t){return parseInt(t||"",10)||0},L6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[gg(n),gg(r),gg(o)]},F6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return M6;var e=L6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},V6=mb(),Ul="data-scroll-locked",U6=function(t,e,n,r){var o=t.left,l=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Kh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Qh," .").concat(Qh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kh," .").concat(Kh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(E6,": ").concat(d,`px;
  }
`)},d1=function(){var t=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(t)?t:0},z6=function(){_.useEffect(function(){return document.body.setAttribute(Ul,(d1()+1).toString()),function(){var t=d1()-1;t<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,t.toString())}},[])},B6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;z6();var l=_.useMemo(function(){return F6(o)},[o]);return _.createElement(V6,{styles:U6(l,!e,o,n?"":"!important")})},av=!1;if(typeof window<"u")try{var kh=Object.defineProperty({},"passive",{get:function(){return av=!0,!0}});window.addEventListener("test",kh,kh),window.removeEventListener("test",kh,kh)}catch{av=!1}var Cl=av?{passive:!1}:!1,$6=function(t){return t.tagName==="TEXTAREA"},gb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$6(t)&&n[e]==="visible")},H6=function(t){return gb(t,"overflowY")},W6=function(t){return gb(t,"overflowX")},h1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=vb(t,r);if(o){var l=yb(t,r),u=l[1],d=l[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},q6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},G6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vb=function(t,e){return t==="v"?H6(e):W6(e)},yb=function(t,e){return t==="v"?q6(e):G6(e)},Q6=function(t,e){return t==="h"&&e==="rtl"?-1:1},K6=function(t,e,n,r,o){var l=Q6(t,window.getComputedStyle(e).direction),u=l*r,d=n.target,p=e.contains(d),m=!1,v=u>0,w=0,E=0;do{var j=yb(t,d),T=j[0],b=j[1],C=j[2],k=b-C-l*T;(T||k)&&vb(t,d)&&(w+=k,E+=T),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(v&&Math.abs(w)<1||!v&&Math.abs(E)<1)&&(m=!0),m},Rh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},f1=function(t){return[t.deltaX,t.deltaY]},p1=function(t){return t&&"current"in t?t.current:t},Y6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J6=0,Nl=[];function Z6(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),o=_.useState(J6++)[0],l=_.useState(mb)[0],u=_.useRef(t);_.useEffect(function(){u.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var b=ok([t.lockRef.current],(t.shards||[]).map(p1),!0).filter(Boolean);return b.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=_.useCallback(function(b,C){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var k=Rh(b),A=n.current,D="deltaX"in b?b.deltaX:A[0]-k[0],R="deltaY"in b?b.deltaY:A[1]-k[1],W,Z=b.target,M=Math.abs(D)>Math.abs(R)?"h":"v";if("touches"in b&&M==="h"&&Z.type==="range")return!1;var P=h1(M,Z);if(!P)return!0;if(P?W=M:(W=M==="v"?"h":"v",P=h1(M,Z)),!P)return!1;if(!r.current&&"changedTouches"in b&&(D||R)&&(r.current=W),!W)return!0;var O=r.current||W;return K6(O,C,b,O==="h"?D:R)},[]),p=_.useCallback(function(b){var C=b;if(!(!Nl.length||Nl[Nl.length-1]!==l)){var k="deltaY"in C?f1(C):Rh(C),A=e.current.filter(function(W){return W.name===C.type&&(W.target===C.target||C.target===W.shadowParent)&&Y6(W.delta,k)})[0];if(A&&A.should){C.cancelable&&C.preventDefault();return}if(!A){var D=(u.current.shards||[]).map(p1).filter(Boolean).filter(function(W){return W.contains(C.target)}),R=D.length>0?d(C,D[0]):!u.current.noIsolation;R&&C.cancelable&&C.preventDefault()}}},[]),m=_.useCallback(function(b,C,k,A){var D={name:b,delta:C,target:k,should:A,shadowParent:eF(k)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(R){return R!==D})},1)},[]),v=_.useCallback(function(b){n.current=Rh(b),r.current=void 0},[]),w=_.useCallback(function(b){m(b.type,f1(b),b.target,d(b,t.lockRef.current))},[]),E=_.useCallback(function(b){m(b.type,Rh(b),b.target,d(b,t.lockRef.current))},[]);_.useEffect(function(){return Nl.push(l),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:E}),document.addEventListener("wheel",p,Cl),document.addEventListener("touchmove",p,Cl),document.addEventListener("touchstart",v,Cl),function(){Nl=Nl.filter(function(b){return b!==l}),document.removeEventListener("wheel",p,Cl),document.removeEventListener("touchmove",p,Cl),document.removeEventListener("touchstart",v,Cl)}},[]);var j=t.removeScrollBar,T=t.inert;return _.createElement(_.Fragment,null,T?_.createElement(l,{styles:X6(o)}):null,j?_.createElement(B6,{gapMode:t.gapMode}):null)}function eF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tF=I6(pb,Z6);var _y=_.forwardRef(function(t,e){return _.createElement(sp,ys({},t,{ref:e,sideCar:tF}))});_y.classNames=sp.classNames;var nF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Tl=new WeakMap,Dh=new WeakMap,Oh={},vg=0,xb=function(t){return t&&(t.host||xb(t.parentNode))},rF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sF=function(t,e,n,r){var o=rF(e,Array.isArray(t)?t:[t]);Oh[n]||(Oh[n]=new WeakMap);var l=Oh[n],u=[],d=new Set,p=new Set(o),m=function(w){!w||d.has(w)||(d.add(w),m(w.parentNode))};o.forEach(m);var v=function(w){!w||p.has(w)||Array.prototype.forEach.call(w.children,function(E){if(d.has(E))v(E);else try{var j=E.getAttribute(r),T=j!==null&&j!=="false",b=(Tl.get(E)||0)+1,C=(l.get(E)||0)+1;Tl.set(E,b),l.set(E,C),u.push(E),b===1&&T&&Dh.set(E,!0),C===1&&E.setAttribute(n,"true"),T||E.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",E,k)}})};return v(e),d.clear(),vg++,function(){u.forEach(function(w){var E=Tl.get(w)-1,j=l.get(w)-1;Tl.set(w,E),l.set(w,j),E||(Dh.has(w)||w.removeAttribute(r),Dh.delete(w)),j||w.removeAttribute(n)}),vg--,vg||(Tl=new WeakMap,Tl=new WeakMap,Dh=new WeakMap,Oh={})}},wb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=nF(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),sF(r,o,n,"aria-hidden")):function(){return null}},Ey="Dialog",[_b,yU]=Is(Ey),[iF,ns]=_b(Ey),Eb=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:u=!0}=t,d=_.useRef(null),p=_.useRef(null),[m=!1,v]=Ea({prop:r,defaultProp:o,onChange:l});return i.jsx(iF,{scope:e,triggerRef:d,contentRef:p,contentId:ho(),titleId:ho(),descriptionId:ho(),open:m,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(w=>!w),[v]),modal:u,children:n})};Eb.displayName=Ey;var jb="DialogTrigger",Sb=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ns(jb,n),l=dt(e,o.triggerRef);return i.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":by(o.open),...r,ref:l,onClick:$e(t.onClick,o.onOpenToggle)})});Sb.displayName=jb;var jy="DialogPortal",[oF,bb]=_b(jy,{forceMount:void 0}),Cb=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,l=ns(jy,e);return i.jsx(oF,{scope:e,forceMount:n,children:_.Children.map(r,u=>i.jsx(Ps,{present:n||l.open,children:i.jsx(wy,{asChild:!0,container:o,children:u})}))})};Cb.displayName=jy;var Tf="DialogOverlay",Nb=_.forwardRef((t,e)=>{const n=bb(Tf,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,l=ns(Tf,t.__scopeDialog);return l.modal?i.jsx(Ps,{present:r||l.open,children:i.jsx(lF,{...o,ref:e})}):null});Nb.displayName=Tf;var aF=nc("DialogOverlay.RemoveScroll"),lF=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ns(Tf,n);return i.jsx(_y,{as:aF,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(He.div,{"data-state":by(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ja="DialogContent",Tb=_.forwardRef((t,e)=>{const n=bb(ja,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,l=ns(ja,t.__scopeDialog);return i.jsx(Ps,{present:r||l.open,children:l.modal?i.jsx(cF,{...o,ref:e}):i.jsx(uF,{...o,ref:e})})});Tb.displayName=ja;var cF=_.forwardRef((t,e)=>{const n=ns(ja,t.__scopeDialog),r=_.useRef(null),o=dt(e,n.contentRef,r);return _.useEffect(()=>{const l=r.current;if(l)return wb(l)},[]),i.jsx(Ib,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:$e(t.onFocusOutside,l=>l.preventDefault())})}),uF=_.forwardRef((t,e)=>{const n=ns(ja,t.__scopeDialog),r=_.useRef(!1),o=_.useRef(!1);return i.jsx(Ib,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,d;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{var p,m;(p=t.onInteractOutside)==null||p.call(t,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),Ib=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...u}=t,d=ns(ja,n),p=_.useRef(null),m=dt(e,p);return hb(),i.jsxs(i.Fragment,{children:[i.jsx(xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(yy,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":by(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(dF,{titleId:d.titleId}),i.jsx(fF,{contentRef:p,descriptionId:d.descriptionId})]})]})}),Sy="DialogTitle",Pb=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ns(Sy,n);return i.jsx(He.h2,{id:o.titleId,...r,ref:e})});Pb.displayName=Sy;var Ab="DialogDescription",kb=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ns(Ab,n);return i.jsx(He.p,{id:o.descriptionId,...r,ref:e})});kb.displayName=Ab;var Rb="DialogClose",Db=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ns(Rb,n);return i.jsx(He.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>o.onOpenChange(!1))})});Db.displayName=Rb;function by(t){return t?"open":"closed"}var Ob="DialogTitleWarning",[xU,Mb]=OL(Ob,{contentName:ja,titleName:Sy,docsSlug:"dialog"}),dF=({titleId:t})=>{const e=Mb(Ob),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},hF="DialogDescriptionWarning",fF=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Mb(hF).contentName}}.`;return _.useEffect(()=>{var l;const o=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},pF=Eb,mF=Sb,gF=Cb,Lb=Nb,Fb=Tb,Vb=Pb,Ub=kb,vF=Db;const Er=pF,Ns=mF,yF=gF,zb=_.forwardRef(({className:t,...e},n)=>i.jsx(Lb,{ref:n,className:Ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));zb.displayName=Lb.displayName;const nr=_.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(yF,{children:[i.jsx(zb,{}),i.jsxs(Fb,{ref:r,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",t),...n,children:[e,i.jsxs(vF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[i.jsx(my,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nr.displayName=Fb.displayName;const rr=({className:t,...e})=>i.jsx("div",{className:Ge("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});rr.displayName="DialogHeader";const sr=_.forwardRef(({className:t,...e},n)=>i.jsx(Vb,{ref:n,className:Ge("text-lg font-semibold leading-none tracking-tight",t),...e}));sr.displayName=Vb.displayName;const ir=_.forwardRef(({className:t,...e},n)=>i.jsx(Ub,{ref:n,className:Ge("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));ir.displayName=Ub.displayName;function lv(t,[e,n]){return Math.min(n,Math.max(e,t))}const xF=["top","right","bottom","left"],xo=Math.min,tr=Math.max,If=Math.round,Mh=Math.floor,js=t=>({x:t,y:t}),wF={left:"right",right:"left",bottom:"top",top:"bottom"},_F={start:"end",end:"start"};function cv(t,e,n){return tr(t,xo(e,n))}function di(t,e){return typeof t=="function"?t(e):t}function hi(t){return t.split("-")[0]}function mc(t){return t.split("-")[1]}function Cy(t){return t==="x"?"y":"x"}function Ny(t){return t==="y"?"height":"width"}function wo(t){return["top","bottom"].includes(hi(t))?"y":"x"}function Ty(t){return Cy(wo(t))}function EF(t,e,n){n===void 0&&(n=!1);const r=mc(t),o=Ty(t),l=Ny(o);let u=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Pf(u)),[u,Pf(u)]}function jF(t){const e=Pf(t);return[uv(t),e,uv(e)]}function uv(t){return t.replace(/start|end/g,e=>_F[e])}function SF(t,e,n){const r=["left","right"],o=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?l:u;default:return[]}}function bF(t,e,n,r){const o=mc(t);let l=SF(hi(t),n==="start",r);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(uv)))),l}function Pf(t){return t.replace(/left|right|bottom|top/g,e=>wF[e])}function CF(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bb(t){return typeof t!="number"?CF(t):{top:t,right:t,bottom:t,left:t}}function Af(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function m1(t,e,n){let{reference:r,floating:o}=t;const l=wo(e),u=Ty(e),d=Ny(u),p=hi(e),m=l==="y",v=r.x+r.width/2-o.width/2,w=r.y+r.height/2-o.height/2,E=r[d]/2-o[d]/2;let j;switch(p){case"top":j={x:v,y:r.y-o.height};break;case"bottom":j={x:v,y:r.y+r.height};break;case"right":j={x:r.x+r.width,y:w};break;case"left":j={x:r.x-o.width,y:w};break;default:j={x:r.x,y:r.y}}switch(mc(e)){case"start":j[u]-=E*(n&&m?-1:1);break;case"end":j[u]+=E*(n&&m?-1:1);break}return j}const NF=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:o}),{x:v,y:w}=m1(m,r,p),E=r,j={},T=0;for(let b=0;b<d.length;b++){const{name:C,fn:k}=d[b],{x:A,y:D,data:R,reset:W}=await k({x:v,y:w,initialPlacement:r,placement:E,strategy:o,middlewareData:j,rects:m,platform:u,elements:{reference:t,floating:e}});v=A??v,w=D??w,j={...j,[C]:{...j[C],...R}},W&&T<=50&&(T++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(m=W.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):W.rects),{x:v,y:w}=m1(m,E,p)),b=-1)}return{x:v,y:w,placement:E,strategy:o,middlewareData:j}};async function Fu(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:l,rects:u,elements:d,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:E=!1,padding:j=0}=di(e,t),T=Bb(j),C=d[E?w==="floating"?"reference":"floating":w],k=Af(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:p})),A=w==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),R=await(l.isElement==null?void 0:l.isElement(D))?await(l.getScale==null?void 0:l.getScale(D))||{x:1,y:1}:{x:1,y:1},W=Af(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:A,offsetParent:D,strategy:p}):A);return{top:(k.top-W.top+T.top)/R.y,bottom:(W.bottom-k.bottom+T.bottom)/R.y,left:(k.left-W.left+T.left)/R.x,right:(W.right-k.right+T.right)/R.x}}const TF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:l,platform:u,elements:d,middlewareData:p}=e,{element:m,padding:v=0}=di(t,e)||{};if(m==null)return{};const w=Bb(v),E={x:n,y:r},j=Ty(o),T=Ny(j),b=await u.getDimensions(m),C=j==="y",k=C?"top":"left",A=C?"bottom":"right",D=C?"clientHeight":"clientWidth",R=l.reference[T]+l.reference[j]-E[j]-l.floating[T],W=E[j]-l.reference[j],Z=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let M=Z?Z[D]:0;(!M||!await(u.isElement==null?void 0:u.isElement(Z)))&&(M=d.floating[D]||l.floating[T]);const P=R/2-W/2,O=M/2-b[T]/2-1,L=xo(w[k],O),U=xo(w[A],O),z=L,F=M-b[T]-U,Ie=M/2-b[T]/2+P,Be=cv(z,Ie,F),_e=!p.arrow&&mc(o)!=null&&Ie!==Be&&l.reference[T]/2-(Ie<z?L:U)-b[T]/2<0,Ne=_e?Ie<z?Ie-z:Ie-F:0;return{[j]:E[j]+Ne,data:{[j]:Be,centerOffset:Ie-Be-Ne,..._e&&{alignmentOffset:Ne}},reset:_e}}}),IF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:l,rects:u,initialPlacement:d,platform:p,elements:m}=e,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:E,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:b=!0,...C}=di(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const k=hi(o),A=wo(d),D=hi(d)===d,R=await(p.isRTL==null?void 0:p.isRTL(m.floating)),W=E||(D||!b?[Pf(d)]:jF(d)),Z=T!=="none";!E&&Z&&W.push(...bF(d,b,T,R));const M=[d,...W],P=await Fu(e,C),O=[];let L=((r=l.flip)==null?void 0:r.overflows)||[];if(v&&O.push(P[k]),w){const Ie=EF(o,u,R);O.push(P[Ie[0]],P[Ie[1]])}if(L=[...L,{placement:o,overflows:O}],!O.every(Ie=>Ie<=0)){var U,z;const Ie=(((U=l.flip)==null?void 0:U.index)||0)+1,Be=M[Ie];if(Be)return{data:{index:Ie,overflows:L},reset:{placement:Be}};let _e=(z=L.filter(Ne=>Ne.overflows[0]<=0).sort((Ne,J)=>Ne.overflows[1]-J.overflows[1])[0])==null?void 0:z.placement;if(!_e)switch(j){case"bestFit":{var F;const Ne=(F=L.filter(J=>{if(Z){const de=wo(J.placement);return de===A||de==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(de=>de>0).reduce((de,ue)=>de+ue,0)]).sort((J,de)=>J[1]-de[1])[0])==null?void 0:F[0];Ne&&(_e=Ne);break}case"initialPlacement":_e=d;break}if(o!==_e)return{reset:{placement:_e}}}return{}}}};function g1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function v1(t){return xF.some(e=>t[e]>=0)}const PF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=di(t,e);switch(r){case"referenceHidden":{const l=await Fu(e,{...o,elementContext:"reference"}),u=g1(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:v1(u)}}}case"escaped":{const l=await Fu(e,{...o,altBoundary:!0}),u=g1(l,n.floating);return{data:{escapedOffsets:u,escaped:v1(u)}}}default:return{}}}}};async function AF(t,e){const{placement:n,platform:r,elements:o}=t,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=hi(n),d=mc(n),p=wo(n)==="y",m=["left","top"].includes(u)?-1:1,v=l&&p?-1:1,w=di(e,t);let{mainAxis:E,crossAxis:j,alignmentAxis:T}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof T=="number"&&(j=d==="end"?T*-1:T),p?{x:j*v,y:E*m}:{x:E*m,y:j*v}}const kF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:l,placement:u,middlewareData:d}=e,p=await AF(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+p.x,y:l+p.y,data:{...p,placement:u}}}}},RF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:C=>{let{x:k,y:A}=C;return{x:k,y:A}}},...p}=di(t,e),m={x:n,y:r},v=await Fu(e,p),w=wo(hi(o)),E=Cy(w);let j=m[E],T=m[w];if(l){const C=E==="y"?"top":"left",k=E==="y"?"bottom":"right",A=j+v[C],D=j-v[k];j=cv(A,j,D)}if(u){const C=w==="y"?"top":"left",k=w==="y"?"bottom":"right",A=T+v[C],D=T-v[k];T=cv(A,T,D)}const b=d.fn({...e,[E]:j,[w]:T});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[E]:l,[w]:u}}}}}},DF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:p=!0,crossAxis:m=!0}=di(t,e),v={x:n,y:r},w=wo(o),E=Cy(w);let j=v[E],T=v[w];const b=di(d,e),C=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const D=E==="y"?"height":"width",R=l.reference[E]-l.floating[D]+C.mainAxis,W=l.reference[E]+l.reference[D]-C.mainAxis;j<R?j=R:j>W&&(j=W)}if(m){var k,A;const D=E==="y"?"width":"height",R=["top","left"].includes(hi(o)),W=l.reference[w]-l.floating[D]+(R&&((k=u.offset)==null?void 0:k[w])||0)+(R?0:C.crossAxis),Z=l.reference[w]+l.reference[D]+(R?0:((A=u.offset)==null?void 0:A[w])||0)-(R?C.crossAxis:0);T<W?T=W:T>Z&&(T=Z)}return{[E]:j,[w]:T}}}},OF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:l,platform:u,elements:d}=e,{apply:p=()=>{},...m}=di(t,e),v=await Fu(e,m),w=hi(o),E=mc(o),j=wo(o)==="y",{width:T,height:b}=l.floating;let C,k;w==="top"||w==="bottom"?(C=w,k=E===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(k=w,C=E==="end"?"top":"bottom");const A=b-v.top-v.bottom,D=T-v.left-v.right,R=xo(b-v[C],A),W=xo(T-v[k],D),Z=!e.middlewareData.shift;let M=R,P=W;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=D),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=A),Z&&!E){const L=tr(v.left,0),U=tr(v.right,0),z=tr(v.top,0),F=tr(v.bottom,0);j?P=T-2*(L!==0||U!==0?L+U:tr(v.left,v.right)):M=b-2*(z!==0||F!==0?z+F:tr(v.top,v.bottom))}await p({...e,availableWidth:P,availableHeight:M});const O=await u.getDimensions(d.floating);return T!==O.width||b!==O.height?{reset:{rects:!0}}:{}}}};function ip(){return typeof window<"u"}function gc(t){return $b(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function As(t){var e;return(e=($b(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $b(t){return ip()?t instanceof Node||t instanceof or(t).Node:!1}function Zr(t){return ip()?t instanceof Element||t instanceof or(t).Element:!1}function Ts(t){return ip()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function y1(t){return!ip()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}function sd(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=es(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function MF(t){return["table","td","th"].includes(gc(t))}function op(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Iy(t){const e=Py(),n=Zr(t)?es(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function LF(t){let e=_o(t);for(;Ts(e)&&!ic(e);){if(Iy(e))return e;if(op(e))return null;e=_o(e)}return null}function Py(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ic(t){return["html","body","#document"].includes(gc(t))}function es(t){return or(t).getComputedStyle(t)}function ap(t){return Zr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _o(t){if(gc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||y1(t)&&t.host||As(t);return y1(e)?e.host:e}function Hb(t){const e=_o(t);return ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ts(e)&&sd(e)?e:Hb(e)}function Vu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=Hb(t),l=o===((r=t.ownerDocument)==null?void 0:r.body),u=or(o);if(l){const d=dv(u);return e.concat(u,u.visualViewport||[],sd(o)?o:[],d&&n?Vu(d):[])}return e.concat(o,Vu(o,[],n))}function dv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wb(t){const e=es(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Ts(t),l=o?t.offsetWidth:n,u=o?t.offsetHeight:r,d=If(n)!==l||If(r)!==u;return d&&(n=l,r=u),{width:n,height:r,$:d}}function Ay(t){return Zr(t)?t:t.contextElement}function zl(t){const e=Ay(t);if(!Ts(e))return js(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:l}=Wb(e);let u=(l?If(n.width):n.width)/r,d=(l?If(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const FF=js(0);function qb(t){const e=or(t);return!Py()||!e.visualViewport?FF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function VF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==or(t)?!1:e}function Sa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),l=Ay(t);let u=js(1);e&&(r?Zr(r)&&(u=zl(r)):u=zl(t));const d=VF(l,n,r)?qb(l):js(0);let p=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,v=o.width/u.x,w=o.height/u.y;if(l){const E=or(l),j=r&&Zr(r)?or(r):r;let T=E,b=dv(T);for(;b&&r&&j!==T;){const C=zl(b),k=b.getBoundingClientRect(),A=es(b),D=k.left+(b.clientLeft+parseFloat(A.paddingLeft))*C.x,R=k.top+(b.clientTop+parseFloat(A.paddingTop))*C.y;p*=C.x,m*=C.y,v*=C.x,w*=C.y,p+=D,m+=R,T=or(b),b=dv(T)}}return Af({width:v,height:w,x:p,y:m})}function ky(t,e){const n=ap(t).scrollLeft;return e?e.left+n:Sa(As(t)).left+n}function Gb(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:ky(t,r)),l=r.top+e.scrollTop;return{x:o,y:l}}function UF(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const l=o==="fixed",u=As(r),d=e?op(e.floating):!1;if(r===u||d&&l)return n;let p={scrollLeft:0,scrollTop:0},m=js(1);const v=js(0),w=Ts(r);if((w||!w&&!l)&&((gc(r)!=="body"||sd(u))&&(p=ap(r)),Ts(r))){const j=Sa(r);m=zl(r),v.x=j.x+r.clientLeft,v.y=j.y+r.clientTop}const E=u&&!w&&!l?Gb(u,p,!0):js(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-p.scrollLeft*m.x+v.x+E.x,y:n.y*m.y-p.scrollTop*m.y+v.y+E.y}}function zF(t){return Array.from(t.getClientRects())}function BF(t){const e=As(t),n=ap(t),r=t.ownerDocument.body,o=tr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=tr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+ky(t);const d=-n.scrollTop;return es(r).direction==="rtl"&&(u+=tr(e.clientWidth,r.clientWidth)-o),{width:o,height:l,x:u,y:d}}function $F(t,e){const n=or(t),r=As(t),o=n.visualViewport;let l=r.clientWidth,u=r.clientHeight,d=0,p=0;if(o){l=o.width,u=o.height;const m=Py();(!m||m&&e==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}return{width:l,height:u,x:d,y:p}}function HF(t,e){const n=Sa(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,l=Ts(t)?zl(t):js(1),u=t.clientWidth*l.x,d=t.clientHeight*l.y,p=o*l.x,m=r*l.y;return{width:u,height:d,x:p,y:m}}function x1(t,e,n){let r;if(e==="viewport")r=$F(t,n);else if(e==="document")r=BF(As(t));else if(Zr(e))r=HF(e,n);else{const o=qb(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Af(r)}function Qb(t,e){const n=_o(t);return n===e||!Zr(n)||ic(n)?!1:es(n).position==="fixed"||Qb(n,e)}function WF(t,e){const n=e.get(t);if(n)return n;let r=Vu(t,[],!1).filter(d=>Zr(d)&&gc(d)!=="body"),o=null;const l=es(t).position==="fixed";let u=l?_o(t):t;for(;Zr(u)&&!ic(u);){const d=es(u),p=Iy(u);!p&&d.position==="fixed"&&(o=null),(l?!p&&!o:!p&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||sd(u)&&!p&&Qb(t,u))?r=r.filter(v=>v!==u):o=d,u=_o(u)}return e.set(t,r),r}function qF(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const u=[...n==="clippingAncestors"?op(e)?[]:WF(e,this._c):[].concat(n),r],d=u[0],p=u.reduce((m,v)=>{const w=x1(e,v,o);return m.top=tr(w.top,m.top),m.right=xo(w.right,m.right),m.bottom=xo(w.bottom,m.bottom),m.left=tr(w.left,m.left),m},x1(e,d,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function GF(t){const{width:e,height:n}=Wb(t);return{width:e,height:n}}function QF(t,e,n){const r=Ts(e),o=As(e),l=n==="fixed",u=Sa(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const p=js(0);if(r||!r&&!l)if((gc(e)!=="body"||sd(o))&&(d=ap(e)),r){const E=Sa(e,!0,l,e);p.x=E.x+e.clientLeft,p.y=E.y+e.clientTop}else o&&(p.x=ky(o));const m=o&&!r&&!l?Gb(o,d):js(0),v=u.left+d.scrollLeft-p.x-m.x,w=u.top+d.scrollTop-p.y-m.y;return{x:v,y:w,width:u.width,height:u.height}}function yg(t){return es(t).position==="static"}function w1(t,e){if(!Ts(t)||es(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return As(t)===n&&(n=n.ownerDocument.body),n}function Kb(t,e){const n=or(t);if(op(t))return n;if(!Ts(t)){let o=_o(t);for(;o&&!ic(o);){if(Zr(o)&&!yg(o))return o;o=_o(o)}return n}let r=w1(t,e);for(;r&&MF(r)&&yg(r);)r=w1(r,e);return r&&ic(r)&&yg(r)&&!Iy(r)?n:r||LF(t)||n}const KF=async function(t){const e=this.getOffsetParent||Kb,n=this.getDimensions,r=await n(t.floating);return{reference:QF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function YF(t){return es(t).direction==="rtl"}const XF={convertOffsetParentRelativeRectToViewportRelativeRect:UF,getDocumentElement:As,getClippingRect:qF,getOffsetParent:Kb,getElementRects:KF,getClientRects:zF,getDimensions:GF,getScale:zl,isElement:Zr,isRTL:YF};function Yb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function JF(t,e){let n=null,r;const o=As(t);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function u(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),l();const m=t.getBoundingClientRect(),{left:v,top:w,width:E,height:j}=m;if(d||e(),!E||!j)return;const T=Mh(w),b=Mh(o.clientWidth-(v+E)),C=Mh(o.clientHeight-(w+j)),k=Mh(v),D={rootMargin:-T+"px "+-b+"px "+-C+"px "+-k+"px",threshold:tr(0,xo(1,p))||1};let R=!0;function W(Z){const M=Z[0].intersectionRatio;if(M!==p){if(!R)return u();M?u(!1,M):r=setTimeout(()=>{u(!1,1e-7)},1e3)}M===1&&!Yb(m,t.getBoundingClientRect())&&u(),R=!1}try{n=new IntersectionObserver(W,{...D,root:o.ownerDocument})}catch{n=new IntersectionObserver(W,D)}n.observe(t)}return u(!0),l}function ZF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=Ay(t),v=o||l?[...m?Vu(m):[],...Vu(e)]:[];v.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),l&&k.addEventListener("resize",n)});const w=m&&d?JF(m,n):null;let E=-1,j=null;u&&(j=new ResizeObserver(k=>{let[A]=k;A&&A.target===m&&j&&(j.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var D;(D=j)==null||D.observe(e)})),n()}),m&&!p&&j.observe(m),j.observe(e));let T,b=p?Sa(t):null;p&&C();function C(){const k=Sa(t);b&&!Yb(b,k)&&n(),b=k,T=requestAnimationFrame(C)}return n(),()=>{var k;v.forEach(A=>{o&&A.removeEventListener("scroll",n),l&&A.removeEventListener("resize",n)}),w==null||w(),(k=j)==null||k.disconnect(),j=null,p&&cancelAnimationFrame(T)}}const e5=kF,t5=RF,n5=IF,r5=OF,s5=PF,_1=TF,i5=DF,o5=(t,e,n)=>{const r=new Map,o={platform:XF,...n},l={...o.platform,_c:r};return NF(t,e,{...o,platform:l})};var Yh=typeof document<"u"?_.useLayoutEffect:_.useEffect;function kf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kf(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const l=o[r];if(!(l==="_owner"&&t.$$typeof)&&!kf(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Xb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function E1(t,e){const n=Xb(t);return Math.round(e*n)/n}function xg(t){const e=_.useRef(t);return Yh(()=>{e.current=t}),e}function a5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:p,open:m}=t,[v,w]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[E,j]=_.useState(r);kf(E,r)||j(r);const[T,b]=_.useState(null),[C,k]=_.useState(null),A=_.useCallback(J=>{J!==Z.current&&(Z.current=J,b(J))},[]),D=_.useCallback(J=>{J!==M.current&&(M.current=J,k(J))},[]),R=l||T,W=u||C,Z=_.useRef(null),M=_.useRef(null),P=_.useRef(v),O=p!=null,L=xg(p),U=xg(o),z=xg(m),F=_.useCallback(()=>{if(!Z.current||!M.current)return;const J={placement:e,strategy:n,middleware:E};U.current&&(J.platform=U.current),o5(Z.current,M.current,J).then(de=>{const ue={...de,isPositioned:z.current!==!1};Ie.current&&!kf(P.current,ue)&&(P.current=ue,Bu.flushSync(()=>{w(ue)}))})},[E,e,n,U,z]);Yh(()=>{m===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,w(J=>({...J,isPositioned:!1})))},[m]);const Ie=_.useRef(!1);Yh(()=>(Ie.current=!0,()=>{Ie.current=!1}),[]),Yh(()=>{if(R&&(Z.current=R),W&&(M.current=W),R&&W){if(L.current)return L.current(R,W,F);F()}},[R,W,F,L,O]);const Be=_.useMemo(()=>({reference:Z,floating:M,setReference:A,setFloating:D}),[A,D]),_e=_.useMemo(()=>({reference:R,floating:W}),[R,W]),Ne=_.useMemo(()=>{const J={position:n,left:0,top:0};if(!_e.floating)return J;const de=E1(_e.floating,v.x),ue=E1(_e.floating,v.y);return d?{...J,transform:"translate("+de+"px, "+ue+"px)",...Xb(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:ue}},[n,d,_e.floating,v.x,v.y]);return _.useMemo(()=>({...v,update:F,refs:Be,elements:_e,floatingStyles:Ne}),[v,F,Be,_e,Ne])}const l5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_1({element:r.current,padding:o}).fn(n):{}:r?_1({element:r,padding:o}).fn(n):{}}}},c5=(t,e)=>({...e5(t),options:[t,e]}),u5=(t,e)=>({...t5(t),options:[t,e]}),d5=(t,e)=>({...i5(t),options:[t,e]}),h5=(t,e)=>({...n5(t),options:[t,e]}),f5=(t,e)=>({...r5(t),options:[t,e]}),p5=(t,e)=>({...s5(t),options:[t,e]}),m5=(t,e)=>({...l5(t),options:[t,e]});var g5="Arrow",Jb=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...l}=t;return i.jsx(He.svg,{...l,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jb.displayName=g5;var v5=Jb;function Ry(t){const[e,n]=_.useState(void 0);return Nn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,d;if("borderBoxSize"in l){const p=l.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Dy="Popper",[Zb,eC]=Is(Dy),[y5,tC]=Zb(Dy),nC=t=>{const{__scopePopper:e,children:n}=t,[r,o]=_.useState(null);return i.jsx(y5,{scope:e,anchor:r,onAnchorChange:o,children:n})};nC.displayName=Dy;var rC="PopperAnchor",sC=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,l=tC(rC,n),u=_.useRef(null),d=dt(e,u);return _.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:i.jsx(He.div,{...o,ref:d})});sC.displayName=rC;var Oy="PopperContent",[x5,w5]=Zb(Oy),iC=_.forwardRef((t,e)=>{var ve,Pe,We,ze,Ze,nt;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:E=!1,updatePositionStrategy:j="optimized",onPlaced:T,...b}=t,C=tC(Oy,n),[k,A]=_.useState(null),D=dt(e,Rt=>A(Rt)),[R,W]=_.useState(null),Z=Ry(R),M=(Z==null?void 0:Z.width)??0,P=(Z==null?void 0:Z.height)??0,O=r+(l!=="center"?"-"+l:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},U=Array.isArray(m)?m:[m],z=U.length>0,F={padding:L,boundary:U.filter(E5),altBoundary:z},{refs:Ie,floatingStyles:Be,placement:_e,isPositioned:Ne,middlewareData:J}=a5({strategy:"fixed",placement:O,whileElementsMounted:(...Rt)=>ZF(...Rt,{animationFrame:j==="always"}),elements:{reference:C.anchor},middleware:[c5({mainAxis:o+P,alignmentAxis:u}),p&&u5({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?d5():void 0,...F}),p&&h5({...F}),f5({...F,apply:({elements:Rt,rects:Yt,availableWidth:ar,availableHeight:br})=>{const{width:Cr,height:Oa}=Yt.reference,Nr=Rt.floating.style;Nr.setProperty("--radix-popper-available-width",`${ar}px`),Nr.setProperty("--radix-popper-available-height",`${br}px`),Nr.setProperty("--radix-popper-anchor-width",`${Cr}px`),Nr.setProperty("--radix-popper-anchor-height",`${Oa}px`)}}),R&&m5({element:R,padding:d}),j5({arrowWidth:M,arrowHeight:P}),E&&p5({strategy:"referenceHidden",...F})]}),[de,ue]=lC(_e),H=hn(T);Nn(()=>{Ne&&(H==null||H())},[Ne,H]);const te=(ve=J.arrow)==null?void 0:ve.x,je=(Pe=J.arrow)==null?void 0:Pe.y,Le=((We=J.arrow)==null?void 0:We.centerOffset)!==0,[Ue,Qe]=_.useState();return Nn(()=>{k&&Qe(window.getComputedStyle(k).zIndex)},[k]),i.jsx("div",{ref:Ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:Ne?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(ze=J.transformOrigin)==null?void 0:ze.x,(Ze=J.transformOrigin)==null?void 0:Ze.y].join(" "),...((nt=J.hide)==null?void 0:nt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(x5,{scope:n,placedSide:de,onArrowChange:W,arrowX:te,arrowY:je,shouldHideArrow:Le,children:i.jsx(He.div,{"data-side":de,"data-align":ue,...b,ref:D,style:{...b.style,animation:Ne?void 0:"none"}})})})});iC.displayName=Oy;var oC="PopperArrow",_5={top:"bottom",right:"left",bottom:"top",left:"right"},aC=_.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,l=w5(oC,r),u=_5[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(v5,{...o,ref:n,style:{...o.style,display:"block"}})})});aC.displayName=oC;function E5(t){return t!==null}var j5=t=>({name:"transformOrigin",options:t,fn(e){var C,k,A;const{placement:n,rects:r,middlewareData:o}=e,u=((C=o.arrow)==null?void 0:C.centerOffset)!==0,d=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[m,v]=lC(n),w={start:"0%",center:"50%",end:"100%"}[v],E=(((k=o.arrow)==null?void 0:k.x)??0)+d/2,j=(((A=o.arrow)==null?void 0:A.y)??0)+p/2;let T="",b="";return m==="bottom"?(T=u?w:`${E}px`,b=`${-p}px`):m==="top"?(T=u?w:`${E}px`,b=`${r.floating.height+p}px`):m==="right"?(T=`${-p}px`,b=u?w:`${j}px`):m==="left"&&(T=`${r.floating.width+p}px`,b=u?w:`${j}px`),{data:{x:T,y:b}}}});function lC(t){const[e,n="center"]=t.split("-");return[e,n]}var S5=nC,b5=sC,C5=iC,N5=aC;function My(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var T5="VisuallyHidden",cC=_.forwardRef((t,e)=>i.jsx(He.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));cC.displayName=T5;var I5=[" ","Enter","ArrowUp","ArrowDown"],P5=[" ","Enter"],id="Select",[lp,cp,A5]=$S(id),[vc,wU]=Is(id,[A5,eC]),up=eC(),[k5,Co]=vc(id),[R5,D5]=vc(id),uC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:l,value:u,defaultValue:d,onValueChange:p,dir:m,name:v,autoComplete:w,disabled:E,required:j,form:T}=t,b=up(e),[C,k]=_.useState(null),[A,D]=_.useState(null),[R,W]=_.useState(!1),Z=np(m),[M=!1,P]=Ea({prop:r,defaultProp:o,onChange:l}),[O,L]=Ea({prop:u,defaultProp:d,onChange:p}),U=_.useRef(null),z=C?T||!!C.closest("form"):!0,[F,Ie]=_.useState(new Set),Be=Array.from(F).map(_e=>_e.props.value).join(";");return i.jsx(S5,{...b,children:i.jsxs(k5,{required:j,scope:e,trigger:C,onTriggerChange:k,valueNode:A,onValueNodeChange:D,valueNodeHasChildren:R,onValueNodeHasChildrenChange:W,contentId:ho(),value:O,onValueChange:L,open:M,onOpenChange:P,dir:Z,triggerPointerDownPosRef:U,disabled:E,children:[i.jsx(lp.Provider,{scope:e,children:i.jsx(R5,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(_e=>{Ie(Ne=>new Set(Ne).add(_e))},[]),onNativeOptionRemove:_.useCallback(_e=>{Ie(Ne=>{const J=new Set(Ne);return J.delete(_e),J})},[]),children:n})}),z?i.jsxs(OC,{"aria-hidden":!0,required:j,tabIndex:-1,name:v,autoComplete:w,value:O,onChange:_e=>L(_e.target.value),disabled:E,form:T,children:[O===void 0?i.jsx("option",{value:""}):null,Array.from(F)]},Be):null]})})};uC.displayName=id;var dC="SelectTrigger",hC=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,l=up(n),u=Co(dC,n),d=u.disabled||r,p=dt(e,u.onTriggerChange),m=cp(n),v=_.useRef("touch"),[w,E,j]=MC(b=>{const C=m().filter(D=>!D.disabled),k=C.find(D=>D.value===u.value),A=LC(C,b,k);A!==void 0&&u.onValueChange(A.value)}),T=b=>{d||(u.onOpenChange(!0),j()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return i.jsx(b5,{asChild:!0,...l,children:i.jsx(He.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":DC(u.value)?"":void 0,...o,ref:p,onClick:$e(o.onClick,b=>{b.currentTarget.focus(),v.current!=="mouse"&&T(b)}),onPointerDown:$e(o.onPointerDown,b=>{v.current=b.pointerType;const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(T(b),b.preventDefault())}),onKeyDown:$e(o.onKeyDown,b=>{const C=w.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&E(b.key),!(C&&b.key===" ")&&I5.includes(b.key)&&(T(),b.preventDefault())})})})});hC.displayName=dC;var fC="SelectValue",pC=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:l,placeholder:u="",...d}=t,p=Co(fC,n),{onValueNodeHasChildrenChange:m}=p,v=l!==void 0,w=dt(e,p.onValueNodeChange);return Nn(()=>{m(v)},[m,v]),i.jsx(He.span,{...d,ref:w,style:{pointerEvents:"none"},children:DC(p.value)?i.jsx(i.Fragment,{children:u}):l})});pC.displayName=fC;var O5="SelectIcon",mC=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return i.jsx(He.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});mC.displayName=O5;var M5="SelectPortal",gC=t=>i.jsx(wy,{asChild:!0,...t});gC.displayName=M5;var ba="SelectContent",vC=_.forwardRef((t,e)=>{const n=Co(ba,t.__scopeSelect),[r,o]=_.useState();if(Nn(()=>{o(new DocumentFragment)},[]),!n.open){const l=r;return l?Bu.createPortal(i.jsx(yC,{scope:t.__scopeSelect,children:i.jsx(lp.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),l):null}return i.jsx(xC,{...t,ref:e})});vC.displayName=ba;var $r=10,[yC,No]=vc(ba),L5="SelectContentImpl",F5=nc("SelectContent.RemoveScroll"),xC=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:p,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:E,collisionPadding:j,sticky:T,hideWhenDetached:b,avoidCollisions:C,...k}=t,A=Co(ba,n),[D,R]=_.useState(null),[W,Z]=_.useState(null),M=dt(e,ve=>R(ve)),[P,O]=_.useState(null),[L,U]=_.useState(null),z=cp(n),[F,Ie]=_.useState(!1),Be=_.useRef(!1);_.useEffect(()=>{if(D)return wb(D)},[D]),hb();const _e=_.useCallback(ve=>{const[Pe,...We]=z().map(nt=>nt.ref.current),[ze]=We.slice(-1),Ze=document.activeElement;for(const nt of ve)if(nt===Ze||(nt==null||nt.scrollIntoView({block:"nearest"}),nt===Pe&&W&&(W.scrollTop=0),nt===ze&&W&&(W.scrollTop=W.scrollHeight),nt==null||nt.focus(),document.activeElement!==Ze))return},[z,W]),Ne=_.useCallback(()=>_e([P,D]),[_e,P,D]);_.useEffect(()=>{F&&Ne()},[F,Ne]);const{onOpenChange:J,triggerPointerDownPosRef:de}=A;_.useEffect(()=>{if(D){let ve={x:0,y:0};const Pe=ze=>{var Ze,nt;ve={x:Math.abs(Math.round(ze.pageX)-(((Ze=de.current)==null?void 0:Ze.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((nt=de.current)==null?void 0:nt.y)??0))}},We=ze=>{ve.x<=10&&ve.y<=10?ze.preventDefault():D.contains(ze.target)||J(!1),document.removeEventListener("pointermove",Pe),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",We,{capture:!0})}}},[D,J,de]),_.useEffect(()=>{const ve=()=>J(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[J]);const[ue,H]=MC(ve=>{const Pe=z().filter(Ze=>!Ze.disabled),We=Pe.find(Ze=>Ze.ref.current===document.activeElement),ze=LC(Pe,ve,We);ze&&setTimeout(()=>ze.ref.current.focus())}),te=_.useCallback((ve,Pe,We)=>{const ze=!Be.current&&!We;(A.value!==void 0&&A.value===Pe||ze)&&(O(ve),ze&&(Be.current=!0))},[A.value]),je=_.useCallback(()=>D==null?void 0:D.focus(),[D]),Le=_.useCallback((ve,Pe,We)=>{const ze=!Be.current&&!We;(A.value!==void 0&&A.value===Pe||ze)&&U(ve)},[A.value]),Ue=r==="popper"?hv:wC,Qe=Ue===hv?{side:d,sideOffset:p,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:E,collisionPadding:j,sticky:T,hideWhenDetached:b,avoidCollisions:C}:{};return i.jsx(yC,{scope:n,content:D,viewport:W,onViewportChange:Z,itemRefCallback:te,selectedItem:P,onItemLeave:je,itemTextRefCallback:Le,focusSelectedItem:Ne,selectedItemText:L,position:r,isPositioned:F,searchRef:ue,children:i.jsx(_y,{as:F5,allowPinchZoom:!0,children:i.jsx(xy,{asChild:!0,trapped:A.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:$e(o,ve=>{var Pe;(Pe=A.trigger)==null||Pe.focus({preventScroll:!0}),ve.preventDefault()}),children:i.jsx(yy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:i.jsx(Ue,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:ve=>ve.preventDefault(),...k,...Qe,onPlaced:()=>Ie(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:$e(k.onKeyDown,ve=>{const Pe=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!Pe&&ve.key.length===1&&H(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let ze=z().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const Ze=ve.target,nt=ze.indexOf(Ze);ze=ze.slice(nt+1)}setTimeout(()=>_e(ze)),ve.preventDefault()}})})})})})})});xC.displayName=L5;var V5="SelectItemAlignedPosition",wC=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,l=Co(ba,n),u=No(ba,n),[d,p]=_.useState(null),[m,v]=_.useState(null),w=dt(e,M=>v(M)),E=cp(n),j=_.useRef(!1),T=_.useRef(!0),{viewport:b,selectedItem:C,selectedItemText:k,focusSelectedItem:A}=u,D=_.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&b&&C&&k){const M=l.trigger.getBoundingClientRect(),P=m.getBoundingClientRect(),O=l.valueNode.getBoundingClientRect(),L=k.getBoundingClientRect();if(l.dir!=="rtl"){const Ze=L.left-P.left,nt=O.left-Ze,Rt=M.left-nt,Yt=M.width+Rt,ar=Math.max(Yt,P.width),br=window.innerWidth-$r,Cr=lv(nt,[$r,Math.max($r,br-ar)]);d.style.minWidth=Yt+"px",d.style.left=Cr+"px"}else{const Ze=P.right-L.right,nt=window.innerWidth-O.right-Ze,Rt=window.innerWidth-M.right-nt,Yt=M.width+Rt,ar=Math.max(Yt,P.width),br=window.innerWidth-$r,Cr=lv(nt,[$r,Math.max($r,br-ar)]);d.style.minWidth=Yt+"px",d.style.right=Cr+"px"}const U=E(),z=window.innerHeight-$r*2,F=b.scrollHeight,Ie=window.getComputedStyle(m),Be=parseInt(Ie.borderTopWidth,10),_e=parseInt(Ie.paddingTop,10),Ne=parseInt(Ie.borderBottomWidth,10),J=parseInt(Ie.paddingBottom,10),de=Be+_e+F+J+Ne,ue=Math.min(C.offsetHeight*5,de),H=window.getComputedStyle(b),te=parseInt(H.paddingTop,10),je=parseInt(H.paddingBottom,10),Le=M.top+M.height/2-$r,Ue=z-Le,Qe=C.offsetHeight/2,ve=C.offsetTop+Qe,Pe=Be+_e+ve,We=de-Pe;if(Pe<=Le){const Ze=U.length>0&&C===U[U.length-1].ref.current;d.style.bottom="0px";const nt=m.clientHeight-b.offsetTop-b.offsetHeight,Rt=Math.max(Ue,Qe+(Ze?je:0)+nt+Ne),Yt=Pe+Rt;d.style.height=Yt+"px"}else{const Ze=U.length>0&&C===U[0].ref.current;d.style.top="0px";const Rt=Math.max(Le,Be+b.offsetTop+(Ze?te:0)+Qe)+We;d.style.height=Rt+"px",b.scrollTop=Pe-Le+b.offsetTop}d.style.margin=`${$r}px 0`,d.style.minHeight=ue+"px",d.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>j.current=!0)}},[E,l.trigger,l.valueNode,d,m,b,C,k,l.dir,r]);Nn(()=>D(),[D]);const[R,W]=_.useState();Nn(()=>{m&&W(window.getComputedStyle(m).zIndex)},[m]);const Z=_.useCallback(M=>{M&&T.current===!0&&(D(),A==null||A(),T.current=!1)},[D,A]);return i.jsx(z5,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:j,onScrollButtonChange:Z,children:i.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:i.jsx(He.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});wC.displayName=V5;var U5="SelectPopperPosition",hv=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=$r,...l}=t,u=up(n);return i.jsx(C5,{...u,...l,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hv.displayName=U5;var[z5,Ly]=vc(ba,{}),fv="SelectViewport",_C=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...o}=t,l=No(fv,n),u=Ly(fv,n),d=dt(e,l.onViewportChange),p=_.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(lp.Slot,{scope:n,children:i.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:$e(o.onScroll,m=>{const v=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:E}=u;if(E!=null&&E.current&&w){const j=Math.abs(p.current-v.scrollTop);if(j>0){const T=window.innerHeight-$r*2,b=parseFloat(w.style.minHeight),C=parseFloat(w.style.height),k=Math.max(b,C);if(k<T){const A=k+j,D=Math.min(T,A),R=A-D;w.style.height=D+"px",w.style.bottom==="0px"&&(v.scrollTop=R>0?R:0,w.style.justifyContent="flex-end")}}}p.current=v.scrollTop})})})]})});_C.displayName=fv;var EC="SelectGroup",[B5,$5]=vc(EC),H5=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=ho();return i.jsx(B5,{scope:n,id:o,children:i.jsx(He.div,{role:"group","aria-labelledby":o,...r,ref:e})})});H5.displayName=EC;var jC="SelectLabel",SC=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=$5(jC,n);return i.jsx(He.div,{id:o.id,...r,ref:e})});SC.displayName=jC;var Rf="SelectItem",[W5,bC]=vc(Rf),CC=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:l,...u}=t,d=Co(Rf,n),p=No(Rf,n),m=d.value===r,[v,w]=_.useState(l??""),[E,j]=_.useState(!1),T=dt(e,A=>{var D;return(D=p.itemRefCallback)==null?void 0:D.call(p,A,r,o)}),b=ho(),C=_.useRef("touch"),k=()=>{o||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(W5,{scope:n,value:r,disabled:o,textId:b,isSelected:m,onItemTextChange:_.useCallback(A=>{w(D=>D||((A==null?void 0:A.textContent)??"").trim())},[]),children:i.jsx(lp.ItemSlot,{scope:n,value:r,disabled:o,textValue:v,children:i.jsx(He.div,{role:"option","aria-labelledby":b,"data-highlighted":E?"":void 0,"aria-selected":m&&E,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:T,onFocus:$e(u.onFocus,()=>j(!0)),onBlur:$e(u.onBlur,()=>j(!1)),onClick:$e(u.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:$e(u.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:$e(u.onPointerDown,A=>{C.current=A.pointerType}),onPointerMove:$e(u.onPointerMove,A=>{var D;C.current=A.pointerType,o?(D=p.onItemLeave)==null||D.call(p):C.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(u.onPointerLeave,A=>{var D;A.currentTarget===document.activeElement&&((D=p.onItemLeave)==null||D.call(p))}),onKeyDown:$e(u.onKeyDown,A=>{var R;((R=p.searchRef)==null?void 0:R.current)!==""&&A.key===" "||(P5.includes(A.key)&&k(),A.key===" "&&A.preventDefault())})})})})});CC.displayName=Rf;var gu="SelectItemText",NC=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...l}=t,u=Co(gu,n),d=No(gu,n),p=bC(gu,n),m=D5(gu,n),[v,w]=_.useState(null),E=dt(e,k=>w(k),p.onItemTextChange,k=>{var A;return(A=d.itemTextRefCallback)==null?void 0:A.call(d,k,p.value,p.disabled)}),j=v==null?void 0:v.textContent,T=_.useMemo(()=>i.jsx("option",{value:p.value,disabled:p.disabled,children:j},p.value),[p.disabled,p.value,j]),{onNativeOptionAdd:b,onNativeOptionRemove:C}=m;return Nn(()=>(b(T),()=>C(T)),[b,C,T]),i.jsxs(i.Fragment,{children:[i.jsx(He.span,{id:p.textId,...l,ref:E}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Bu.createPortal(l.children,u.valueNode):null]})});NC.displayName=gu;var TC="SelectItemIndicator",IC=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return bC(TC,n).isSelected?i.jsx(He.span,{"aria-hidden":!0,...r,ref:e}):null});IC.displayName=TC;var pv="SelectScrollUpButton",PC=_.forwardRef((t,e)=>{const n=No(pv,t.__scopeSelect),r=Ly(pv,t.__scopeSelect),[o,l]=_.useState(!1),u=dt(e,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=p.scrollTop>0;l(m)};const p=n.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?i.jsx(kC,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=n;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});PC.displayName=pv;var mv="SelectScrollDownButton",AC=_.forwardRef((t,e)=>{const n=No(mv,t.__scopeSelect),r=Ly(mv,t.__scopeSelect),[o,l]=_.useState(!1),u=dt(e,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=p.scrollHeight-p.clientHeight,v=Math.ceil(p.scrollTop)<m;l(v)};const p=n.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?i.jsx(kC,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=n;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});AC.displayName=mv;var kC=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,l=No("SelectScrollButton",n),u=_.useRef(null),d=cp(n),p=_.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return _.useEffect(()=>()=>p(),[p]),Nn(()=>{var v;const m=d().find(w=>w.ref.current===document.activeElement);(v=m==null?void 0:m.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),i.jsx(He.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:$e(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:$e(o.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:$e(o.onPointerLeave,()=>{p()})})}),q5="SelectSeparator",RC=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return i.jsx(He.div,{"aria-hidden":!0,...r,ref:e})});RC.displayName=q5;var gv="SelectArrow",G5=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=up(n),l=Co(gv,n),u=No(gv,n);return l.open&&u.position==="popper"?i.jsx(N5,{...o,...r,ref:e}):null});G5.displayName=gv;function DC(t){return t===""||t===void 0}var OC=_.forwardRef((t,e)=>{const{value:n,...r}=t,o=_.useRef(null),l=dt(e,o),u=My(n);return _.useEffect(()=>{const d=o.current,p=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==n&&v){const w=new Event("change",{bubbles:!0});v.call(d,n),d.dispatchEvent(w)}},[u,n]),i.jsx(cC,{asChild:!0,children:i.jsx("select",{...r,ref:l,defaultValue:n})})});OC.displayName="BubbleSelect";function MC(t){const e=hn(t),n=_.useRef(""),r=_.useRef(0),o=_.useCallback(u=>{const d=n.current+u;e(d),function p(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>p(""),1e3))}(d)},[e]),l=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,l]}function LC(t,e,n){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=Q5(t,Math.max(l,0));o.length===1&&(u=u.filter(m=>m!==n));const p=u.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==n?p:void 0}function Q5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var K5=uC,FC=hC,Y5=pC,X5=mC,J5=gC,VC=vC,Z5=_C,UC=SC,zC=CC,e3=NC,t3=IC,BC=PC,$C=AC,HC=RC;const mt=K5,gt=Y5,ft=_.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(FC,{ref:r,className:Ge("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",t),...n,children:[e,i.jsx(X5,{asChild:!0,children:i.jsx(PS,{className:"h-4 w-4 opacity-50"})})]}));ft.displayName=FC.displayName;const WC=_.forwardRef(({className:t,...e},n)=>i.jsx(BC,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(uL,{className:"h-4 w-4"})}));WC.displayName=BC.displayName;const qC=_.forwardRef(({className:t,...e},n)=>i.jsx($C,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(PS,{className:"h-4 w-4"})}));qC.displayName=$C.displayName;const pt=_.forwardRef(({className:t,children:e,position:n="popper",...r},o)=>i.jsx(J5,{children:i.jsxs(VC,{ref:o,className:Ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[i.jsx(WC,{}),i.jsx(Z5,{className:Ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(qC,{})]})}));pt.displayName=VC.displayName;const n3=_.forwardRef(({className:t,...e},n)=>i.jsx(UC,{ref:n,className:Ge("px-2 py-1.5 text-sm font-semibold",t),...e}));n3.displayName=UC.displayName;const ce=_.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(zC,{ref:r,className:Ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",t),...n,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(t3,{children:i.jsx(IS,{className:"h-4 w-4"})})}),i.jsx(e3,{children:e})]}));ce.displayName=zC.displayName;const r3=_.forwardRef(({className:t,...e},n)=>i.jsx(HC,{ref:n,className:Ge("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",t),...e}));r3.displayName=HC.displayName;var Fy="Switch",[s3,_U]=Is(Fy),[i3,o3]=s3(Fy),GC=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:l,required:u,disabled:d,value:p="on",onCheckedChange:m,form:v,...w}=t,[E,j]=_.useState(null),T=dt(e,D=>j(D)),b=_.useRef(!1),C=E?v||!!E.closest("form"):!0,[k=!1,A]=Ea({prop:o,defaultProp:l,onChange:m});return i.jsxs(i3,{scope:n,checked:k,disabled:d,children:[i.jsx(He.button,{type:"button",role:"switch","aria-checked":k,"aria-required":u,"data-state":YC(k),"data-disabled":d?"":void 0,disabled:d,value:p,...w,ref:T,onClick:$e(t.onClick,D=>{A(R=>!R),C&&(b.current=D.isPropagationStopped(),b.current||D.stopPropagation())})}),C&&i.jsx(a3,{control:E,bubbles:!b.current,name:r,value:p,checked:k,required:u,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});GC.displayName=Fy;var QC="SwitchThumb",KC=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,o=o3(QC,n);return i.jsx(He.span,{"data-state":YC(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})});KC.displayName=QC;var a3=t=>{const{control:e,checked:n,bubbles:r=!0,...o}=t,l=_.useRef(null),u=My(n),d=Ry(e);return _.useEffect(()=>{const p=l.current,m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&w){const E=new Event("click",{bubbles:r});w.call(p,n),p.dispatchEvent(E)}},[u,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:l,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function YC(t){return t?"checked":"unchecked"}var XC=GC,l3=KC;const Ct=_.forwardRef(({className:t,...e},n)=>i.jsx(XC,{className:Ge("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=unchecked]:bg-zinc-200 dark:focus-visible:ring-zinc-300 dark:focus-visible:ring-offset-zinc-950 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=unchecked]:bg-zinc-800",t),...e,ref:n,children:i.jsx(l3,{className:Ge("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 dark:bg-zinc-950")})}));Ct.displayName=XC.displayName;const ts=_.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:Ge("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:n,...e}));ts.displayName="Textarea";const c3=fy("inline-flex items-center rounded-md border border-zinc-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 dark:border-zinc-800 dark:focus:ring-zinc-300",{variants:{variant:{default:"border-transparent bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/80 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/80",secondary:"border-transparent bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",destructive:"border-transparent bg-red-500 text-zinc-50 shadow hover:bg-red-500/80 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/80",outline:"text-zinc-950 dark:text-zinc-50"}},defaultVariants:{variant:"default"}});function fn({className:t,variant:e,...n}){return i.jsx("div",{className:Ge(c3({variant:e}),t),...n})}const fi=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:Ge("w-full caption-bottom text-sm",t),...e})}));fi.displayName="Table";const pi=_.forwardRef(({className:t,...e},n)=>i.jsx("thead",{ref:n,className:Ge("[&_tr]:border-b",t),...e}));pi.displayName="TableHeader";const mi=_.forwardRef(({className:t,...e},n)=>i.jsx("tbody",{ref:n,className:Ge("[&_tr:last-child]:border-0",t),...e}));mi.displayName="TableBody";const u3=_.forwardRef(({className:t,...e},n)=>i.jsx("tfoot",{ref:n,className:Ge("border-t bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",t),...e}));u3.displayName="TableFooter";const pn=_.forwardRef(({className:t,...e},n)=>i.jsx("tr",{ref:n,className:Ge("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",t),...e}));pn.displayName="TableRow";const Ae=_.forwardRef(({className:t,...e},n)=>i.jsx("th",{ref:n,className:Ge("h-10 px-2 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] dark:text-zinc-400",t),...e}));Ae.displayName="TableHead";const ke=_.forwardRef(({className:t,...e},n)=>i.jsx("td",{ref:n,className:Ge("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));ke.displayName="TableCell";const d3=_.forwardRef(({className:t,...e},n)=>i.jsx("caption",{ref:n,className:Ge("mt-4 text-sm text-zinc-500 dark:text-zinc-400",t),...e}));d3.displayName="TableCaption";const JC=_.createContext({dragDropManager:void 0});function yr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var j1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),S1=function(){return Math.random().toString(36).substring(7).split("").join(".")},b1={INIT:"@@redux/INIT"+S1(),REPLACE:"@@redux/REPLACE"+S1()};function h3(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ZC(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yr(1));return n(ZC)(t,e)}if(typeof t!="function")throw new Error(yr(2));var o=t,l=e,u=[],d=u,p=!1;function m(){d===u&&(d=u.slice())}function v(){if(p)throw new Error(yr(3));return l}function w(b){if(typeof b!="function")throw new Error(yr(4));if(p)throw new Error(yr(5));var C=!0;return m(),d.push(b),function(){if(C){if(p)throw new Error(yr(6));C=!1,m();var A=d.indexOf(b);d.splice(A,1),u=null}}}function E(b){if(!h3(b))throw new Error(yr(7));if(typeof b.type>"u")throw new Error(yr(8));if(p)throw new Error(yr(9));try{p=!0,l=o(l,b)}finally{p=!1}for(var C=u=d,k=0;k<C.length;k++){var A=C[k];A()}return b}function j(b){if(typeof b!="function")throw new Error(yr(10));o=b,E({type:b1.REPLACE})}function T(){var b,C=w;return b={subscribe:function(A){if(typeof A!="object"||A===null)throw new Error(yr(11));function D(){A.next&&A.next(v())}D();var R=C(D);return{unsubscribe:R}}},b[j1]=function(){return this},b}return E({type:b1.INIT}),r={dispatch:E,subscribe:w,getState:v,replaceReducer:j},r[j1]=T,r}function Ke(t,e,...n){if(f3()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(e.replace(/%s/g,function(){return n[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function f3(){return typeof process<"u"&&!0}function p3(t,e,n){return e.split(".").reduce((r,o)=>r&&r[o]?r[o]:n||null,t)}function m3(t,e){return t.filter(n=>n!==e)}function eN(t){return typeof t=="object"}function g3(t,e){const n=new Map,r=l=>{n.set(l,n.has(l)?n.get(l)+1:1)};t.forEach(r),e.forEach(r);const o=[];return n.forEach((l,u)=>{l===1&&o.push(u)}),o}function v3(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Vy="dnd-core/INIT_COORDS",dp="dnd-core/BEGIN_DRAG",Uy="dnd-core/PUBLISH_DRAG_SOURCE",hp="dnd-core/HOVER",fp="dnd-core/DROP",pp="dnd-core/END_DRAG";function C1(t,e){return{type:Vy,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const y3={type:Vy,payload:{clientOffset:null,sourceClientOffset:null}};function x3(t){return function(n=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:l,getSourceClientOffset:u}=r,d=t.getMonitor(),p=t.getRegistry();t.dispatch(C1(l)),w3(n,d,p);const m=j3(n,d);if(m==null){t.dispatch(y3);return}let v=null;if(l){if(!u)throw new Error("getSourceClientOffset must be defined");_3(u),v=u(m)}t.dispatch(C1(l,v));const E=p.getSource(m).beginDrag(d,m);if(E==null)return;E3(E),p.pinSource(m);const j=p.getSourceType(m);return{type:dp,payload:{itemType:j,item:E,sourceId:m,clientOffset:l||null,sourceClientOffset:v||null,isSourcePublic:!!o}}}}function w3(t,e,n){Ke(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){Ke(n.getSource(r),"Expected sourceIds to be registered.")})}function _3(t){Ke(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function E3(t){Ke(eN(t),"Item must be an object.")}function j3(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function S3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){S3(t,o,n[o])})}return t}function C3(t){return function(n={}){const r=t.getMonitor(),o=t.getRegistry();N3(r),P3(r).forEach((u,d)=>{const p=T3(u,d,o,r),m={type:fp,payload:{dropResult:b3({},n,p)}};t.dispatch(m)})}}function N3(t){Ke(t.isDragging(),"Cannot call drop while not dragging."),Ke(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function T3(t,e,n,r){const o=n.getTarget(t);let l=o?o.drop(r,t):void 0;return I3(l),typeof l>"u"&&(l=e===0?{}:r.getDropResult()),l}function I3(t){Ke(typeof t>"u"||eN(t),"Drop result must either be an object or undefined.")}function P3(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function A3(t){return function(){const n=t.getMonitor(),r=t.getRegistry();k3(n);const o=n.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(n,o),r.unpinSource()),{type:pp}}}function k3(t){Ke(t.isDragging(),"Cannot call endDrag while not dragging.")}function vv(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function R3(t){return function(n,{clientOffset:r}={}){D3(n);const o=n.slice(0),l=t.getMonitor(),u=t.getRegistry(),d=l.getItemType();return M3(o,u,d),O3(o,l,u),L3(o,l,u),{type:hp,payload:{targetIds:o,clientOffset:r||null}}}}function D3(t){Ke(Array.isArray(t),"Expected targetIds to be an array.")}function O3(t,e,n){Ke(e.isDragging(),"Cannot call hover while not dragging."),Ke(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const o=t[r];Ke(t.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const l=n.getTarget(o);Ke(l,"Expected targetIds to be registered.")}}function M3(t,e,n){for(let r=t.length-1;r>=0;r--){const o=t[r],l=e.getTargetType(o);vv(l,n)||t.splice(r,1)}}function L3(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function F3(t){return function(){if(t.getMonitor().isDragging())return{type:Uy}}}function V3(t){return{beginDrag:x3(t),publishDragSource:F3(t),hover:R3(t),drop:C3(t),endDrag:A3(t)}}class U3{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(l){return(...u)=>{const d=l.apply(e,u);typeof d<"u"&&n(d)}}const o=V3(this);return Object.keys(o).reduce((l,u)=>{const d=o[u];return l[u]=r(d),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function z3(t,e){return{x:t.x+e.x,y:t.y+e.y}}function tN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function B3(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:tN(z3(e,r),n)}function $3(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:tN(e,n)}const bu=[],zy=[];bu.__IS_NONE__=!0;zy.__IS_ALL__=!0;function H3(t,e){return t===bu?!1:t===zy||typeof e>"u"?!0:v3(e,t).length>0}class W3{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;Ke(typeof e=="function","listener must be a function."),Ke(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const l=()=>{const u=this.store.getState(),d=u.stateId;try{d===o||d===o+1&&!H3(u.dirtyHandlerIds,r)||e()}finally{o=d}};return this.store.subscribe(l)}subscribeToOffsetChange(e){Ke(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return Ke(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(Ke(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();return vv(r,o)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(Ke(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),o=this.getItemType();return r!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),l=this.getItemType();if(l&&!vv(o,l))return!1;const u=this.getTargetIds();if(!u.length)return!1;const d=u.indexOf(e);return r?d===u.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return B3(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return $3(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const N1=typeof global<"u"?global:self,nN=N1.MutationObserver||N1.WebKitMutationObserver;function rN(t){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),t()}}}function q3(t){let e=1;const n=new nN(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const G3=typeof nN=="function"?q3:rN;class Q3{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,o=e.length-this.index;r<o;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=G3(this.flush),this.requestErrorThrow=rN(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class K3{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class Y3{create(e){const n=this.freeTasks,r=n.length?n.pop():new K3(this.onError,o=>n[n.length]=o);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const sN=new Q3,X3=new Y3(sN.registerPendingError);function J3(t){sN.enqueueTask(X3.create(t))}const By="dnd-core/ADD_SOURCE",$y="dnd-core/ADD_TARGET",Hy="dnd-core/REMOVE_SOURCE",mp="dnd-core/REMOVE_TARGET";function Z3(t){return{type:By,payload:{sourceId:t}}}function eV(t){return{type:$y,payload:{targetId:t}}}function tV(t){return{type:Hy,payload:{sourceId:t}}}function nV(t){return{type:mp,payload:{targetId:t}}}function rV(t){Ke(typeof t.canDrag=="function","Expected canDrag to be a function."),Ke(typeof t.beginDrag=="function","Expected beginDrag to be a function."),Ke(typeof t.endDrag=="function","Expected endDrag to be a function.")}function sV(t){Ke(typeof t.canDrop=="function","Expected canDrop to be a function."),Ke(typeof t.hover=="function","Expected hover to be a function."),Ke(typeof t.drop=="function","Expected beginDrag to be a function.")}function yv(t,e){if(e&&Array.isArray(t)){t.forEach(n=>yv(n,!1));return}Ke(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var wr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(wr||(wr={}));let iV=0;function oV(){return iV++}function aV(t){const e=oV().toString();switch(t){case wr.SOURCE:return`S${e}`;case wr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function T1(t){switch(t[0]){case"S":return wr.SOURCE;case"T":return wr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function I1(t,e){const n=t.entries();let r=!1;do{const{done:o,value:[,l]}=n.next();if(l===e)return!0;r=!!o}while(!r);return!1}class lV{addSource(e,n){yv(e),rV(n);const r=this.addHandler(wr.SOURCE,e,n);return this.store.dispatch(Z3(r)),r}addTarget(e,n){yv(e,!0),sV(n);const r=this.addHandler(wr.TARGET,e,n);return this.store.dispatch(eV(r)),r}containsHandler(e){return I1(this.dragSources,e)||I1(this.dropTargets,e)}getSource(e,n=!1){return Ke(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Ke(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Ke(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Ke(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return T1(e)===wr.SOURCE}isTargetId(e){return T1(e)===wr.TARGET}removeSource(e){Ke(this.getSource(e),"Expected an existing source."),this.store.dispatch(tV(e)),J3(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Ke(this.getTarget(e),"Expected an existing target."),this.store.dispatch(nV(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);Ke(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){Ke(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const o=aV(e);return this.types.set(o,n),e===wr.SOURCE?this.dragSources.set(o,r):e===wr.TARGET&&this.dropTargets.set(o,r),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const cV=(t,e)=>t===e;function uV(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function dV(t,e,n=cV){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function hV(t=bu,e){switch(e.type){case hp:break;case By:case $y:case mp:case Hy:return bu;case dp:case Uy:case pp:case fp:default:return zy}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,o=g3(n,r);if(!(o.length>0||!dV(n,r)))return bu;const u=r[r.length-1],d=n[n.length-1];return u!==d&&(u&&o.push(u),d&&o.push(d)),o}function fV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){fV(t,o,n[o])})}return t}const P1={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function mV(t=P1,e){const{payload:n}=e;switch(e.type){case Vy:case dp:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case hp:return uV(t.clientOffset,n.clientOffset)?t:pV({},t,{clientOffset:n.clientOffset});case pp:case fp:return P1;default:return t}}function gV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){gV(t,o,n[o])})}return t}const vV={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function yV(t=vV,e){const{payload:n}=e;switch(e.type){case dp:return Il({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Uy:return Il({},t,{isSourcePublic:!0});case hp:return Il({},t,{targetIds:n.targetIds});case mp:return t.targetIds.indexOf(n.targetId)===-1?t:Il({},t,{targetIds:m3(t.targetIds,n.targetId)});case fp:return Il({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case pp:return Il({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function xV(t=0,e){switch(e.type){case By:case $y:return t+1;case Hy:case mp:return t-1;default:return t}}function wV(t=0){return t+1}function _V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){_V(t,o,n[o])})}return t}function jV(t={},e){return{dirtyHandlerIds:hV(t.dirtyHandlerIds,{type:e.type,payload:EV({},e.payload,{prevTargetIds:p3(t,"dragOperation.targetIds",[])})}),dragOffset:mV(t.dragOffset,e),refCount:xV(t.refCount,e),dragOperation:yV(t.dragOperation,e),stateId:wV(t.stateId)}}function SV(t,e=void 0,n={},r=!1){const o=bV(r),l=new W3(o,new lV(o)),u=new U3(o,l),d=t(u,e,n);return u.receiveBackend(d),u}function bV(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return ZC(jV,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function CV(t,e){if(t==null)return{};var n=NV(t,e),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)r=l[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NV(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}let A1=0;const Xh=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var TV=_.memo(function(e){var{children:n}=e,r=CV(e,["children"]);const[o,l]=IV(r);return _.useEffect(()=>{if(l){const u=iN();return++A1,()=>{--A1===0&&(u[Xh]=null)}}},[]),i.jsx(JC.Provider,{value:o,children:n})});function IV(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=PV(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function PV(t,e=iN(),n,r){const o=e;return o[Xh]||(o[Xh]={dragDropManager:SV(t,e,n,r)}),o[Xh]}function iN(){return typeof global<"u"?global:window}var wg,k1;function AV(){return k1||(k1=1,wg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,l;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[o]))return!1;for(o=r;o--!==0;){var u=l[o];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}),wg}var kV=AV();const RV=jv(kV),Ca=typeof window<"u"?_.useLayoutEffect:_.useEffect;function DV(t,e,n){const[r,o]=_.useState(()=>e(t)),l=_.useCallback(()=>{const u=e(t);RV(r,u)||(o(u),n&&n())},[r,t,n]);return Ca(l),[r,l]}function OV(t,e,n){const[r,o]=DV(t,e,n);return Ca(function(){const u=t.getHandlerId();if(u!=null)return t.subscribeToStateChange(o,{handlerIds:[u]})},[t,o]),r}function oN(t,e,n){return OV(e,t||(()=>({})),()=>n.reconnect())}function aN(t,e){const n=[];return typeof t!="function"&&n.push(t),_.useMemo(()=>typeof t=="function"?t():t,n)}function MV(t){return _.useMemo(()=>t.hooks.dragSource(),[t])}function LV(t){return _.useMemo(()=>t.hooks.dragPreview(),[t])}let _g=!1,Eg=!1;class FV{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Ke(!_g,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return _g=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{_g=!1}}isDragging(){if(!this.sourceId)return!1;Ke(!Eg,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Eg=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Eg=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let jg=!1;class VV{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;Ke(!jg,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return jg=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{jg=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function UV(t,e,n){const r=n.getRegistry(),o=r.addTarget(t,e);return[o,()=>r.removeTarget(o)]}function zV(t,e,n){const r=n.getRegistry(),o=r.addSource(t,e);return[o,()=>r.removeSource(o)]}function xv(t,e,n,r){let o;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;const d=Object.prototype.hasOwnProperty.bind(e);for(let p=0;p<l.length;p++){const m=l[p];if(!d(m))return!1;const v=t[m],w=e[m];if(o=void 0,o===!1||o===void 0&&v!==w)return!1}return!0}function wv(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BV(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function $V(t){return(e=null,n=null)=>{if(!_.isValidElement(e)){const l=e;return t(l,n),l}const r=e;return BV(r),HV(r,n?l=>t(l,n):t)}}function lN(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const o=$V(r);e[n]=()=>o}}),e}function R1(t,e){typeof t=="function"?t(e):t.current=e}function HV(t,e){const n=t.ref;return Ke(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?_.cloneElement(t,{ref:r=>{R1(n,r),R1(e,r)}}):_.cloneElement(t,{ref:e})}class WV{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!xv(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!xv(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=lN({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,wv(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,wv(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class qV{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!xv(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=lN({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,wv(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function yc(){const{dragDropManager:t}=_.useContext(JC);return Ke(t!=null,"Expected drag drop context"),t}function GV(t,e){const n=yc(),r=_.useMemo(()=>new WV(n.getBackend()),[n]);return Ca(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Ca(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function QV(){const t=yc();return _.useMemo(()=>new FV(t),[t])}class KV{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,o=this.monitor,{isDragging:l}=r;return l?l(o):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:o}=e;o&&o(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function YV(t,e,n){const r=_.useMemo(()=>new KV(t,e,n),[e,n]);return _.useEffect(()=>{r.spec=t},[t]),r}function XV(t){return _.useMemo(()=>{const e=t.type;return Ke(e!=null,"spec.type must be defined"),e},[t])}function JV(t,e,n){const r=yc(),o=YV(t,e,n),l=XV(t);Ca(function(){if(l!=null){const[d,p]=zV(l,o,r);return e.receiveHandlerId(d),n.receiveHandlerId(d),p}},[r,e,n,o,l])}function cN(t,e){const n=aN(t);Ke(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=QV(),o=GV(n.options,n.previewOptions);return JV(n,r,o),[oN(n.collect,r,o),MV(o),LV(o)]}function ZV(t){return _.useMemo(()=>t.hooks.dropTarget(),[t])}function e9(t){const e=yc(),n=_.useMemo(()=>new qV(e.getBackend()),[e]);return Ca(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function t9(){const t=yc();return _.useMemo(()=>new VV(t),[t])}function n9(t){const{accept:e}=t;return _.useMemo(()=>(Ke(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class r9{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function s9(t,e){const n=_.useMemo(()=>new r9(t,e),[e]);return _.useEffect(()=>{n.spec=t},[t]),n}function i9(t,e,n){const r=yc(),o=s9(t,e),l=n9(t);Ca(function(){const[d,p]=UV(l,o,r);return e.receiveHandlerId(d),n.receiveHandlerId(d),p},[r,e,o,n,l.map(u=>u.toString()).join("|")])}function o9(t,e){const n=aN(t),r=t9(),o=e9(n.options);return i9(n,r,o),[oN(n.collect,r,o),ZV(o)]}function uN(t){let e=null;return()=>(e==null&&(e=t()),e)}function a9(t,e){return t.filter(n=>n!==e)}function l9(t,e){const n=new Set,r=l=>n.add(l);t.forEach(r),e.forEach(r);const o=[];return n.forEach(l=>o.push(l)),o}class c9{enter(e){const n=this.entered.length,r=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=l9(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=a9(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class u9{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];o!=null&&(n[r]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const dN="__NATIVE_FILE__",hN="__NATIVE_URL__",fN="__NATIVE_TEXT__",pN="__NATIVE_HTML__",D1=Object.freeze(Object.defineProperty({__proto__:null,FILE:dN,HTML:pN,TEXT:fN,URL:hN},Symbol.toStringTag,{value:"Module"}));function Sg(t,e,n){const r=e.reduce((o,l)=>o||t.getData(l),"");return r??n}const _v={[dN]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[pN]:{exposeProperties:{html:(t,e)=>Sg(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[hN]:{exposeProperties:{urls:(t,e)=>Sg(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[fN]:{exposeProperties:{text:(t,e)=>Sg(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function d9(t,e){const n=_v[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new u9(n);return r.loadDataTransfer(e),r}function bg(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(_v).filter(n=>{const r=_v[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const h9=uN(()=>/firefox/i.test(navigator.userAgent)),mN=uN(()=>!!window.safari);class O1{interpolate(e){const{xs:n,ys:r,c1s:o,c2s:l,c3s:u}=this;let d=n.length-1;if(e===n[d])return r[d];let p=0,m=u.length-1,v;for(;p<=m;){v=Math.floor(.5*(p+m));const j=n[v];if(j<e)p=v+1;else if(j>e)m=v-1;else return r[v]}d=Math.max(0,m);const w=e-n[d],E=w*w;return r[d]+o[d]*w+l[d]*E+u[d]*w*E}constructor(e,n){const{length:r}=e,o=[];for(let j=0;j<r;j++)o.push(j);o.sort((j,T)=>e[j]<e[T]?-1:1);const l=[],u=[];let d,p;for(let j=0;j<r-1;j++)d=e[j+1]-e[j],p=n[j+1]-n[j],l.push(d),u.push(p/d);const m=[u[0]];for(let j=0;j<l.length-1;j++){const T=u[j],b=u[j+1];if(T*b<=0)m.push(0);else{d=l[j];const C=l[j+1],k=d+C;m.push(3*k/((k+C)/T+(k+d)/b))}}m.push(u[u.length-1]);const v=[],w=[];let E;for(let j=0;j<m.length-1;j++){E=u[j];const T=m[j],b=1/l[j],C=T+m[j+1]-E-E;v.push((E-T-C)*b),w.push(C*b*b)}this.xs=e,this.ys=n,this.c1s=m,this.c2s=v,this.c3s=w}}const f9=1;function gN(t){const e=t.nodeType===f9?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Lh(t){return{x:t.clientX,y:t.clientY}}function p9(t){var e;return t.nodeName==="IMG"&&(h9()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function m9(t,e,n,r){let o=t?e.width:n,l=t?e.height:r;return mN()&&t&&(l/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:l}}function g9(t,e,n,r,o){const l=p9(e),d=gN(l?t:e),p={x:n.x-d.x,y:n.y-d.y},{offsetWidth:m,offsetHeight:v}=t,{anchorX:w,anchorY:E}=r,{dragPreviewWidth:j,dragPreviewHeight:T}=m9(l,e,m,v),b=()=>{let Z=new O1([0,.5,1],[p.y,p.y/v*T,p.y+T-v]).interpolate(E);return mN()&&l&&(Z+=(window.devicePixelRatio-1)*T),Z},C=()=>new O1([0,.5,1],[p.x,p.x/m*j,p.x+j-m]).interpolate(w),{offsetX:k,offsetY:A}=o,D=k===0||k,R=A===0||A;return{x:D?k:C(),y:R?A:b()}}class v9{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function y9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){y9(t,o,n[o])})}return t}class x9{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const o=u=>this.handleDragStart(u,e),l=u=>this.handleSelectStart(u);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",l),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=u=>this.handleDragEnter(u,e),o=u=>this.handleDragOver(u,e),l=u=>this.handleDrop(u,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",o),n.addEventListener("drop",l),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",o),n.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return M1({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return M1({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(D1).some(n=>D1[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=d9(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const l=this.sourceNodes.get(o);return l&&gN(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const u=Lh(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:d}=o,p=bg(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const v=this.monitor.getSourceId(),w=this.sourceNodes.get(v),E=this.sourcePreviewNodes.get(v)||w;if(E){const{anchorX:j,anchorY:T,offsetX:b,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),D=g9(w,E,u,{anchorX:j,anchorY:T},{offsetX:b,offsetY:C});d.setDragImage(E,D.x,D.y)}}try{d==null||d.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(p)this.beginDragNativeItem(p);else{if(d&&!d.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:d}=o,p=bg(d);p&&this.beginDragNativeItem(p,d)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,l.length>0&&this.actions.hover(l,{clientOffset:Lh(o)}),l.some(d=>this.monitor.canDropOnTarget(d))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Lh(o),this.scheduleHover(l),(l||[]).some(d=>this.monitor.canDropOnTarget(d))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;o.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}else bg(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:Lh(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const l=o.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(o.preventDefault(),l.dragDrop()))},this.options=new v9(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new c9(this.isNodeInDocument)}}const w9=function(e,n,r){return new x9(e,n,r)};var _9="Separator",L1="horizontal",E9=["horizontal","vertical"],vN=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=L1,...o}=t,l=j9(r)?r:L1,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return i.jsx(He.div,{"data-orientation":l,...d,...o,ref:e})});vN.displayName=_9;function j9(t){return E9.includes(t)}var yN=vN;const xN=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},o)=>i.jsx(yN,{ref:o,decorative:n,orientation:e,className:Ge("shrink-0 bg-zinc-200 dark:bg-zinc-800",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));xN.displayName=yN.displayName;function S9(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Wy="ScrollArea",[wN,EU]=Is(Wy),[b9,Sr]=wN(Wy),_N=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:l=600,...u}=t,[d,p]=_.useState(null),[m,v]=_.useState(null),[w,E]=_.useState(null),[j,T]=_.useState(null),[b,C]=_.useState(null),[k,A]=_.useState(0),[D,R]=_.useState(0),[W,Z]=_.useState(!1),[M,P]=_.useState(!1),O=dt(e,U=>p(U)),L=np(o);return i.jsx(b9,{scope:n,type:r,dir:L,scrollHideDelay:l,scrollArea:d,viewport:m,onViewportChange:v,content:w,onContentChange:E,scrollbarX:j,onScrollbarXChange:T,scrollbarXEnabled:W,onScrollbarXEnabledChange:Z,scrollbarY:b,onScrollbarYChange:C,scrollbarYEnabled:M,onScrollbarYEnabledChange:P,onCornerWidthChange:A,onCornerHeightChange:R,children:i.jsx(He.div,{dir:L,...u,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":D+"px",...t.style}})})});_N.displayName=Wy;var EN="ScrollAreaViewport",jN=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:o,...l}=t,u=Sr(EN,n),d=_.useRef(null),p=dt(e,d,u.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(He.div,{"data-radix-scroll-area-viewport":"",...l,ref:p,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});jN.displayName=EN;var ks="ScrollAreaScrollbar",qy=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=Sr(ks,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=o,d=t.orientation==="horizontal";return _.useEffect(()=>(d?l(!0):u(!0),()=>{d?l(!1):u(!1)}),[d,l,u]),o.type==="hover"?i.jsx(C9,{...r,ref:e,forceMount:n}):o.type==="scroll"?i.jsx(N9,{...r,ref:e,forceMount:n}):o.type==="auto"?i.jsx(SN,{...r,ref:e,forceMount:n}):o.type==="always"?i.jsx(Gy,{...r,ref:e}):null});qy.displayName=ks;var C9=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=Sr(ks,t.__scopeScrollArea),[l,u]=_.useState(!1);return _.useEffect(()=>{const d=o.scrollArea;let p=0;if(d){const m=()=>{window.clearTimeout(p),u(!0)},v=()=>{p=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",v),()=>{window.clearTimeout(p),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",v)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(Ps,{present:n||l,children:i.jsx(SN,{"data-state":l?"visible":"hidden",...r,ref:e})})}),N9=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=Sr(ks,t.__scopeScrollArea),l=t.orientation==="horizontal",u=vp(()=>p("SCROLL_END"),100),[d,p]=S9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>p("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,o.scrollHideDelay,p]),_.useEffect(()=>{const m=o.viewport,v=l?"scrollLeft":"scrollTop";if(m){let w=m[v];const E=()=>{const j=m[v];w!==j&&(p("SCROLL"),u()),w=j};return m.addEventListener("scroll",E),()=>m.removeEventListener("scroll",E)}},[o.viewport,l,p,u]),i.jsx(Ps,{present:n||d!=="hidden",children:i.jsx(Gy,{"data-state":d==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:$e(t.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:$e(t.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),SN=_.forwardRef((t,e)=>{const n=Sr(ks,t.__scopeScrollArea),{forceMount:r,...o}=t,[l,u]=_.useState(!1),d=t.orientation==="horizontal",p=vp(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,v=n.viewport.offsetHeight<n.viewport.scrollHeight;u(d?m:v)}},10);return oc(n.viewport,p),oc(n.content,p),i.jsx(Ps,{present:r||l,children:i.jsx(Gy,{"data-state":l?"visible":"hidden",...o,ref:e})})}),Gy=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,o=Sr(ks,t.__scopeScrollArea),l=_.useRef(null),u=_.useRef(0),[d,p]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=IN(d.viewport,d.content),v={...r,sizes:d,onSizesChange:p,hasThumb:m>0&&m<1,onThumbChange:E=>l.current=E,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:E=>u.current=E};function w(E,j){return R9(E,u.current,d,j)}return n==="horizontal"?i.jsx(T9,{...v,ref:e,onThumbPositionChange:()=>{if(o.viewport&&l.current){const E=o.viewport.scrollLeft,j=F1(E,d,o.dir);l.current.style.transform=`translate3d(${j}px, 0, 0)`}},onWheelScroll:E=>{o.viewport&&(o.viewport.scrollLeft=E)},onDragScroll:E=>{o.viewport&&(o.viewport.scrollLeft=w(E,o.dir))}}):n==="vertical"?i.jsx(I9,{...v,ref:e,onThumbPositionChange:()=>{if(o.viewport&&l.current){const E=o.viewport.scrollTop,j=F1(E,d);l.current.style.transform=`translate3d(0, ${j}px, 0)`}},onWheelScroll:E=>{o.viewport&&(o.viewport.scrollTop=E)},onDragScroll:E=>{o.viewport&&(o.viewport.scrollTop=w(E))}}):null}),T9=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,l=Sr(ks,t.__scopeScrollArea),[u,d]=_.useState(),p=_.useRef(null),m=dt(e,p,l.onScrollbarXChange);return _.useEffect(()=>{p.current&&d(getComputedStyle(p.current))},[p]),i.jsx(CN,{"data-orientation":"horizontal",...o,ref:m,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gp(n)+"px",...t.style},onThumbPointerDown:v=>t.onThumbPointerDown(v.x),onDragScroll:v=>t.onDragScroll(v.x),onWheelScroll:(v,w)=>{if(l.viewport){const E=l.viewport.scrollLeft+v.deltaX;t.onWheelScroll(E),AN(E,w)&&v.preventDefault()}},onResize:()=>{p.current&&l.viewport&&u&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:Of(u.paddingLeft),paddingEnd:Of(u.paddingRight)}})}})}),I9=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,l=Sr(ks,t.__scopeScrollArea),[u,d]=_.useState(),p=_.useRef(null),m=dt(e,p,l.onScrollbarYChange);return _.useEffect(()=>{p.current&&d(getComputedStyle(p.current))},[p]),i.jsx(CN,{"data-orientation":"vertical",...o,ref:m,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gp(n)+"px",...t.style},onThumbPointerDown:v=>t.onThumbPointerDown(v.y),onDragScroll:v=>t.onDragScroll(v.y),onWheelScroll:(v,w)=>{if(l.viewport){const E=l.viewport.scrollTop+v.deltaY;t.onWheelScroll(E),AN(E,w)&&v.preventDefault()}},onResize:()=>{p.current&&l.viewport&&u&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:Of(u.paddingTop),paddingEnd:Of(u.paddingBottom)}})}})}),[P9,bN]=wN(ks),CN=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:p,onDragScroll:m,onWheelScroll:v,onResize:w,...E}=t,j=Sr(ks,n),[T,b]=_.useState(null),C=dt(e,O=>b(O)),k=_.useRef(null),A=_.useRef(""),D=j.viewport,R=r.content-r.viewport,W=hn(v),Z=hn(p),M=vp(w,10);function P(O){if(k.current){const L=O.clientX-k.current.left,U=O.clientY-k.current.top;m({x:L,y:U})}}return _.useEffect(()=>{const O=L=>{const U=L.target;(T==null?void 0:T.contains(U))&&W(L,R)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[D,T,R,W]),_.useEffect(Z,[r,Z]),oc(T,M),oc(j.content,M),i.jsx(P9,{scope:n,scrollbar:T,hasThumb:o,onThumbChange:hn(l),onThumbPointerUp:hn(u),onThumbPositionChange:Z,onThumbPointerDown:hn(d),children:i.jsx(He.div,{...E,ref:C,style:{position:"absolute",...E.style},onPointerDown:$e(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),k.current=T.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),P(O))}),onPointerMove:$e(t.onPointerMove,P),onPointerUp:$e(t.onPointerUp,O=>{const L=O.target;L.hasPointerCapture(O.pointerId)&&L.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=A.current,j.viewport&&(j.viewport.style.scrollBehavior=""),k.current=null})})})}),Df="ScrollAreaThumb",NN=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=bN(Df,t.__scopeScrollArea);return i.jsx(Ps,{present:n||o.hasThumb,children:i.jsx(A9,{ref:e,...r})})}),A9=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...o}=t,l=Sr(Df,n),u=bN(Df,n),{onThumbPositionChange:d}=u,p=dt(e,w=>u.onThumbChange(w)),m=_.useRef(void 0),v=vp(()=>{m.current&&(m.current(),m.current=void 0)},100);return _.useEffect(()=>{const w=l.viewport;if(w){const E=()=>{if(v(),!m.current){const j=D9(w,d);m.current=j,d()}};return d(),w.addEventListener("scroll",E),()=>w.removeEventListener("scroll",E)}},[l.viewport,v,d]),i.jsx(He.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:$e(t.onPointerDownCapture,w=>{const j=w.target.getBoundingClientRect(),T=w.clientX-j.left,b=w.clientY-j.top;u.onThumbPointerDown({x:T,y:b})}),onPointerUp:$e(t.onPointerUp,u.onThumbPointerUp)})});NN.displayName=Df;var Qy="ScrollAreaCorner",TN=_.forwardRef((t,e)=>{const n=Sr(Qy,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(k9,{...t,ref:e}):null});TN.displayName=Qy;var k9=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,o=Sr(Qy,n),[l,u]=_.useState(0),[d,p]=_.useState(0),m=!!(l&&d);return oc(o.scrollbarX,()=>{var w;const v=((w=o.scrollbarX)==null?void 0:w.offsetHeight)||0;o.onCornerHeightChange(v),p(v)}),oc(o.scrollbarY,()=>{var w;const v=((w=o.scrollbarY)==null?void 0:w.offsetWidth)||0;o.onCornerWidthChange(v),u(v)}),m?i.jsx(He.div,{...r,ref:e,style:{width:l,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Of(t){return t?parseInt(t,10):0}function IN(t,e){const n=t/e;return isNaN(n)?0:n}function gp(t){const e=IN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function R9(t,e,n,r="ltr"){const o=gp(n),l=o/2,u=e||l,d=o-u,p=n.scrollbar.paddingStart+u,m=n.scrollbar.size-n.scrollbar.paddingEnd-d,v=n.content-n.viewport,w=r==="ltr"?[0,v]:[v*-1,0];return PN([p,m],w)(t)}function F1(t,e,n="ltr"){const r=gp(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=e.scrollbar.size-o,u=e.content-e.viewport,d=l-r,p=n==="ltr"?[0,u]:[u*-1,0],m=lv(t,p);return PN([0,u],[0,d])(m)}function PN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function AN(t,e){return t>0&&t<e}var D9=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function o(){const l={left:t.scrollLeft,top:t.scrollTop},u=n.left!==l.left,d=n.top!==l.top;(u||d)&&e(),n=l,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function vp(t,e){const n=hn(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function oc(t,e){const n=hn(e);Nn(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,n])}var kN=_N,O9=jN,M9=TN;const RN=_.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(kN,{ref:r,className:Ge("relative overflow-hidden",t),...n,children:[i.jsx(O9,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(DN,{}),i.jsx(M9,{})]}));RN.displayName=kN.displayName;const DN=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>i.jsx(qy,{ref:r,orientation:e,className:Ge("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:i.jsx(NN,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"})}));DN.displayName=qy.displayName;const Mf={NODE:"node",PALETTE_ITEM:"palette_item"},L9=({node:t,isSelected:e,onSelect:n,onMove:r,onDelete:o})=>{const[{isDragging:l},u]=cN({type:Mf.NODE,item:{id:t.node_id,x:t.x,y:t.y},collect:m=>({isDragging:m.isDragging()})}),d=()=>{switch(t.type){case"question":return i.jsx(Cf,{className:"h-4 w-4"});case"action":return i.jsx(LS,{className:"h-4 w-4"});case"end":return i.jsx(VS,{className:"h-4 w-4"});default:return i.jsx(Cf,{className:"h-4 w-4"})}},p=()=>{switch(t.type){case"question":return"bg-blue-500";case"action":return"bg-green-500";case"end":return"bg-red-500";default:return"bg-gray-500"}};return i.jsx("div",{ref:u,className:`absolute cursor-move ${l?"opacity-50":""}`,style:{left:t.x,top:t.y},onClick:()=>n(t.node_id),children:i.jsxs(fe,{className:`w-48 shadow-lg hover:shadow-xl transition-shadow ${e?"ring-2 ring-blue-500":""}`,children:[i.jsx(pe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`p-1 rounded text-white ${p()}`,children:d()}),i.jsx(fn,{variant:"outline",className:"text-xs",children:t.type})]}),i.jsx(X,{variant:"ghost",size:"sm",onClick:m=>{m.stopPropagation(),o(t.node_id)},className:"h-6 w-6 p-0",children:i.jsx(Jr,{className:"h-3 w-3"})})]})}),i.jsxs(me,{className:"pt-0",children:[i.jsx("div",{className:"text-sm font-medium truncate",children:t.question||t.node_id}),t.answers&&t.answers.length>0&&i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[t.answers.length," answer",t.answers.length!==1?"s":""]})]})]})})},Cg=({type:t,icon:e,label:n,color:r})=>{const[{isDragging:o},l]=cN({type:Mf.PALETTE_ITEM,item:{nodeType:t},collect:u=>({isDragging:u.isDragging()})});return i.jsx("div",{ref:l,className:`p-3 rounded-lg border-2 border-dashed border-gray-300 hover:border-gray-400 cursor-move transition-colors ${o?"opacity-50":""}`,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`p-2 rounded text-white ${r}`,children:e}),i.jsx("span",{className:"text-sm font-medium",children:n})]})})},F9=({nodes:t,selectedNode:e,onNodeSelect:n,onNodeMove:r,onNodeAdd:o,onNodeDelete:l})=>{const u=_.useRef(null),[,d]=o9({accept:[Mf.NODE,Mf.PALETTE_ITEM],drop:(p,m)=>{var E;const v=m.getClientOffset(),w=(E=u.current)==null?void 0:E.getBoundingClientRect();if(v&&w){const j=v.x-w.left,T=v.y-w.top;"nodeType"in p?o(p.nodeType,j-96,T-50):r(p.id,j-96,T-50)}}});return i.jsxs("div",{ref:p=>{d(p),u.current=p},className:"relative w-full h-full bg-gray-50 overflow-hidden",style:{minHeight:"600px"},children:[i.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
            linear-gradient(to right, #e5e7eb 1px, transparent 1px),
            linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)
          `,backgroundSize:"20px 20px"}}),t.map(p=>i.jsx(L9,{node:p,isSelected:e===p.node_id,onSelect:n,onMove:r,onDelete:l},p.node_id)),i.jsxs("svg",{className:"absolute inset-0 pointer-events-none",children:[t.map(p=>{var m;return(m=p.answers)==null?void 0:m.map(v=>{if(!v.next_node_id)return null;const w=t.find(C=>C.node_id===v.next_node_id);if(!w)return null;const E=p.x+192,j=p.y+60,T=w.x,b=w.y+60;return i.jsx("g",{children:i.jsx("path",{d:`M ${E} ${j} Q ${(E+T)/2} ${j} ${T} ${b}`,stroke:"#6B7280",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"})},`${p.node_id}-${v.answer_id}`)})}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6B7280"})})})]})]})},V9=({node:t,onUpdateNode:e})=>{var u;if(!t)return i.jsx("div",{className:"p-6 text-center text-gray-500",children:"Select a node to edit its properties"});const n=d=>{e(t.node_id,{question:d})},r=()=>{const d={answer_id:`answer_${Date.now()}`,text:"New Answer",value:"",actions:[]},p=[...t.answers||[],d];e(t.node_id,{answers:p})},o=(d,p)=>{var v;const m=((v=t.answers)==null?void 0:v.map(w=>w.answer_id===d?{...w,...p}:w))||[];e(t.node_id,{answers:m})},l=d=>{var m;const p=((m=t.answers)==null?void 0:m.filter(v=>v.answer_id!==d))||[];e(t.node_id,{answers:p})};return i.jsx(RN,{className:"h-full",children:i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Node Properties"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"node-type",children:"Node Type"}),i.jsxs(mt,{value:t.type,disabled:!0,children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"question",children:"Question"}),i.jsx(ce,{value:"action",children:"Action"}),i.jsx(ce,{value:"end",children:"End"})]})]})]}),t.type==="question"&&i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"question-text",children:"Question Text"}),i.jsx(ts,{id:"question-text",value:t.question||"",onChange:d=>n(d.target.value),placeholder:"Enter your question here...",rows:3})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"field-id",children:"Link to Quote Field"}),i.jsxs(mt,{value:t.field_id||"",children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Select a field"})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"customer_name",children:"Customer Name"}),i.jsx(ce,{value:"project_location",children:"Project Location"}),i.jsx(ce,{value:"roof_type",children:"Roof Type"})]})]})]})]})]}),t.type==="question"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"font-medium",children:"Answer Options"}),i.jsxs(X,{size:"sm",onClick:r,children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Add Answer"]})]}),i.jsx("div",{className:"space-y-4",children:(u=t.answers)==null?void 0:u.map((d,p)=>i.jsxs(fe,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ge,{className:"text-sm",children:["Answer ",p+1]}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>l(d.answer_id),children:i.jsx(Jr,{className:"h-4 w-4"})})]})}),i.jsxs(me,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(ee,{children:"Answer Text"}),i.jsx(xe,{value:d.text,onChange:m=>o(d.answer_id,{text:m.target.value}),placeholder:"Answer text"})]}),i.jsxs("div",{children:[i.jsx(ee,{children:"Answer Value"}),i.jsx(xe,{value:d.value||"",onChange:m=>o(d.answer_id,{value:m.target.value}),placeholder:"Value to store"})]}),i.jsxs("div",{children:[i.jsx(ee,{children:"Next Node"}),i.jsxs(mt,{value:d.next_node_id||"",children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Select next node"})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"",children:"None"}),i.jsx(ce,{value:"end",children:"End Flow"})]})]})]})]})]},d.answer_id))})]})]})})},U9=({template:t,onClose:e})=>{const[n,r]=_.useState([{node_id:"start",type:"question",question:"Welcome! What type of project are you planning?",x:100,y:100,answers:[{answer_id:"residential",text:"Residential",value:"residential",next_node_id:"location"},{answer_id:"commercial",text:"Commercial",value:"commercial",next_node_id:"location"}]},{node_id:"location",type:"question",question:"What is the project location?",x:400,y:200,answers:[]}]),[o,l]=_.useState(null),u=_.useCallback(E=>{l(E)},[]),d=_.useCallback((E,j,T)=>{r(b=>b.map(C=>C.node_id===E?{...C,x:j,y:T}:C))},[]),p=_.useCallback((E,j,T)=>{const b={node_id:`node_${Date.now()}`,type:E,question:E==="question"?"New Question":void 0,x:j,y:T,answers:E==="question"?[]:void 0,actions:E==="action"?[]:void 0};r(C=>[...C,b]),l(b.node_id)},[]),m=_.useCallback(E=>{r(j=>j.filter(T=>T.node_id!==E)),o===E&&l(null)},[o]),v=_.useCallback((E,j)=>{r(T=>T.map(b=>b.node_id===E?{...b,...j}:b))},[]),w=n.find(E=>E.node_id===o);return i.jsx(TV,{backend:w9,children:i.jsxs("div",{className:"h-full flex",children:[i.jsx("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Node Palette"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Cg,{type:"question",icon:i.jsx(Cf,{className:"h-4 w-4"}),label:"Question",color:"bg-blue-500"}),i.jsx(Cg,{type:"action",icon:i.jsx(LS,{className:"h-4 w-4"}),label:"Action",color:"bg-green-500"}),i.jsx(Cg,{type:"end",icon:i.jsx(VS,{className:"h-4 w-4"}),label:"End",color:"bg-red-500"})]})]}),i.jsx(xN,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Flow Actions"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{variant:"outline",size:"sm",className:"w-full justify-start",children:[i.jsx(Lu,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),i.jsxs(X,{variant:"outline",size:"sm",className:"w-full justify-start",children:[i.jsx(ka,{className:"h-4 w-4 mr-2"}),"Export"]}),i.jsxs(X,{variant:"outline",size:"sm",className:"w-full justify-start",children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Import"]}),i.jsxs(X,{variant:"outline",size:"sm",className:"w-full justify-start",children:[i.jsx(_L,{className:"h-4 w-4 mr-2"}),"Reset"]})]})]})]})}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("h2",{className:"font-semibold",children:t?t.name:"New Flow"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(X,{variant:"outline",size:"sm",children:i.jsx(bL,{className:"h-4 w-4"})}),i.jsx("span",{className:"text-sm text-gray-500",children:"100%"}),i.jsx(X,{variant:"outline",size:"sm",children:i.jsx(SL,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(X,{variant:"outline",onClick:e,children:"Cancel"}),i.jsxs(X,{children:[i.jsx(Lu,{className:"h-4 w-4 mr-2"}),"Save Flow"]})]})]})}),i.jsx("div",{className:"flex-1",children:i.jsx(F9,{nodes:n,selectedNode:o,onNodeSelect:u,onNodeMove:d,onNodeAdd:p,onNodeDelete:m})})]}),i.jsxs("div",{className:"w-80 bg-white border-l border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("h3",{className:"font-semibold flex items-center",children:[i.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Properties"]})}),i.jsx(V9,{node:w||null,onUpdateNode:v})]})]})})},z9=()=>{const[t]=_.useState([{trade_id:"solar",name:"Solar Installation",description:"Solar panel installation and maintenance services",is_active:!0,created_at:new Date("2024-01-15"),updated_at:new Date("2024-06-01")},{trade_id:"electrical",name:"Electrical Services",description:"General electrical work and repairs",is_active:!0,created_at:new Date("2024-01-10"),updated_at:new Date("2024-05-20")},{trade_id:"plumbing",name:"Plumbing Services",description:"Plumbing installation and repair services",is_active:!1,created_at:new Date("2024-02-01"),updated_at:new Date("2024-03-15")}]),[e]=_.useState([{field_id:"customer_name",name:"Customer Name",dataType:"text",category:"Customer Info",description:"Full name of the customer",is_globally_mandatory:!0,created_at:new Date,updated_at:new Date},{field_id:"project_location",name:"Project Location",dataType:"text",category:"Project Details",description:"Address where work will be performed",is_globally_mandatory:!0,created_at:new Date,updated_at:new Date},{field_id:"roof_type",name:"Roof Type",dataType:"select",category:"Solar Specific",description:"Type of roof for solar installation",options:["Tile","Metal","Flat","Concrete"],is_globally_mandatory:!1,created_at:new Date,updated_at:new Date}]),[n]=_.useState([{template_id:"solar_basic",name:"Basic Solar Quote",type:"standard_form",structure:{},is_active:!0,created_at:new Date,updated_at:new Date},{template_id:"solar_conversation",name:"Solar Consultation Flow",type:"conversational_flow",structure:{},is_active:!0,created_at:new Date,updated_at:new Date}]),[r,o]=_.useState("solar"),[l,u]=_.useState(""),[d,p]=_.useState(!1),[m,v]=_.useState(!1),[w,E]=_.useState(!1),[j,T]=_.useState(null),b=t.filter(A=>A.name.toLowerCase().includes(l.toLowerCase())||A.description.toLowerCase().includes(l.toLowerCase())),C=e.filter(A=>A.name.toLowerCase().includes(l.toLowerCase())||A.category.toLowerCase().includes(l.toLowerCase())),k=n.filter(A=>A.name.toLowerCase().includes(l.toLowerCase()));return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trade Management"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Define trades, quote fields, and conversational flows"})]})}),i.jsxs(Da,{defaultValue:"trades",className:"space-y-6",children:[i.jsxs(bo,{className:"grid w-full grid-cols-3",children:[i.jsxs(It,{value:"trades",className:"flex items-center gap-2",children:[i.jsx(tp,{className:"h-4 w-4"}),"Trades List"]}),i.jsxs(It,{value:"fields",className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4"}),"Quote Fields"]}),i.jsxs(It,{value:"templates",className:"flex items-center gap-2",children:[i.jsx(Cf,{className:"h-4 w-4"}),"Templates & Flows"]})]}),i.jsx(Pt,{value:"trades",className:"space-y-6",children:i.jsxs(fe,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Trade Categories"}),i.jsx(Me,{children:"Manage available trade categories for the platform"})]}),i.jsxs(Er,{open:d,onOpenChange:p,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Add New Trade"]})}),i.jsxs(nr,{className:"sm:max-w-[425px]",children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Add New Trade"}),i.jsx(ir,{children:"Create a new trade category for the platform"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"trade-name",children:"Trade Name"}),i.jsx(xe,{id:"trade-name",placeholder:"e.g., HVAC Services"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"trade-description",children:"Description"}),i.jsx(ts,{id:"trade-description",placeholder:"Brief description of this trade"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{id:"trade-active",defaultChecked:!0}),i.jsx(ee,{htmlFor:"trade-active",children:"Active"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>p(!1),children:"Create Trade"})]})]})]})]})}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{placeholder:"Search trades...",value:l,onChange:A=>u(A.target.value),className:"pl-10"})]}),i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(rd,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),i.jsxs(fi,{children:[i.jsx(pi,{children:i.jsxs(pn,{children:[i.jsx(Ae,{children:"Trade Name"}),i.jsx(Ae,{children:"Description"}),i.jsx(Ae,{children:"Status"}),i.jsx(Ae,{children:"Created"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(mi,{children:b.map(A=>i.jsxs(pn,{children:[i.jsx(ke,{className:"font-medium",children:A.name}),i.jsx(ke,{className:"text-gray-600",children:A.description}),i.jsx(ke,{children:i.jsx(fn,{variant:A.is_active?"default":"secondary",children:A.is_active?"Active":"Inactive"})}),i.jsx(ke,{children:A.created_at.toLocaleDateString()}),i.jsx(ke,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Es,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Jr,{className:"h-4 w-4"})})]})})]},A.trade_id))})]})]})})]})}),i.jsx(Pt,{value:"fields",className:"space-y-6",children:i.jsxs(fe,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Quote Fields by Trade"}),i.jsx(Me,{children:"Manage custom fields for each trade category"})]}),i.jsxs(Er,{open:m,onOpenChange:v,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Add New Field"]})}),i.jsxs(nr,{className:"sm:max-w-[425px]",children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Add Quote Field"}),i.jsx(ir,{children:"Create a new field for quote forms"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"field-name",children:"Field Name"}),i.jsx(xe,{id:"field-name",placeholder:"e.g., Roof Type"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"field-type",children:"Data Type"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Select data type"})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"text",children:"Text"}),i.jsx(ce,{value:"number",children:"Number"}),i.jsx(ce,{value:"date",children:"Date"}),i.jsx(ce,{value:"boolean",children:"Boolean"}),i.jsx(ce,{value:"select",children:"Select"}),i.jsx(ce,{value:"multiselect",children:"Multi Select"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"field-category",children:"Category"}),i.jsx(xe,{id:"field-category",placeholder:"e.g., Project Details"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"field-description",children:"Description"}),i.jsx(ts,{id:"field-description",placeholder:"Field description"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{id:"field-mandatory"}),i.jsx(ee,{htmlFor:"field-mandatory",children:"Globally Mandatory"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>v(!1),children:"Create Field"})]})]})]})]})}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ee,{htmlFor:"trade-selector",children:"Select Trade"}),i.jsxs(mt,{value:r,onValueChange:o,children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsx(pt,{children:t.map(A=>i.jsx(ce,{value:A.trade_id,children:A.name},A.trade_id))})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ee,{htmlFor:"field-search",children:"Search Fields"}),i.jsxs("div",{className:"relative",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{id:"field-search",placeholder:"Search fields...",value:l,onChange:A=>u(A.target.value),className:"pl-10"})]})]})]}),i.jsxs(fi,{children:[i.jsx(pi,{children:i.jsxs(pn,{children:[i.jsx(Ae,{children:"Field Name"}),i.jsx(Ae,{children:"Data Type"}),i.jsx(Ae,{children:"Category"}),i.jsx(Ae,{children:"Required"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(mi,{children:C.map(A=>i.jsxs(pn,{children:[i.jsx(ke,{className:"font-medium",children:A.name}),i.jsx(ke,{children:i.jsx(fn,{variant:"outline",children:A.dataType})}),i.jsx(ke,{children:A.category}),i.jsx(ke,{children:i.jsx(fn,{variant:A.is_globally_mandatory?"default":"secondary",children:A.is_globally_mandatory?"Required":"Optional"})}),i.jsx(ke,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Es,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Jr,{className:"h-4 w-4"})})]})})]},A.field_id))})]})]})})]})}),i.jsx(Pt,{value:"templates",className:"space-y-6",children:i.jsxs(fe,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Trade Templates & Conversational Flows"}),i.jsx(Me,{children:"Design quote templates and interactive flows for each trade"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(X,{variant:"outline",children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Import Flow"]}),i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]})}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ee,{htmlFor:"template-trade-selector",children:"Select Trade"}),i.jsxs(mt,{value:r,onValueChange:o,children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsx(pt,{children:t.map(A=>i.jsx(ce,{value:A.trade_id,children:A.name},A.trade_id))})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ee,{htmlFor:"template-search",children:"Search Templates"}),i.jsxs("div",{className:"relative",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{id:"template-search",placeholder:"Search templates...",value:l,onChange:A=>u(A.target.value),className:"pl-10"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(A=>i.jsxs(fe,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(pe,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-lg",children:A.name}),i.jsx(fn,{variant:A.type==="conversational_flow"?"default":"secondary",children:A.type==="conversational_flow"?"Flow":"Form"})]}),i.jsx(Me,{children:A.type==="conversational_flow"?"Interactive conversational flow":"Standard form template"})]}),i.jsx(me,{className:"pt-0",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(wa,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(AS,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(ka,{className:"h-4 w-4"})})]}),A.type==="conversational_flow"&&i.jsxs(X,{size:"sm",onClick:()=>{T(A),E(!0)},children:[i.jsx(Es,{className:"h-4 w-4 mr-2"}),"Edit Flow"]})]})})]},A.template_id))})]})})]})})]}),i.jsx(Er,{open:w,onOpenChange:E,children:i.jsxs(nr,{className:"max-w-7xl max-h-[90vh] p-0",children:[i.jsxs(rr,{className:"p-6 pb-0",children:[i.jsx(sr,{children:"Conversational Flow Builder"}),i.jsx(ir,{children:j?`Editing: ${j.name}`:"Create new conversational flow"})]}),i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsx(U9,{template:j,onClose:()=>E(!1)})})]})})]})},B9=()=>{const[t]=_.useState([{company_id:"acme-electrical",name:"Acme Electrical Services",assigned_trades:["electrical","solar"],status:"active",created_by:"admin_user",created_at:new Date("2024-01-15"),updated_at:new Date("2024-06-01")},{company_id:"solar-pro",name:"Solar Pro Solutions",assigned_trades:["solar"],status:"active",created_by:"admin_user",created_at:new Date("2024-02-20"),updated_at:new Date("2024-05-15")},{company_id:"quick-plumbing",name:"Quick Plumbing Co.",assigned_trades:["plumbing"],status:"inactive",created_by:"admin_user",created_at:new Date("2024-03-10"),updated_at:new Date("2024-04-05")}]),[e]=_.useState([{uid:"user1",email:"john@acmeelectrical.com",name:"John Smith",role:"trade_company_user",company_id:"acme-electrical",created_at:new Date("2024-01-16"),updated_at:new Date("2024-06-01")},{uid:"user2",email:"sarah@acmeelectrical.com",name:"Sarah Johnson",role:"trade_company_user",company_id:"acme-electrical",created_at:new Date("2024-01-20"),updated_at:new Date("2024-05-20")},{uid:"user3",email:"mike@solarpro.com",name:"Mike Wilson",role:"trade_company_user",company_id:"solar-pro",created_at:new Date("2024-02-21"),updated_at:new Date("2024-05-15")}]),[n]=_.useState([{trade_id:"solar",name:"Solar Installation",description:"Solar panel installation and maintenance",is_active:!0,created_at:new Date,updated_at:new Date},{trade_id:"electrical",name:"Electrical Services",description:"General electrical work and repairs",is_active:!0,created_at:new Date,updated_at:new Date},{trade_id:"plumbing",name:"Plumbing Services",description:"Plumbing installation and repairs",is_active:!0,created_at:new Date,updated_at:new Date}]),[r,o]=_.useState(""),[l,u]=_.useState("all"),[d,p]=_.useState(!1),[m,v]=_.useState(!1),[w,E]=_.useState(null),j=t.filter(C=>{const k=C.name.toLowerCase().includes(r.toLowerCase()),A=l==="all"||C.status===l;return k&&A}),T=C=>e.filter(k=>k.company_id===C),b=C=>{switch(C){case"active":return i.jsx(uo,{className:"h-4 w-4 text-green-500"});case"inactive":return i.jsx(rc,{className:"h-4 w-4 text-red-500"});case"pending":return i.jsx(Vl,{className:"h-4 w-4 text-yellow-500"});default:return i.jsx(rc,{className:"h-4 w-4 text-gray-500"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Management"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage companies and their trade assignments"})]}),i.jsxs(Er,{open:d,onOpenChange:p,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Add New Company"]})}),i.jsxs(nr,{className:"sm:max-w-[500px]",children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Add New Company"}),i.jsx(ir,{children:"Create a new company account on the platform"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"company-name",children:"Company Name"}),i.jsx(xe,{id:"company-name",placeholder:"e.g., ABC Electrical Services"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"assigned-trades",children:"Assigned Trades"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Select trades for this company"})}),i.jsx(pt,{children:n.map(C=>i.jsx(ce,{value:C.trade_id,children:C.name},C.trade_id))})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Select multiple trades by holding Ctrl/Cmd"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{id:"company-active",defaultChecked:!0}),i.jsx(ee,{htmlFor:"company-active",children:"Active"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>p(!1),children:"Create Company"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Companies"}),i.jsx(co,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+2 this month"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Active Companies"}),i.jsx(uo,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(C=>C.status==="active").length}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[Math.round(t.filter(C=>C.status==="active").length/t.length*100),"% active"]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Users"}),i.jsx(Wn,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.length}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+5 this month"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Avg Users/Company"}),i.jsx(Wn,{className:"h-4 w-4 text-orange-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(e.length/t.length).toFixed(1)}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Per company"})]})]})]}),i.jsxs(Da,{defaultValue:"companies",className:"space-y-6",children:[i.jsxs(bo,{children:[i.jsxs(It,{value:"companies",className:"flex items-center gap-2",children:[i.jsx(co,{className:"h-4 w-4"}),"Companies"]}),i.jsxs(It,{value:"users",className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-4 w-4"}),"Company Users"]})]}),i.jsx(Pt,{value:"companies",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Company List"}),i.jsx(Me,{children:"Manage company accounts and their trade assignments"})]}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{placeholder:"Search companies...",value:r,onChange:C=>o(C.target.value),className:"pl-10"})]}),i.jsxs(mt,{value:l,onValueChange:u,children:[i.jsx(ft,{className:"w-48",children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"all",children:"All Status"}),i.jsx(ce,{value:"active",children:"Active"}),i.jsx(ce,{value:"inactive",children:"Inactive"}),i.jsx(ce,{value:"pending",children:"Pending"})]})]}),i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(rd,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),i.jsxs(fi,{children:[i.jsx(pi,{children:i.jsxs(pn,{children:[i.jsx(Ae,{children:"Company Name"}),i.jsx(Ae,{children:"Assigned Trades"}),i.jsx(Ae,{children:"Users"}),i.jsx(Ae,{children:"Status"}),i.jsx(Ae,{children:"Created"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(mi,{children:j.map(C=>{const k=T(C.company_id);return i.jsxs(pn,{children:[i.jsx(ke,{className:"font-medium",children:C.name}),i.jsx(ke,{children:i.jsx("div",{className:"flex flex-wrap gap-1",children:C.assigned_trades.map(A=>{const D=n.find(R=>R.trade_id===A);return i.jsx(fn,{variant:"outline",className:"text-xs",children:(D==null?void 0:D.name)||A},A)})})}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:k.length})]})}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[b(C.status),i.jsx(fn,{variant:C.status==="active"?"default":"secondary",children:C.status})]})}),i.jsx(ke,{children:C.created_at.toLocaleDateString()}),i.jsx(ke,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(wa,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Cs,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{E(C),v(!0)},children:i.jsx(Wn,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Es,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Jr,{className:"h-4 w-4"})})]})})]},C.company_id)})})]})]})})]})}),i.jsx(Pt,{value:"users",children:i.jsxs(fe,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Company Users"}),i.jsx(Me,{children:"Manage user accounts within companies"})]}),i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{placeholder:"Search users...",className:"pl-10"})]}),i.jsxs(fi,{children:[i.jsx(pi,{children:i.jsxs(pn,{children:[i.jsx(Ae,{children:"Name"}),i.jsx(Ae,{children:"Email"}),i.jsx(Ae,{children:"Company"}),i.jsx(Ae,{children:"Role"}),i.jsx(Ae,{children:"Created"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(mi,{children:e.map(C=>{const k=t.find(A=>A.company_id===C.company_id);return i.jsxs(pn,{children:[i.jsx(ke,{className:"font-medium",children:C.name}),i.jsx(ke,{children:C.email}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(co,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:(k==null?void 0:k.name)||"No Company"})]})}),i.jsx(ke,{children:i.jsx(fn,{variant:"outline",children:C.role==="trade_company_user"?"Company User":C.role})}),i.jsx(ke,{children:C.created_at.toLocaleDateString()}),i.jsx(ke,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(wa,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Es,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Jr,{className:"h-4 w-4"})})]})})]},C.uid)})})]})]})})]})})]}),i.jsx(Er,{open:m,onOpenChange:v,children:i.jsxs(nr,{className:"sm:max-w-[425px]",children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Assign User to Company"}),i.jsx(ir,{children:w?`Add a user to ${w.name}`:"Select a company first"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"user-email",children:"Email Address"}),i.jsx(xe,{id:"user-email",placeholder:"user@company.com"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"user-name",children:"Full Name"}),i.jsx(xe,{id:"user-name",placeholder:"John Smith"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"user-role",children:"Role"}),i.jsxs(mt,{defaultValue:"trade_company_user",children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"trade_company_user",children:"Company User"}),i.jsx(ce,{value:"global_app_admin",children:"Global Admin"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"temp-password",children:"Temporary Password"}),i.jsx(xe,{id:"temp-password",type:"password",placeholder:"Generated automatically"}),i.jsx("p",{className:"text-sm text-gray-500",children:"User will be prompted to change on first login"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>v(!1),children:"Create User"})]})]})})]})};var Ky="Checkbox",[$9,jU]=Is(Ky),[H9,W9]=$9(Ky),ON=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:l,required:u,disabled:d,value:p="on",onCheckedChange:m,form:v,...w}=t,[E,j]=_.useState(null),T=dt(e,R=>j(R)),b=_.useRef(!1),C=E?v||!!E.closest("form"):!0,[k=!1,A]=Ea({prop:o,defaultProp:l,onChange:m}),D=_.useRef(k);return _.useEffect(()=>{const R=E==null?void 0:E.form;if(R){const W=()=>A(D.current);return R.addEventListener("reset",W),()=>R.removeEventListener("reset",W)}},[E,A]),i.jsxs(H9,{scope:n,state:k,disabled:d,children:[i.jsx(He.button,{type:"button",role:"checkbox","aria-checked":fo(k)?"mixed":k,"aria-required":u,"data-state":FN(k),"data-disabled":d?"":void 0,disabled:d,value:p,...w,ref:T,onKeyDown:$e(t.onKeyDown,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:$e(t.onClick,R=>{A(W=>fo(W)?!0:!W),C&&(b.current=R.isPropagationStopped(),b.current||R.stopPropagation())})}),C&&i.jsx(q9,{control:E,bubbles:!b.current,name:r,value:p,checked:k,required:u,disabled:d,form:v,style:{transform:"translateX(-100%)"},defaultChecked:fo(l)?!1:l})]})});ON.displayName=Ky;var MN="CheckboxIndicator",LN=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...o}=t,l=W9(MN,n);return i.jsx(Ps,{present:r||fo(l.state)||l.state===!0,children:i.jsx(He.span,{"data-state":FN(l.state),"data-disabled":l.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...t.style}})})});LN.displayName=MN;var q9=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:o,...l}=t,u=_.useRef(null),d=My(n),p=Ry(e);_.useEffect(()=>{const v=u.current,w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set;if(d!==n&&j){const T=new Event("click",{bubbles:r});v.indeterminate=fo(n),j.call(v,fo(n)?!1:n),v.dispatchEvent(T)}},[d,n,r]);const m=_.useRef(fo(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??m.current,...l,tabIndex:-1,ref:u,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fo(t){return t==="indeterminate"}function FN(t){return fo(t)?"indeterminate":t?"checked":"unchecked"}var VN=ON,G9=LN;const Ev=_.forwardRef(({className:t,...e},n)=>i.jsx(VN,{ref:n,className:Ge("peer h-4 w-4 shrink-0 rounded-sm border border-zinc-200 border-zinc-900 shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=checked]:text-zinc-50 dark:border-zinc-800 dark:border-zinc-50 dark:focus-visible:ring-zinc-300 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=checked]:text-zinc-900",t),...e,children:i.jsx(G9,{className:Ge("flex items-center justify-center text-current"),children:i.jsx(IS,{className:"h-4 w-4"})})}));Ev.displayName=VN.displayName;const Q9=()=>{const[t]=_.useState([{uid:"admin1",email:"admin@quotehub.com",name:"Admin User",role:"global_app_admin",created_at:new Date("2024-01-01"),updated_at:new Date("2024-06-01")},{uid:"user1",email:"john@acmeelectrical.com",name:"John Smith",role:"trade_company_user",company_id:"acme-electrical",created_at:new Date("2024-01-16"),updated_at:new Date("2024-06-01")},{uid:"user2",email:"sarah@acmeelectrical.com",name:"Sarah Johnson",role:"trade_company_user",company_id:"acme-electrical",created_at:new Date("2024-01-20"),updated_at:new Date("2024-05-20")},{uid:"user3",email:"mike@solarpro.com",name:"Mike Wilson",role:"trade_company_user",company_id:"solar-pro",created_at:new Date("2024-02-21"),updated_at:new Date("2024-05-15")},{uid:"user4",email:"lisa@quickplumbing.com",name:"Lisa Brown",role:"trade_company_user",company_id:"quick-plumbing",created_at:new Date("2024-03-11"),updated_at:new Date("2024-04-05")}]),[e]=_.useState([{company_id:"acme-electrical",name:"Acme Electrical Services",assigned_trades:["electrical","solar"],status:"active",created_by:"admin_user",created_at:new Date("2024-01-15"),updated_at:new Date("2024-06-01")},{company_id:"solar-pro",name:"Solar Pro Solutions",assigned_trades:["solar"],status:"active",created_by:"admin_user",created_at:new Date("2024-02-20"),updated_at:new Date("2024-05-15")},{company_id:"quick-plumbing",name:"Quick Plumbing Co.",assigned_trades:["plumbing"],status:"inactive",created_by:"admin_user",created_at:new Date("2024-03-10"),updated_at:new Date("2024-04-05")}]),[n,r]=_.useState(""),[o,l]=_.useState("all"),[u,d]=_.useState("all"),[p,m]=_.useState([]),[v,w]=_.useState(!1),[E,j]=_.useState(!1),T=t.filter(R=>{const W=R.name.toLowerCase().includes(n.toLowerCase())||R.email.toLowerCase().includes(n.toLowerCase()),Z=o==="all"||R.role===o,M=u==="all"||u==="none"&&!R.company_id||R.company_id===u;return W&&Z&&M}),b=R=>{if(!R)return"No Company";const W=e.find(Z=>Z.company_id===R);return(W==null?void 0:W.name)||"Unknown Company"},C=R=>{switch(R){case"global_app_admin":return i.jsx(t1,{className:"h-4 w-4 text-yellow-500"});case"trade_company_user":return i.jsx(cg,{className:"h-4 w-4 text-blue-500"});default:return i.jsx(jL,{className:"h-4 w-4 text-gray-500"})}},k=R=>{switch(R){case"global_app_admin":return"default";case"trade_company_user":return"secondary";default:return"outline"}},A=R=>{m(W=>W.includes(R)?W.filter(Z=>Z!==R):[...W,R])},D=()=>{p.length===T.length?m([]):m(T.map(R=>R.uid))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage user accounts and permissions across the platform"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(X,{variant:"outline",children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Import Users"]}),i.jsxs(Er,{open:v,onOpenChange:w,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Add New User"]})}),i.jsxs(nr,{className:"sm:max-w-[500px]",children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Add New User"}),i.jsx(ir,{children:"Create a new user account for the platform"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"user-email",children:"Email Address"}),i.jsx(xe,{id:"user-email",type:"email",placeholder:"user@company.com"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"user-name",children:"Full Name"}),i.jsx(xe,{id:"user-name",placeholder:"John Smith"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"user-role",children:"Role"}),i.jsxs(mt,{defaultValue:"trade_company_user",children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"trade_company_user",children:"Trade Company User"}),i.jsx(ce,{value:"global_app_admin",children:"Global App Admin"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"user-company",children:"Company"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Select a company (optional)"})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"none",children:"No Company"}),e.map(R=>i.jsx(ce,{value:R.company_id,children:R.name},R.company_id))]})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Required for Trade Company Users"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"temp-password",children:"Temporary Password"}),i.jsx(xe,{id:"temp-password",type:"password",placeholder:"Auto-generated secure password"}),i.jsx("p",{className:"text-sm text-gray-500",children:"User will be required to change on first login"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{id:"send-email",defaultChecked:!0}),i.jsx(ee,{htmlFor:"send-email",children:"Send welcome email with login instructions"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>w(!1),children:"Create User"})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Users"}),i.jsx(Wn,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+3 this month"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Global Admins"}),i.jsx(t1,{className:"h-4 w-4 text-yellow-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(R=>R.role==="global_app_admin").length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Admin accounts"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Company Users"}),i.jsx(cg,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(R=>R.role==="trade_company_user").length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Active company users"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Recent Signups"}),i.jsx(cg,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"5"}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Last 30 days"})]})]})]}),i.jsxs(fe,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"User Accounts"}),i.jsx(Me,{children:"Manage all user accounts across the platform"})]}),p.length>0&&i.jsxs(Er,{open:E,onOpenChange:j,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{variant:"outline",children:[i.jsx(fL,{className:"h-4 w-4 mr-2"}),"Bulk Actions (",p.length,")"]})}),i.jsxs(nr,{children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Bulk Actions"}),i.jsxs(ir,{children:["Perform actions on ",p.length," selected user",p.length!==1?"s":""]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(bf,{className:"h-4 w-4 mr-2"}),"Send Password Reset Email"]}),i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(FS,{className:"h-4 w-4 mr-2"}),"Change Role"]}),i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(co,{className:"h-4 w-4 mr-2"}),"Reassign Company"]}),i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(ka,{className:"h-4 w-4 mr-2"}),"Export Selected Users"]}),i.jsxs(X,{className:"w-full justify-start",variant:"destructive",children:[i.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Delete Selected Users"]})]})]})]})]})}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{placeholder:"Search users by name or email...",value:n,onChange:R=>r(R.target.value),className:"pl-10"})]}),i.jsxs(mt,{value:o,onValueChange:l,children:[i.jsx(ft,{className:"w-48",children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"all",children:"All Roles"}),i.jsx(ce,{value:"global_app_admin",children:"Global Admin"}),i.jsx(ce,{value:"trade_company_user",children:"Company User"})]})]}),i.jsxs(mt,{value:u,onValueChange:d,children:[i.jsx(ft,{className:"w-48",children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"all",children:"All Companies"}),i.jsx(ce,{value:"none",children:"No Company"}),e.map(R=>i.jsx(ce,{value:R.company_id,children:R.name},R.company_id))]})]}),i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(rd,{className:"h-4 w-4 mr-2"}),"More Filters"]})]}),i.jsxs(fi,{children:[i.jsx(pi,{children:i.jsxs(pn,{children:[i.jsx(Ae,{className:"w-12",children:i.jsx(Ev,{checked:p.length===T.length,onCheckedChange:D})}),i.jsx(Ae,{children:"User"}),i.jsx(Ae,{children:"Role"}),i.jsx(Ae,{children:"Company"}),i.jsx(Ae,{children:"Created"}),i.jsx(Ae,{children:"Last Active"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(mi,{children:T.map(R=>i.jsxs(pn,{children:[i.jsx(ke,{children:i.jsx(Ev,{checked:p.includes(R.uid),onCheckedChange:()=>A(R.uid)})}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-blue-600",children:R.name.split(" ").map(W=>W[0]).join("")})})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:R.name}),i.jsx("div",{className:"text-sm text-gray-500",children:R.email})]})]})}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[C(R.role),i.jsx(fn,{variant:k(R.role),children:R.role==="global_app_admin"?"Global Admin":"Company User"})]})}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(co,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{className:"text-sm",children:b(R.company_id)})]})}),i.jsx(ke,{children:i.jsx("div",{className:"text-sm text-gray-600",children:R.created_at.toLocaleDateString()})}),i.jsx(ke,{children:i.jsx("div",{className:"text-sm text-gray-600",children:R.updated_at.toLocaleDateString()})}),i.jsx(ke,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",title:"View User",children:i.jsx(wa,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Send Email",children:i.jsx(bf,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Edit User",children:i.jsx(Es,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Delete User",children:i.jsx(Jr,{className:"h-4 w-4"})})]})})]},R.uid))})]}),T.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Wn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No users found matching your criteria"}),i.jsx(X,{variant:"outline",className:"mt-4",onClick:()=>r(""),children:"Clear Filters"})]})]})})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Recent User Activity"}),i.jsx(Me,{children:"Latest user management events"})]}),i.jsx(me,{children:i.jsx("div",{className:"space-y-4",children:[{action:"User created",user:"mike@solarpro.com",time:"2 hours ago"},{action:"Role changed",user:"sarah@acmeelectrical.com",time:"4 hours ago"},{action:"Password reset",user:"john@acmeelectrical.com",time:"1 day ago"},{action:"Company assigned",user:"lisa@quickplumbing.com",time:"2 days ago"}].map((R,W)=>i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:R.action}),i.jsx("p",{className:"text-sm text-gray-500",children:R.user})]})]}),i.jsx("span",{className:"text-xs text-gray-400",children:R.time})]},W))})})]})]})};var Yy="Progress",Xy=100,[K9,SU]=Is(Yy),[Y9,X9]=K9(Yy),UN=_.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:l=J9,...u}=t;(o||o===0)&&!V1(o)&&console.error(Z9(`${o}`,"Progress"));const d=V1(o)?o:Xy;r!==null&&!U1(r,d)&&console.error(eU(`${r}`,"Progress"));const p=U1(r,d)?r:null,m=Lf(p)?l(p,d):void 0;return i.jsx(Y9,{scope:n,value:p,max:d,children:i.jsx(He.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Lf(p)?p:void 0,"aria-valuetext":m,role:"progressbar","data-state":$N(p,d),"data-value":p??void 0,"data-max":d,...u,ref:e})})});UN.displayName=Yy;var zN="ProgressIndicator",BN=_.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,o=X9(zN,n);return i.jsx(He.div,{"data-state":$N(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});BN.displayName=zN;function J9(t,e){return`${Math.round(t/e*100)}%`}function $N(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Lf(t){return typeof t=="number"}function V1(t){return Lf(t)&&!isNaN(t)&&t>0}function U1(t,e){return Lf(t)&&!isNaN(t)&&t<=e&&t>=0}function Z9(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Xy}\`.`}function eU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Xy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HN=UN,tU=BN;const Jh=_.forwardRef(({className:t,value:e,...n},r)=>i.jsx(HN,{ref:r,className:Ge("relative h-2 w-full overflow-hidden rounded-full bg-zinc-900/20 dark:bg-zinc-50/20",t),...n,children:i.jsx(tU,{className:"h-full w-full flex-1 bg-zinc-900 transition-all dark:bg-zinc-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Jh.displayName=HN.displayName;const nU=()=>{const[t,e]=_.useState(!1),n={database:{status:"healthy",latency:"12ms"},api:{status:"healthy",responseTime:"120ms"},storage:{status:"healthy",usage:68},memory:{status:"warning",usage:85},cpu:{status:"healthy",usage:42}},r=u=>{switch(u){case"healthy":return i.jsx(uo,{className:"h-4 w-4 text-green-500"});case"warning":return i.jsx(sv,{className:"h-4 w-4 text-yellow-500"});case"error":return i.jsx(rc,{className:"h-4 w-4 text-red-500"});default:return i.jsx(uo,{className:"h-4 w-4 text-gray-500"})}},o=u=>{switch(u){case"healthy":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},l=async()=>{e(!0),await new Promise(u=>setTimeout(u,2e3)),e(!1)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Settings"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Configure global platform settings and monitor system health"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(X,{variant:"outline",children:[i.jsx(ka,{className:"h-4 w-4 mr-2"}),"Export Config"]}),i.jsxs(X,{variant:"outline",children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Import Config"]})]})]}),i.jsxs(Da,{defaultValue:"general",className:"space-y-6",children:[i.jsxs(bo,{className:"grid w-full grid-cols-5",children:[i.jsxs(It,{value:"general",className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4"}),"General"]}),i.jsxs(It,{value:"security",className:"flex items-center gap-2",children:[i.jsx(FS,{className:"h-4 w-4"}),"Security"]}),i.jsxs(It,{value:"integrations",className:"flex items-center gap-2",children:[i.jsx(Nf,{className:"h-4 w-4"}),"Integrations"]}),i.jsxs(It,{value:"notifications",className:"flex items-center gap-2",children:[i.jsx(aL,{className:"h-4 w-4"}),"Notifications"]}),i.jsxs(It,{value:"monitoring",className:"flex items-center gap-2",children:[i.jsx(TS,{className:"h-4 w-4"}),"Monitoring"]})]}),i.jsxs(Pt,{value:"general",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Application Settings"}),i.jsx(Me,{children:"Basic platform configuration"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"app-name",children:"Application Name"}),i.jsx(xe,{id:"app-name",defaultValue:"Quote Generation Hub"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"app-url",children:"Application URL"}),i.jsx(xe,{id:"app-url",defaultValue:"https://app.quotehub.com"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"company-name",children:"Company Name"}),i.jsx(xe,{id:"company-name",defaultValue:"QuoteHub Technologies"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"support-email",children:"Support Email"}),i.jsx(xe,{id:"support-email",type:"email",defaultValue:"support@quotehub.com"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"timezone",children:"Default Timezone"}),i.jsxs(mt,{defaultValue:"UTC",children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"UTC",children:"UTC"}),i.jsx(ce,{value:"America/New_York",children:"Eastern Time"}),i.jsx(ce,{value:"America/Chicago",children:"Central Time"}),i.jsx(ce,{value:"America/Denver",children:"Mountain Time"}),i.jsx(ce,{value:"America/Los_Angeles",children:"Pacific Time"}),i.jsx(ce,{value:"Australia/Sydney",children:"Sydney"})]})]})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Feature Flags"}),i.jsx(Me,{children:"Enable or disable platform features"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"registration",children:"User Registration"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Allow new user registrations"})]}),i.jsx(Ct,{id:"registration",defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"api-access",children:"Public API Access"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enable external API endpoints"})]}),i.jsx(Ct,{id:"api-access",defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"analytics",children:"Analytics Collection"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Collect usage analytics"})]}),i.jsx(Ct,{id:"analytics",defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"maintenance",children:"Maintenance Mode"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Put platform in maintenance mode"})]}),i.jsx(Ct,{id:"maintenance"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"beta-features",children:"Beta Features"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enable experimental features"})]}),i.jsx(Ct,{id:"beta-features"})]})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Default Quote Settings"}),i.jsx(Me,{children:"Global defaults for new companies"})]}),i.jsx(me,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"quote-prefix",children:"Quote Number Prefix"}),i.jsx(xe,{id:"quote-prefix",defaultValue:"QH-"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"currency",children:"Default Currency"}),i.jsxs(mt,{defaultValue:"USD",children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"USD",children:"USD ($)"}),i.jsx(ce,{value:"EUR",children:"EUR (€)"}),i.jsx(ce,{value:"GBP",children:"GBP (£)"}),i.jsx(ce,{value:"AUD",children:"AUD (A$)"}),i.jsx(ce,{value:"CAD",children:"CAD (C$)"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"tax-rate",children:"Default Tax Rate (%)"}),i.jsx(xe,{id:"tax-rate",type:"number",defaultValue:"10"})]})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",children:"Reset to Defaults"}),i.jsx(X,{onClick:l,disabled:t,children:t?i.jsxs(i.Fragment,{children:[i.jsx(_a,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Lu,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})]}),i.jsxs(Pt,{value:"security",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Authentication"}),i.jsx(Me,{children:"Configure authentication settings"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"session-timeout",children:"Session Timeout (minutes)"}),i.jsx(xe,{id:"session-timeout",type:"number",defaultValue:"120"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"max-attempts",children:"Max Login Attempts"}),i.jsx(xe,{id:"max-attempts",type:"number",defaultValue:"5"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"lockout-duration",children:"Lockout Duration (minutes)"}),i.jsx(xe,{id:"lockout-duration",type:"number",defaultValue:"30"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"mfa-required",children:"Require MFA"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Require two-factor authentication"})]}),i.jsx(Ct,{id:"mfa-required"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"strong-passwords",children:"Strong Passwords"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enforce strong password policy"})]}),i.jsx(Ct,{id:"strong-passwords",defaultChecked:!0})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Data Protection"}),i.jsx(Me,{children:"Configure data security settings"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"encryption-key",children:"Encryption Key Rotation (days)"}),i.jsx(xe,{id:"encryption-key",type:"number",defaultValue:"90"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"backup-retention",children:"Backup Retention (days)"}),i.jsx(xe,{id:"backup-retention",type:"number",defaultValue:"30"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"audit-logging",children:"Audit Logging"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Log all user actions"})]}),i.jsx(Ct,{id:"audit-logging",defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"data-encryption",children:"Data Encryption at Rest"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Encrypt stored data"})]}),i.jsx(Ct,{id:"data-encryption",defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"gdpr-compliance",children:"GDPR Compliance Mode"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enable GDPR compliance features"})]}),i.jsx(Ct,{id:"gdpr-compliance",defaultChecked:!0})]})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"API Security"}),i.jsx(Me,{children:"Configure API access and security"})]}),i.jsx(me,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"rate-limit",children:"API Rate Limit (requests/minute)"}),i.jsx(xe,{id:"rate-limit",type:"number",defaultValue:"1000"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"api-key-expiry",children:"API Key Expiry (days)"}),i.jsx(xe,{id:"api-key-expiry",type:"number",defaultValue:"365"})]})]})})]})]}),i.jsxs(Pt,{value:"integrations",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Email Service"}),i.jsx(Me,{children:"Configure email delivery settings"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"smtp-provider",children:"SMTP Provider"}),i.jsxs(mt,{defaultValue:"sendgrid",children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"sendgrid",children:"SendGrid"}),i.jsx(ce,{value:"mailgun",children:"Mailgun"}),i.jsx(ce,{value:"aws-ses",children:"AWS SES"}),i.jsx(ce,{value:"custom",children:"Custom SMTP"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"from-email",children:"From Email"}),i.jsx(xe,{id:"from-email",type:"email",defaultValue:"noreply@quotehub.com"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"from-name",children:"From Name"}),i.jsx(xe,{id:"from-name",defaultValue:"Quote Hub"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"email-notifications",children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Send system notifications via email"})]}),i.jsx(Ct,{id:"email-notifications",defaultChecked:!0})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"External APIs"}),i.jsx(Me,{children:"Configure third-party integrations"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"ghl-webhook",children:"GoHighLevel Webhook URL"}),i.jsx(xe,{id:"ghl-webhook",placeholder:"https://your-webhook-url.com"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"make-webhook",children:"Make.com Webhook URL"}),i.jsx(xe,{id:"make-webhook",placeholder:"https://hook.make.com/..."})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"google-sheets",children:"Google Sheets API Key"}),i.jsx(xe,{id:"google-sheets",type:"password",placeholder:"Enter API key"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ee,{htmlFor:"webhook-retry",children:"Webhook Retry"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Retry failed webhook calls"})]}),i.jsx(Ct,{id:"webhook-retry",defaultChecked:!0})]})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Integration Status"}),i.jsx(Me,{children:"Monitor third-party service connections"})]}),i.jsx(me,{children:i.jsx("div",{className:"space-y-4",children:[{name:"SendGrid Email",status:"connected",lastTest:"2 minutes ago"},{name:"Make.com Webhook",status:"connected",lastTest:"5 minutes ago"},{name:"Google Sheets API",status:"warning",lastTest:"1 hour ago"},{name:"GoHighLevel API",status:"disconnected",lastTest:"2 days ago"}].map((u,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[r(u.status),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:u.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Last tested: ",u.lastTest]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fn,{className:o(u.status),children:u.status}),i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(wa,{className:"h-4 w-4 mr-2"}),"Test"]})]})]},d))})})]})]}),i.jsx(Pt,{value:"notifications",className:"space-y-6",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Notification Settings"}),i.jsx(Me,{children:"Configure system-wide notification preferences"})]}),i.jsxs(me,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-4",children:"User Events"}),i.jsx("div",{className:"space-y-3",children:[{label:"New user registration",email:!0,push:!1,description:"When a new user registers"},{label:"User login attempts",email:!1,push:!0,description:"Failed login attempts"},{label:"Password changes",email:!0,push:!1,description:"When users change passwords"},{label:"Profile updates",email:!1,push:!1,description:"When users update profiles"}].map((u,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:u.label}),i.jsx("p",{className:"text-sm text-gray-500",children:u.description})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{defaultChecked:u.email}),i.jsx(ee,{className:"text-sm",children:"Email"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{defaultChecked:u.push}),i.jsx(ee,{className:"text-sm",children:"Push"})]})]})]},d))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-4",children:"System Events"}),i.jsx("div",{className:"space-y-3",children:[{label:"System errors",email:!0,push:!0,description:"Critical system errors"},{label:"Performance alerts",email:!0,push:!1,description:"Performance degradation alerts"},{label:"Backup completion",email:!1,push:!1,description:"Daily backup status"},{label:"Security alerts",email:!0,push:!0,description:"Security-related events"}].map((u,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:u.label}),i.jsx("p",{className:"text-sm text-gray-500",children:u.description})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{defaultChecked:u.email}),i.jsx(ee,{className:"text-sm",children:"Email"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{defaultChecked:u.push}),i.jsx(ee,{className:"text-sm",children:"Push"})]})]})]},d))})]})]})]})}),i.jsxs(Pt,{value:"monitoring",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"System Health"}),i.jsx(Me,{children:"Real-time system status monitoring"})]}),i.jsx(me,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(hL,{className:"h-4 w-4 text-blue-500"}),i.jsx("span",{className:"font-medium",children:"Database"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r(n.database.status),i.jsx("span",{className:"text-sm text-gray-600",children:n.database.latency})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(gL,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"font-medium",children:"API"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r(n.api.status),i.jsx("span",{className:"text-sm text-gray-600",children:n.api.responseTime})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vL,{className:"h-4 w-4 text-purple-500"}),i.jsx("span",{className:"font-medium",children:"Storage"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r(n.storage.status),i.jsxs("span",{className:"text-sm text-gray-600",children:[n.storage.usage,"% used"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(dL,{className:"h-4 w-4 text-orange-500"}),i.jsx("span",{className:"font-medium",children:"Memory"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r(n.memory.status),i.jsxs("span",{className:"text-sm text-gray-600",children:[n.memory.usage,"% used"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Nf,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{className:"font-medium",children:"CPU"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r(n.cpu.status),i.jsxs("span",{className:"text-sm text-gray-600",children:[n.cpu.usage,"% used"]})]})]})]})})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Resource Usage"}),i.jsx(Me,{children:"Current resource utilization"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Storage"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[n.storage.usage,"%"]})]}),i.jsx(Jh,{value:n.storage.usage,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Memory"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[n.memory.usage,"%"]})]}),i.jsx(Jh,{value:n.memory.usage,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"CPU"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[n.cpu.usage,"%"]})]}),i.jsx(Jh,{value:n.cpu.usage,className:"h-2"})]}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Active Users"}),i.jsx("p",{className:"text-lg font-semibold",children:"142"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"API Calls/min"}),i.jsx("p",{className:"text-lg font-semibold",children:"1.2k"})]})]})})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Recent System Events"}),i.jsx(Me,{children:"Latest system activity and alerts"})]}),i.jsx(me,{children:i.jsx("div",{className:"space-y-4",children:[{type:"info",message:"Daily backup completed successfully",time:"2 hours ago"},{type:"warning",message:"Memory usage exceeded 80% threshold",time:"4 hours ago"},{type:"success",message:"System maintenance completed",time:"1 day ago"},{type:"info",message:"New integration configured: SendGrid",time:"2 days ago"},{type:"error",message:"Failed webhook delivery to Make.com",time:"3 days ago"}].map((u,d)=>i.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-shrink-0 mt-0.5",children:[u.type==="error"&&i.jsx(rc,{className:"h-4 w-4 text-red-500"}),u.type==="warning"&&i.jsx(sv,{className:"h-4 w-4 text-yellow-500"}),u.type==="success"&&i.jsx(uo,{className:"h-4 w-4 text-green-500"}),u.type==="info"&&i.jsx(Vl,{className:"h-4 w-4 text-blue-500"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm",children:u.message}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.time})]})]},d))})})]})]})]})]})},rU=()=>{const t={totalQuotes:24,quotesThisMonth:8,totalRevenue:125e3,revenueThisMonth:35e3,conversionRate:68,avgQuoteValue:5200},e=[{id:"Q-2024-001",client:"ABC Construction",value:8500,status:"pending",date:"2024-07-01"},{id:"Q-2024-002",client:"Home Renovations Inc",value:12e3,status:"accepted",date:"2024-06-30"},{id:"Q-2024-003",client:"Solar Solutions Co",value:15500,status:"draft",date:"2024-06-29"},{id:"Q-2024-004",client:"Green Energy Ltd",value:9200,status:"exported",date:"2024-06-28"}],n=r=>{switch(r){case"accepted":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"exported":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening with your quotes."})]}),i.jsx(er,{to:"/quotes/new",children:i.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(On,{className:"mr-2 h-4 w-4"}),"New Quote"]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Quotes"}),i.jsx(sc,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalQuotes}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+",t.quotesThisMonth," this month"]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Revenue"}),i.jsx(Sf,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:["$",t.totalRevenue.toLocaleString()]}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+$",t.revenueThisMonth.toLocaleString()," this month"]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Conversion Rate"}),i.jsx(US,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(me,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[t.conversionRate,"%"]}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"↑ 5% from last month"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Quick Actions"}),i.jsx(Me,{children:"Common tasks to get you started"})]}),i.jsxs(me,{className:"space-y-3",children:[i.jsx(er,{to:"/quotes/new",children:i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(On,{className:"mr-2 h-4 w-4"}),"Create New Quote"]})}),i.jsx(er,{to:"/clients/new",children:i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Add New Client"]})}),i.jsx(er,{to:"/products-services",children:i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Manage Products & Services"]})}),i.jsx(er,{to:"/business-settings",children:i.jsxs(X,{className:"w-full justify-start",variant:"outline",children:[i.jsx(Vl,{className:"mr-2 h-4 w-4"}),"Update Business Settings"]})})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Recent Quotes"}),i.jsx(Me,{children:"Your latest quote activity"})]}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[e.map(r=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.id}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${n(r.status)}`,children:r.status})]}),i.jsx("p",{className:"text-sm text-gray-600",children:r.client}),i.jsx("p",{className:"text-xs text-gray-400",children:r.date})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",r.value.toLocaleString()]})})]},r.id)),i.jsx(er,{to:"/quotes",children:i.jsx(X,{variant:"outline",size:"sm",className:"w-full mt-2",children:"View All Quotes"})})]})})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"This Month's Performance"}),i.jsx(Me,{children:"Key metrics for July 2024"})]}),i.jsx(me,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.quotesThisMonth}),i.jsx("p",{className:"text-sm text-gray-600",children:"Quotes Created"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.avgQuoteValue.toLocaleString()]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Avg Quote Value"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.round(t.quotesThisMonth*t.conversionRate/100)}),i.jsx("p",{className:"text-sm text-gray-600",children:"Quotes Accepted"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",t.revenueThisMonth.toLocaleString()]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Revenue Generated"})]})]})})]})]})},sU=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState({business_name:"Acme Electrical Services",abn:"12 345 678 901",logo_url:"",address:"123 Main Street, Brisbane, QLD 4000",phone:"+61 7 1234 5678",email:"info@acmeelectrical.com",website:"https://www.acmeelectrical.com",terms_and_conditions:"Payment is due within 30 days of invoice date. A 10% GST will be added to all services unless otherwise stated. All work is guaranteed for 12 months from completion date."}),[o,l]=_.useState({quote_number_prefix:"ACE-",next_quote_number:1001,date_format:"DD/MM/YYYY",currency_symbol:"AUD",tax_rate:10,tax_name:"GST"}),u=(v,w)=>{r(E=>({...E,[v]:w}))},d=(v,w)=>{l(E=>({...E,[v]:w}))},p=async()=>{e(!0);try{await new Promise(v=>setTimeout(v,1e3)),at.success("Business settings saved successfully")}catch{at.error("Failed to save business settings")}finally{e(!1)}},m=async()=>{e(!0);try{await new Promise(v=>setTimeout(v,1e3)),at.success("System settings saved successfully")}catch{at.error("Failed to save system settings")}finally{e(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Settings"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Configure your company information and system preferences"})]})}),i.jsxs(Da,{defaultValue:"business",className:"space-y-6",children:[i.jsxs(bo,{className:"grid w-full grid-cols-2",children:[i.jsxs(It,{value:"business",className:"flex items-center gap-2",children:[i.jsx(co,{className:"h-4 w-4"}),"Business Information"]}),i.jsxs(It,{value:"system",className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4"}),"System Settings"]})]}),i.jsxs(Pt,{value:"business",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Company Details"}),i.jsx(Me,{children:"Basic information about your business"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"business_name",children:"Business Name *"}),i.jsx(xe,{id:"business_name",value:n.business_name,onChange:v=>u("business_name",v.target.value),placeholder:"Your business name"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"abn",children:"ABN"}),i.jsx(xe,{id:"abn",value:n.abn,onChange:v=>u("abn",v.target.value),placeholder:"12 345 678 901"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"address",children:"Business Address *"}),i.jsx(ts,{id:"address",value:n.address,onChange:v=>u("address",v.target.value),placeholder:"Enter your business address",rows:3})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"logo_url",children:"Business Logo"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(xe,{id:"logo_url",value:n.logo_url,onChange:v=>u("logo_url",v.target.value),placeholder:"Logo URL or upload a file"}),i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Recommended size: 200x200px, PNG or JPG format"})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Contact Information"}),i.jsx(Me,{children:"How customers can reach you"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"phone",children:"Phone Number *"}),i.jsx(xe,{id:"phone",value:n.phone,onChange:v=>u("phone",v.target.value),placeholder:"+61 7 1234 5678"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"email",children:"Email Address *"}),i.jsx(xe,{id:"email",type:"email",value:n.email,onChange:v=>u("email",v.target.value),placeholder:"info@yourcompany.com"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"website",children:"Website"}),i.jsx(xe,{id:"website",type:"url",value:n.website,onChange:v=>u("website",v.target.value),placeholder:"https://www.yourcompany.com"})]})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Terms and Conditions"}),i.jsx(Me,{children:"Default terms that appear on your quotes"})]}),i.jsx(me,{children:i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"terms_and_conditions",children:"Terms and Conditions"}),i.jsx(ts,{id:"terms_and_conditions",value:n.terms_and_conditions,onChange:v=>u("terms_and_conditions",v.target.value),placeholder:"Enter your standard terms and conditions",rows:6}),i.jsx("p",{className:"text-sm text-gray-500",children:"These terms will automatically appear on all quotes. You can customize them for individual quotes if needed."})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",children:"Reset Changes"}),i.jsx(X,{onClick:p,disabled:t,children:t?i.jsxs(i.Fragment,{children:[i.jsx(_a,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Lu,{className:"h-4 w-4 mr-2"}),"Save Business Settings"]})})]})]}),i.jsxs(Pt,{value:"system",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Quote Settings"}),i.jsx(Me,{children:"Configure how quotes are generated"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"quote_number_prefix",children:"Quote Number Prefix"}),i.jsx(xe,{id:"quote_number_prefix",value:o.quote_number_prefix,onChange:v=>d("quote_number_prefix",v.target.value),placeholder:"QTE-"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Example: QTE-000001, ACE-000001"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"next_quote_number",children:"Next Quote Number"}),i.jsx(xe,{id:"next_quote_number",type:"number",value:o.next_quote_number,onChange:v=>d("next_quote_number",parseInt(v.target.value)),min:"1"}),i.jsx("p",{className:"text-sm text-gray-500",children:"The next automatic quote number to be assigned"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"date_format",children:"Date Display Format"}),i.jsxs(mt,{value:o.date_format,onValueChange:v=>d("date_format",v),children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),i.jsx(ce,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),i.jsx(ce,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"}),i.jsx(ce,{value:"DD MMM YYYY",children:"DD MMM YYYY (31 Dec 2024)"})]})]})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Financial Settings"}),i.jsx(Me,{children:"Currency and tax configuration"})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"currency_symbol",children:"Currency"}),i.jsxs(mt,{value:o.currency_symbol,onValueChange:v=>d("currency_symbol",v),children:[i.jsx(ft,{children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"AUD",children:"Australian Dollar (AUD)"}),i.jsx(ce,{value:"USD",children:"US Dollar (USD)"}),i.jsx(ce,{value:"EUR",children:"Euro (EUR)"}),i.jsx(ce,{value:"GBP",children:"British Pound (GBP)"}),i.jsx(ce,{value:"CAD",children:"Canadian Dollar (CAD)"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"tax_name",children:"Tax Name"}),i.jsx(xe,{id:"tax_name",value:o.tax_name,onChange:v=>d("tax_name",v.target.value),placeholder:"GST, VAT, Sales Tax, etc."})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"tax_rate",children:"Tax Rate (%)"}),i.jsx(xe,{id:"tax_rate",type:"number",step:"0.01",min:"0",max:"100",value:o.tax_rate,onChange:v=>d("tax_rate",parseFloat(v.target.value)),placeholder:"10.00"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enter as percentage (e.g., 10 for 10%)"})]})]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Preview"}),i.jsx(Me,{children:"See how your settings will appear"})]}),i.jsx(me,{children:i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Next Quote Number:"}),i.jsxs("span",{children:[o.quote_number_prefix,String(o.next_quote_number).padStart(6,"0")]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Date Format:"}),i.jsx("span",{children:o.date_format==="DD/MM/YYYY"?"31/12/2024":o.date_format==="MM/DD/YYYY"?"12/31/2024":o.date_format==="YYYY-MM-DD"?"2024-12-31":"31 Dec 2024"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Currency:"}),i.jsx("span",{children:o.currency_symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Tax:"}),i.jsxs("span",{children:[o.tax_name," (",o.tax_rate,"%)"]})]})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",children:"Reset to Defaults"}),i.jsx(X,{onClick:m,disabled:t,children:t?i.jsxs(i.Fragment,{children:[i.jsx(_a,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Lu,{className:"h-4 w-4 mr-2"}),"Save System Settings"]})})]})]})]})]})},iU=()=>{const[t]=_.useState([{product_id:"elec-001",sku:"ELEC-WIRE-001",name:"Electrical Wire - 2.5mm",description:"High-quality electrical wire suitable for residential installations",type:"material",category:"Electrical Supplies",base_cost:15.5,unit_of_measure:"meter",default_margin_percentage:25,is_active:!0,created_at:new Date("2024-01-15"),updated_at:new Date("2024-06-01")},{product_id:"elec-002",sku:"ELEC-OUTLET-001",name:"Power Outlet - Double GPO",description:"Standard double power outlet with safety switch",type:"material",category:"Electrical Fittings",base_cost:45,unit_of_measure:"each",default_margin_percentage:30,is_active:!0,created_at:new Date("2024-01-20"),updated_at:new Date("2024-05-20")},{product_id:"labor-001",sku:"LAB-ELECTRICIAN",name:"Licensed Electrician Labor",description:"Hourly rate for qualified electrician work",type:"labour",category:"Labor",base_cost:85,unit_of_measure:"hour",default_margin_percentage:40,is_active:!0,created_at:new Date("2024-02-01"),updated_at:new Date("2024-05-15")},{product_id:"serv-001",sku:"SERV-INSPECTION",name:"Electrical Safety Inspection",description:"Comprehensive electrical safety inspection service",type:"service",category:"Inspection Services",base_cost:150,unit_of_measure:"each",default_margin_percentage:35,is_active:!0,created_at:new Date("2024-02-10"),updated_at:new Date("2024-04-20")}]),[e,n]=_.useState([{category:"Electrical Supplies",margin_percentage:25},{category:"Electrical Fittings",margin_percentage:30},{category:"Labor",margin_percentage:40},{category:"Inspection Services",margin_percentage:35},{category:"Equipment",margin_percentage:20}]),[r,o]=_.useState(""),[l,u]=_.useState("all"),[d,p]=_.useState("all"),[m,v]=_.useState(!1),[w,E]=_.useState(!1),j=t.filter(R=>{var P;const W=R.name.toLowerCase().includes(r.toLowerCase())||R.sku.toLowerCase().includes(r.toLowerCase())||((P=R.description)==null?void 0:P.toLowerCase().includes(r.toLowerCase())),Z=l==="all"||R.category===l,M=d==="all"||R.type===d;return W&&Z&&M&&R.is_active}),T=Array.from(new Set(t.map(R=>R.category))),b=R=>{switch(R){case"material":return i.jsx(Gi,{className:"h-4 w-4"});case"labour":return i.jsx(tp,{className:"h-4 w-4"});case"service":return i.jsx(Cs,{className:"h-4 w-4"});case"equipment":return i.jsx(rv,{className:"h-4 w-4"});default:return i.jsx(Gi,{className:"h-4 w-4"})}},C=R=>{switch(R){case"material":return"bg-blue-100 text-blue-800";case"labour":return"bg-green-100 text-green-800";case"service":return"bg-purple-100 text-purple-800";case"equipment":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},k=(R,W)=>R*(1+W/100),A=(R,W)=>{n(Z=>Z.map(M=>M.category===R?{...M,margin_percentage:W}:M))},D=async()=>{try{at.success("Margin rules updated successfully"),E(!1)}catch{at.error("Failed to update margin rules")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Products & Services"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your company's product catalog and pricing"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(X,{variant:"outline",children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),i.jsxs(Er,{open:m,onOpenChange:v,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Add Product/Service"]})}),i.jsxs(nr,{className:"sm:max-w-[600px]",children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Add New Product/Service"}),i.jsx(ir,{children:"Add a new item to your product catalog"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"product-sku",children:"SKU *"}),i.jsx(xe,{id:"product-sku",placeholder:"e.g., ELEC-WIRE-002"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"product-type",children:"Type *"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Select type"})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"material",children:"Material"}),i.jsx(ce,{value:"labour",children:"Labour"}),i.jsx(ce,{value:"service",children:"Service"}),i.jsx(ce,{value:"equipment",children:"Equipment"})]})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"product-name",children:"Product/Service Name *"}),i.jsx(xe,{id:"product-name",placeholder:"e.g., Electrical Wire - 4.0mm"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"product-description",children:"Description"}),i.jsx(ts,{id:"product-description",placeholder:"Brief description of the product/service",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"product-category",children:"Category"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Select or create category"})}),i.jsx(pt,{children:T.map(R=>i.jsx(ce,{value:R,children:R},R))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"product-unit",children:"Unit of Measure *"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Select unit"})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"each",children:"Each"}),i.jsx(ce,{value:"meter",children:"Meter"}),i.jsx(ce,{value:"hour",children:"Hour"}),i.jsx(ce,{value:"day",children:"Day"}),i.jsx(ce,{value:"kg",children:"Kilogram"}),i.jsx(ce,{value:"litre",children:"Litre"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"product-cost",children:"Base Cost (AUD) *"}),i.jsx(xe,{id:"product-cost",type:"number",step:"0.01",placeholder:"0.00"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"product-margin",children:"Default Margin (%) *"}),i.jsx(xe,{id:"product-margin",type:"number",step:"0.1",placeholder:"25.0"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{id:"product-active",defaultChecked:!0}),i.jsx(ee,{htmlFor:"product-active",children:"Active (available for quotes)"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>v(!1),children:"Add Product/Service"})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Items"}),i.jsx(Gi,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+3 this month"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Materials"}),i.jsx(Gi,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(R=>R.type==="material").length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Product inventory"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Services"}),i.jsx(Cs,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(R=>R.type==="service"||R.type==="labour").length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Service offerings"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Avg Margin"}),i.jsx(Sf,{className:"h-4 w-4 text-orange-600"})]}),i.jsxs(me,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(t.reduce((R,W)=>R+W.default_margin_percentage,0)/t.length),"%"]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Average margin"})]})]})]}),i.jsxs(Da,{defaultValue:"products",className:"space-y-6",children:[i.jsxs(bo,{children:[i.jsxs(It,{value:"products",className:"flex items-center gap-2",children:[i.jsx(Gi,{className:"h-4 w-4"}),"Products & Services"]}),i.jsxs(It,{value:"margins",className:"flex items-center gap-2",children:[i.jsx(Sf,{className:"h-4 w-4"}),"Margin Rules"]})]}),i.jsx(Pt,{value:"products",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Product Catalog"}),i.jsx(Me,{children:"Manage your products, services, and pricing"})]}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{placeholder:"Search products, SKUs, or descriptions...",value:r,onChange:R=>o(R.target.value),className:"pl-10"})]}),i.jsxs(mt,{value:l,onValueChange:u,children:[i.jsx(ft,{className:"w-48",children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"all",children:"All Categories"}),T.map(R=>i.jsx(ce,{value:R,children:R},R))]})]}),i.jsxs(mt,{value:d,onValueChange:p,children:[i.jsx(ft,{className:"w-48",children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"all",children:"All Types"}),i.jsx(ce,{value:"material",children:"Materials"}),i.jsx(ce,{value:"labour",children:"Labour"}),i.jsx(ce,{value:"service",children:"Services"}),i.jsx(ce,{value:"equipment",children:"Equipment"})]})]}),i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(ka,{className:"h-4 w-4 mr-2"}),"Export"]})]}),i.jsxs(fi,{children:[i.jsx(pi,{children:i.jsxs(pn,{children:[i.jsx(Ae,{children:"SKU"}),i.jsx(Ae,{children:"Name"}),i.jsx(Ae,{children:"Type"}),i.jsx(Ae,{children:"Category"}),i.jsx(Ae,{children:"Base Cost"}),i.jsx(Ae,{children:"Margin %"}),i.jsx(Ae,{children:"Selling Price"}),i.jsx(Ae,{children:"Unit"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(mi,{children:j.map(R=>i.jsxs(pn,{children:[i.jsx(ke,{className:"font-mono text-sm",children:R.sku}),i.jsx(ke,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:R.name}),R.description&&i.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:R.description})]})}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[b(R.type),i.jsx(fn,{className:C(R.type),children:R.type})]})}),i.jsx(ke,{children:R.category}),i.jsxs(ke,{children:["$",R.base_cost.toFixed(2)]}),i.jsxs(ke,{children:[R.default_margin_percentage,"%"]}),i.jsxs(ke,{className:"font-medium",children:["$",k(R.base_cost,R.default_margin_percentage).toFixed(2)]}),i.jsx(ke,{children:R.unit_of_measure}),i.jsx(ke,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(AS,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Es,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(Jr,{className:"h-4 w-4"})})]})})]},R.product_id))})]}),j.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Gi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No products found matching your criteria"}),i.jsx(X,{variant:"outline",className:"mt-4",onClick:()=>o(""),children:"Clear Filters"})]})]})})]})}),i.jsx(Pt,{value:"margins",children:i.jsxs(fe,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Margin Rules"}),i.jsx(Me,{children:"Set default margin percentages by category"})]}),i.jsxs(Er,{open:w,onOpenChange:E,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{children:[i.jsx(Es,{className:"h-4 w-4 mr-2"}),"Edit Margins"]})}),i.jsxs(nr,{children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Edit Margin Rules"}),i.jsx(ir,{children:"Adjust default margins for each category"})]}),i.jsx("div",{className:"space-y-4 py-4",children:e.map((R,W)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ee,{className:"font-medium",children:R.category}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xe,{type:"number",step:"0.1",min:"0",max:"100",value:R.margin_percentage,onChange:Z=>A(R.category,parseFloat(Z.target.value)),className:"w-20"}),i.jsx("span",{children:"%"})]})]},R.category))}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),i.jsx(X,{onClick:D,children:"Save Changes"})]})]})]})]})}),i.jsxs(me,{children:[i.jsx("div",{className:"space-y-4",children:e.map(R=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:R.category}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Default margin for ",R.category.toLowerCase()," items"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[R.margin_percentage,"%"]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Margin"})]})]},R.category))}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"How Margin Rules Work"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• New products automatically inherit the margin for their category"}),i.jsx("li",{children:"• You can override individual product margins as needed"}),i.jsx("li",{children:"• Margin rules apply to quote calculations and price estimates"}),i.jsx("li",{children:"• Changes here affect all future quotes but not existing ones"})]})]})]})]})})]})]})},oU=()=>{const[t]=_.useState([{client_id:"client-001",name:"Smith Residence",email:"john.smith@email.com",phone:"+61 7 1234 5678",address:"123 Main Street, Brisbane, QLD 4000",contact_person:"John Smith",crm_id:"GHL-001",notes:"Regular customer, prefers morning appointments",created_at:new Date("2024-01-15"),updated_at:new Date("2024-06-01")},{client_id:"client-002",name:"Johnson Commercial Building",email:"sarah.johnson@johnsonprops.com",phone:"+61 7 2345 6789",address:"456 Business Blvd, Gold Coast, QLD 4217",contact_person:"Sarah Johnson",crm_id:"GHL-002",notes:"Commercial property manager, bulk electrical work",created_at:new Date("2024-02-20"),updated_at:new Date("2024-05-15")},{client_id:"client-003",name:"Wilson Family Home",email:"mike.wilson@email.com",phone:"+61 7 3456 7890",address:"789 Elm Street, Toowoomba, QLD 4350",contact_person:"Mike Wilson",notes:"New construction, solar panel installation required",created_at:new Date("2024-03-10"),updated_at:new Date("2024-04-20")},{client_id:"client-004",name:"Brown Apartments",email:"lisa.brown@brownproperties.com",phone:"+61 7 4567 8901",address:"321 Oak Avenue, Cairns, QLD 4870",contact_person:"Lisa Brown",crm_id:"GHL-003",notes:"Multi-unit property, requires safety inspections",created_at:new Date("2024-04-05"),updated_at:new Date("2024-05-30")}]),[e,n]=_.useState(""),[r,o]=_.useState(!1),[l,u]=_.useState(!0),[d]=_.useState(new Date("2024-06-01T10:30:00")),p=t.filter(j=>{var T,b;return j.name.toLowerCase().includes(e.toLowerCase())||((T=j.email)==null?void 0:T.toLowerCase().includes(e.toLowerCase()))||((b=j.contact_person)==null?void 0:b.toLowerCase().includes(e.toLowerCase()))||j.address.toLowerCase().includes(e.toLowerCase())}),m=j=>({"client-001":3,"client-002":7,"client-003":1,"client-004":4})[j]||0,v=j=>({"client-001":new Date("2024-05-20"),"client-002":new Date("2024-05-28"),"client-003":new Date("2024-05-10"),"client-004":new Date("2024-05-25")})[j],w=async()=>{try{at.loading("Syncing clients from GoHighLevel...",{duration:2e3}),await new Promise(j=>setTimeout(j,2e3)),at.success("Successfully synced 5 clients from GoHighLevel")}catch{at.error("Failed to sync from GoHighLevel")}},E=()=>{at.success("Redirecting to GoHighLevel OAuth..."),u(!0)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Client Management"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your customer database and contact information"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(X,{variant:"outline",children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),i.jsxs(Er,{open:r,onOpenChange:o,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Add New Client"]})}),i.jsxs(nr,{className:"sm:max-w-[600px]",children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Add New Client"}),i.jsx(ir,{children:"Add a new client to your database"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"client-name",children:"Client Name *"}),i.jsx(xe,{id:"client-name",placeholder:"e.g., Smith Residence"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"contact-person",children:"Contact Person"}),i.jsx(xe,{id:"contact-person",placeholder:"e.g., John Smith"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"client-email",children:"Email Address"}),i.jsx(xe,{id:"client-email",type:"email",placeholder:"john.smith@email.com"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"client-phone",children:"Phone Number"}),i.jsx(xe,{id:"client-phone",placeholder:"+61 7 1234 5678"})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"client-address",children:"Address *"}),i.jsx(ts,{id:"client-address",placeholder:"Full address including suburb, state, and postcode",rows:3})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"client-notes",children:"Notes"}),i.jsx(ts,{id:"client-notes",placeholder:"Any additional notes about this client",rows:3})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"crm-id",children:"CRM ID (GoHighLevel)"}),i.jsx(xe,{id:"crm-id",placeholder:"Optional - for linked CRM records"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>o(!1),children:"Add Client"})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Clients"}),i.jsx(Wn,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+2 this month"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Active Quotes"}),i.jsx(sc,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"8"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Currently in progress"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"CRM Synced"}),i.jsx(_a,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(j=>j.crm_id).length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Linked to GoHighLevel"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Avg Projects"}),i.jsx(cL,{className:"h-4 w-4 text-orange-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"3.8"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Per client"})]})]})]}),i.jsxs(fe,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(kS,{className:"h-5 w-5"}),"GoHighLevel Integration"]}),i.jsx(Me,{children:"Sync clients from your CRM system"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fn,{variant:l?"default":"secondary",children:l?"Connected":"Disconnected"}),l?i.jsxs(X,{onClick:w,children:[i.jsx(_a,{className:"h-4 w-4 mr-2"}),"Sync Now"]}):i.jsx(X,{onClick:E,children:"Connect to GoHighLevel"})]})]})}),i.jsxs(me,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(j=>j.crm_id).length}),i.jsx("p",{className:"text-sm text-green-700",children:"Synced Clients"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.toLocaleDateString()}),i.jsx("p",{className:"text-sm text-blue-700",children:"Last Sync"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"Auto"}),i.jsx("p",{className:"text-sm text-purple-700",children:"Sync Mode"})]})]}),l&&i.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Connected to GHL Location:"})," Acme Electrical Services",i.jsx("br",{}),i.jsx("strong",{children:"Last Synced:"})," ",d.toLocaleString(),i.jsx("br",{}),i.jsx("strong",{children:"Note:"})," Client data is pulled from GoHighLevel. Changes here will not sync back automatically."]})})]})]}),i.jsxs(fe,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Client Database"}),i.jsx(Me,{children:"Manage your customer contact information"})]}),i.jsxs(X,{variant:"outline",children:[i.jsx(ka,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{placeholder:"Search clients by name, email, or address...",value:e,onChange:j=>n(j.target.value),className:"pl-10"})]}),i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(rd,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),i.jsxs(fi,{children:[i.jsx(pi,{children:i.jsxs(pn,{children:[i.jsx(Ae,{children:"Client"}),i.jsx(Ae,{children:"Contact"}),i.jsx(Ae,{children:"Address"}),i.jsx(Ae,{children:"Quotes"}),i.jsx(Ae,{children:"Last Quote"}),i.jsx(Ae,{children:"CRM"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(mi,{children:p.map(j=>{const T=m(j.client_id),b=v(j.client_id);return i.jsxs(pn,{children:[i.jsx(ke,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:j.name}),j.contact_person&&i.jsx("div",{className:"text-sm text-gray-500",children:j.contact_person})]})}),i.jsx(ke,{children:i.jsxs("div",{className:"space-y-1",children:[j.email&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(bf,{className:"h-3 w-3 mr-1 text-gray-400"}),j.email]}),j.phone&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(xL,{className:"h-3 w-3 mr-1 text-gray-400"}),j.phone]})]})}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-start text-sm",children:[i.jsx(OS,{className:"h-3 w-3 mr-1 text-gray-400 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"max-w-xs truncate",children:j.address})]})}),i.jsx(ke,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-semibold",children:T}),i.jsx("div",{className:"text-xs text-gray-500",children:"quotes"})]})}),i.jsx(ke,{children:b?i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{children:b.toLocaleDateString()}),i.jsxs("div",{className:"text-gray-500 text-xs",children:[Math.floor((Date.now()-b.getTime())/(1e3*60*60*24))," days ago"]})]}):i.jsx("span",{className:"text-gray-400 text-sm",children:"No quotes"})}),i.jsx(ke,{children:j.crm_id?i.jsx(fn,{variant:"outline",className:"text-xs",children:j.crm_id}):i.jsx("span",{className:"text-gray-400 text-sm",children:"Not synced"})}),i.jsx(ke,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",title:"View Client",children:i.jsx(Wn,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Create Quote",children:i.jsx(sc,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Edit Client",children:i.jsx(Es,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Delete Client",children:i.jsx(Jr,{className:"h-4 w-4"})})]})})]},j.client_id)})})]}),p.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Wn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No clients found matching your search"}),i.jsx(X,{variant:"outline",className:"mt-4",onClick:()=>n(""),children:"Clear Search"})]})]})})]}),i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Recent Client Activity"}),i.jsx(Me,{children:"Latest updates and interactions"})]}),i.jsx(me,{children:i.jsx("div",{className:"space-y-4",children:[{client:"Smith Residence",action:"Quote created",details:"QTE-000125 - Electrical panel upgrade",time:"2 hours ago"},{client:"Johnson Commercial Building",action:"Client updated",details:"Contact information modified",time:"4 hours ago"},{client:"Wilson Family Home",action:"Quote accepted",details:"QTE-000124 - Solar installation project",time:"1 day ago"},{client:"Brown Apartments",action:"New client added",details:"Synced from GoHighLevel",time:"2 days ago"}].map((j,T)=>i.jsxs("div",{className:"flex items-start justify-between py-2 border-b last:border-b-0",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full mt-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:j.action}),i.jsx("p",{className:"text-sm text-gray-600",children:j.client}),i.jsx("p",{className:"text-xs text-gray-500",children:j.details})]})]}),i.jsx("span",{className:"text-xs text-gray-400",children:j.time})]},T))})})]})]})},aU=()=>{const t=cc(),[e]=_.useState([{quote_id:"quote-001",quote_number:"ACE-000125",customer_id:"client-001",customer_name:"Smith Residence",status:"calculated",trade_id:"electrical",template_id:"template-001",raw_data_fields:{project_type:"Electrical Panel Upgrade",location:"123 Main Street, Brisbane",urgency:"standard"},line_items_raw:[],calculated_summary:{subtotal_before_discounts:2850,discount_amount:0,subtotal_after_discounts:2850,rebates_applied:[],total_rebates:0,subtotal_after_rebates:2850,tax_amount:285,final_total_amount:3135,margin_summary:{total_cost:2100,total_margin:750,overall_margin_percentage:35.7}},export_history:[],created_at:new Date("2024-06-01T09:15:00"),updated_at:new Date("2024-06-01T14:30:00"),expires_at:new Date("2024-07-01")},{quote_id:"quote-002",quote_number:"ACE-000124",customer_id:"client-003",customer_name:"Wilson Family Home",status:"exported",trade_id:"solar",template_id:"template-002",raw_data_fields:{project_type:"Solar Panel Installation",location:"789 Elm Street, Toowoomba",system_size:"6.6kW"},line_items_raw:[],calculated_summary:{subtotal_before_discounts:8500,discount_amount:500,subtotal_after_discounts:8e3,rebates_applied:[{rebate_id:"solar-rebate",name:"Solar Rebate",amount:1200}],total_rebates:1200,subtotal_after_rebates:6800,tax_amount:680,final_total_amount:7480,margin_summary:{total_cost:5200,total_margin:1600,overall_margin_percentage:30.8}},export_history:[{export_id:"exp-001",exported_at:new Date("2024-05-30T16:45:00"),external_system:"Make.com",status:"success"}],created_at:new Date("2024-05-28T11:20:00"),updated_at:new Date("2024-05-30T16:45:00"),expires_at:new Date("2024-06-28")},{quote_id:"quote-003",quote_number:"ACE-000123",customer_id:"client-002",customer_name:"Johnson Commercial Building",status:"draft",trade_id:"electrical",template_id:"template-001",raw_data_fields:{project_type:"Commercial Electrical Upgrade",location:"456 Business Blvd, Gold Coast"},line_items_raw:[],export_history:[],created_at:new Date("2024-05-25T13:10:00"),updated_at:new Date("2024-05-25T13:10:00"),expires_at:new Date("2024-06-25")}]),[n]=_.useState([{client_id:"client-001",name:"Smith Residence",address:"123 Main Street, Brisbane",email:"john.smith@email.com",created_at:new Date,updated_at:new Date},{client_id:"client-002",name:"Johnson Commercial Building",address:"456 Business Blvd, Gold Coast",email:"sarah@johnsonprops.com",created_at:new Date,updated_at:new Date},{client_id:"client-003",name:"Wilson Family Home",address:"789 Elm Street, Toowoomba",email:"mike.wilson@email.com",created_at:new Date,updated_at:new Date}]),[r]=_.useState([{trade_id:"electrical",name:"Electrical Services",description:"General electrical work",is_active:!0,created_at:new Date,updated_at:new Date},{trade_id:"solar",name:"Solar Installation",description:"Solar panel systems",is_active:!0,created_at:new Date,updated_at:new Date}]),[o]=_.useState([{template_id:"template-001",name:"Standard Electrical Quote",type:"standard_form",structure:{},is_active:!0,created_at:new Date,updated_at:new Date},{template_id:"template-002",name:"Solar Consultation Flow",type:"conversational_flow",structure:{},is_active:!0,created_at:new Date,updated_at:new Date}]),[l,u]=_.useState(""),[d,p]=_.useState("all"),[m,v]=_.useState("all"),[w,E]=_.useState(!1),j=e.filter(D=>{var M;const R=D.quote_number.toLowerCase().includes(l.toLowerCase())||D.customer_name.toLowerCase().includes(l.toLowerCase())||((M=D.raw_data_fields.project_type)==null?void 0:M.toLowerCase().includes(l.toLowerCase())),W=d==="all"||D.status===d,Z=m==="all"||D.trade_id===m;return R&&W&&Z}),T=D=>{switch(D){case"draft":return i.jsx(Vl,{className:"h-4 w-4 text-yellow-500"});case"calculated":return i.jsx(rv,{className:"h-4 w-4 text-blue-500"});case"exported":return i.jsx(n1,{className:"h-4 w-4 text-green-500"});case"accepted":return i.jsx(uo,{className:"h-4 w-4 text-green-500"});case"rejected":return i.jsx(rc,{className:"h-4 w-4 text-red-500"});default:return i.jsx(Vl,{className:"h-4 w-4 text-gray-500"})}},b=D=>{switch(D){case"draft":return"bg-yellow-100 text-yellow-800";case"calculated":return"bg-blue-100 text-blue-800";case"exported":return"bg-green-100 text-green-800";case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=(D,R,W)=>{at.success("Creating new quote..."),E(!1)},k=D=>{t(`/quotes/${D}`)},A=async D=>{try{at.loading("Exporting quote...",{duration:2e3}),await new Promise(R=>setTimeout(R,2e3)),at.success("Quote exported successfully")}catch{at.error("Failed to export quote")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quote Management"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Create, manage, and track your quotes"})]}),i.jsxs(Er,{open:w,onOpenChange:E,children:[i.jsx(Ns,{asChild:!0,children:i.jsxs(X,{children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),"Create New Quote"]})}),i.jsxs(nr,{className:"sm:max-w-[500px]",children:[i.jsxs(rr,{children:[i.jsx(sr,{children:"Start New Quote"}),i.jsx(ir,{children:"Select client and trade template to begin"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"quote-client",children:"Select Client *"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Choose a client"})}),i.jsx(pt,{children:n.map(D=>i.jsx(ce,{value:D.client_id,children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:D.name}),i.jsx("div",{className:"text-sm text-gray-500",children:D.address})]})},D.client_id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"quote-trade",children:"Select Trade *"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Choose a trade"})}),i.jsx(pt,{children:r.map(D=>i.jsx(ce,{value:D.trade_id,children:D.name},D.trade_id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"quote-template",children:"Select Template *"}),i.jsxs(mt,{children:[i.jsx(ft,{children:i.jsx(gt,{placeholder:"Choose a template"})}),i.jsx(pt,{children:o.map(D=>i.jsx(ce,{value:D.template_id,children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:D.name}),i.jsx("div",{className:"text-sm text-gray-500",children:D.type==="conversational_flow"?"Interactive Flow":"Standard Form"})]})},D.template_id))})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>C(),children:"Start Quote"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Quotes"}),i.jsx(sc,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.length}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+2 this week"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Active Quotes"}),i.jsx(Vl,{className:"h-4 w-4 text-yellow-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.filter(D=>D.status==="draft"||D.status==="calculated").length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"In progress"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Value"}),i.jsx(Sf,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:["$",e.reduce((D,R)=>{var W;return D+(((W=R.calculated_summary)==null?void 0:W.final_total_amount)||0)},0).toLocaleString()]}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"All quotes"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Avg Margin"}),i.jsx(rv,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(me,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(e.filter(D=>D.calculated_summary).reduce((D,R)=>{var W;return D+(((W=R.calculated_summary)==null?void 0:W.margin_summary.overall_margin_percentage)||0)},0)/e.filter(D=>D.calculated_summary).length),"%"]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Average margin"})]})]})]}),i.jsxs(Da,{defaultValue:"all",className:"space-y-6",children:[i.jsxs(bo,{children:[i.jsx(It,{value:"all",children:"All Quotes"}),i.jsx(It,{value:"draft",children:"Drafts"}),i.jsx(It,{value:"calculated",children:"Ready to Send"}),i.jsx(It,{value:"exported",children:"Sent"}),i.jsx(It,{value:"accepted",children:"Accepted"})]}),i.jsx(Pt,{value:"all",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"All Quotes"}),i.jsx(Me,{children:"Manage all your quotes in one place"})]}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(xe,{placeholder:"Search quotes by number, client, or project...",value:l,onChange:D=>u(D.target.value),className:"pl-10"})]}),i.jsxs(mt,{value:d,onValueChange:p,children:[i.jsx(ft,{className:"w-48",children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"all",children:"All Status"}),i.jsx(ce,{value:"draft",children:"Draft"}),i.jsx(ce,{value:"calculated",children:"Calculated"}),i.jsx(ce,{value:"exported",children:"Exported"}),i.jsx(ce,{value:"accepted",children:"Accepted"}),i.jsx(ce,{value:"rejected",children:"Rejected"})]})]}),i.jsxs(mt,{value:m,onValueChange:v,children:[i.jsx(ft,{className:"w-48",children:i.jsx(gt,{})}),i.jsxs(pt,{children:[i.jsx(ce,{value:"all",children:"All Trades"}),r.map(D=>i.jsx(ce,{value:D.trade_id,children:D.name},D.trade_id))]})]}),i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(rd,{className:"h-4 w-4 mr-2"}),"More Filters"]})]}),i.jsxs(fi,{children:[i.jsx(pi,{children:i.jsxs(pn,{children:[i.jsx(Ae,{children:"Quote #"}),i.jsx(Ae,{children:"Client"}),i.jsx(Ae,{children:"Project"}),i.jsx(Ae,{children:"Trade"}),i.jsx(Ae,{children:"Status"}),i.jsx(Ae,{children:"Value"}),i.jsx(Ae,{children:"Created"}),i.jsx(Ae,{children:"Expires"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(mi,{children:j.map(D=>{var R;return i.jsxs(pn,{children:[i.jsx(ke,{className:"font-mono text-sm font-medium",children:D.quote_number}),i.jsx(ke,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:D.customer_name}),i.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[i.jsx(OS,{className:"h-3 w-3 mr-1"}),D.raw_data_fields.location||"No location"]})]})}),i.jsx(ke,{children:i.jsx("div",{className:"font-medium",children:D.raw_data_fields.project_type||"Untitled Project"})}),i.jsx(ke,{children:i.jsx(fn,{variant:"outline",children:((R=r.find(W=>W.trade_id===D.trade_id))==null?void 0:R.name)||D.trade_id})}),i.jsx(ke,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[T(D.status),i.jsx(fn,{className:b(D.status),children:D.status})]})}),i.jsx(ke,{children:D.calculated_summary?i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:["$",D.calculated_summary.final_total_amount.toLocaleString()]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[D.calculated_summary.margin_summary.overall_margin_percentage.toFixed(1),"% margin"]})]}):i.jsx("span",{className:"text-gray-400",children:"Not calculated"})}),i.jsx(ke,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{children:D.created_at.toLocaleDateString()}),i.jsx("div",{className:"text-gray-500",children:D.created_at.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),i.jsx(ke,{children:D.expires_at&&i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{children:D.expires_at.toLocaleDateString()}),i.jsxs("div",{className:"text-gray-500",children:[Math.ceil((D.expires_at.getTime()-Date.now())/(1e3*60*60*24))," days"]})]})}),i.jsx(ke,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>k(D.quote_id),title:"View Quote",children:i.jsx(wa,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Edit Quote",children:i.jsx(Es,{className:"h-4 w-4"})}),D.status==="calculated"&&i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(D.quote_id),title:"Export Quote",children:i.jsx(n1,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Download PDF",children:i.jsx(ka,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",title:"Delete Quote",children:i.jsx(Jr,{className:"h-4 w-4"})})]})})]},D.quote_id)})})]}),j.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(sc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No quotes found matching your criteria"}),i.jsx(X,{variant:"outline",className:"mt-4",onClick:()=>u(""),children:"Clear Filters"})]})]})})]})}),i.jsx(Pt,{value:"draft",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Draft Quotes"}),i.jsx(Me,{children:"Quotes that are still being worked on"})]}),i.jsx(me,{children:i.jsx("p",{className:"text-gray-500",children:"Draft quotes will be shown here..."})})]})}),i.jsx(Pt,{value:"calculated",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Calculated Quotes"}),i.jsx(Me,{children:"Quotes ready to be sent to clients"})]}),i.jsx(me,{children:i.jsx("p",{className:"text-gray-500",children:"Calculated quotes will be shown here..."})})]})}),i.jsx(Pt,{value:"exported",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Sent Quotes"}),i.jsx(Me,{children:"Quotes that have been sent to clients"})]}),i.jsx(me,{children:i.jsx("p",{className:"text-gray-500",children:"Exported quotes will be shown here..."})})]})}),i.jsx(Pt,{value:"accepted",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Accepted Quotes"}),i.jsx(Me,{children:"Quotes that have been accepted by clients"})]}),i.jsx(me,{children:i.jsx("p",{className:"text-gray-500",children:"Accepted quotes will be shown here..."})})]})})]})]})},lU=()=>{const[t,e]=_.useState([{id:"gohighlevel",name:"GoHighLevel",description:"Sync clients and leads from your CRM system",icon:i.jsx(kS,{className:"h-6 w-6"}),status:"connected",lastSync:new Date("2024-06-01T10:30:00"),features:["Client Sync","Lead Import","Contact Management"],configurable:!0},{id:"make",name:"Make.com",description:"Automate quote delivery and document generation",icon:i.jsx(Nf,{className:"h-6 w-6"}),status:"connected",lastSync:new Date("2024-06-01T09:15:00"),features:["Quote Export","PDF Generation","Email Automation"],configurable:!0},{id:"google-sheets",name:"Google Sheets",description:"Advanced rebate calculations and data export",icon:i.jsx(mL,{className:"h-6 w-6"}),status:"error",lastSync:new Date("2024-05-30T14:20:00"),features:["Rebate Rules","Data Export","Advanced Calculations"],configurable:!0},{id:"email",name:"Email Service",description:"Send quotes and notifications via email",icon:i.jsx(bf,{className:"h-6 w-6"}),status:"connected",features:["Quote Delivery","Notifications","Customer Communication"],configurable:!1}]),[n,r]=_.useState(null),[o,l]=_.useState(!1),u=j=>{switch(j){case"connected":return i.jsx(uo,{className:"h-4 w-4 text-green-500"});case"error":return i.jsx(sv,{className:"h-4 w-4 text-yellow-500"});case"disconnected":return i.jsx(rc,{className:"h-4 w-4 text-red-500"})}},d=j=>{switch(j){case"connected":return"bg-green-100 text-green-800";case"error":return"bg-yellow-100 text-yellow-800";case"disconnected":return"bg-red-100 text-red-800"}},p=j=>{e(T=>T.map(b=>b.id===j?{...b,status:"connected",lastSync:new Date}:b)),at.success("Integration connected successfully")},m=j=>{e(T=>T.map(b=>b.id===j?{...b,status:"disconnected"}:b)),at.success("Integration disconnected")},v=async j=>{try{at.loading("Testing connection...",{duration:2e3}),await new Promise(T=>setTimeout(T,2e3)),at.success("Connection test successful")}catch{at.error("Connection test failed")}},w=async j=>{try{at.loading("Syncing data...",{duration:3e3}),await new Promise(T=>setTimeout(T,3e3)),e(T=>T.map(b=>b.id===j?{...b,lastSync:new Date}:b)),at.success("Data synced successfully")}catch{at.error("Sync failed")}},E=({integration:j})=>{const[T,b]=_.useState({apiKey:"",webhookUrl:"",enabled:!0,autoSync:!1,syncInterval:"15"});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:j.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:j.name}),i.jsx("p",{className:"text-sm text-gray-600",children:j.description})]})]}),j.id==="gohighlevel"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"ghl-api-key",children:"API Key"}),i.jsx(xe,{id:"ghl-api-key",type:"password",value:T.apiKey,onChange:C=>b(k=>({...k,apiKey:C.target.value})),placeholder:"Enter your GoHighLevel API key"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"ghl-location",children:"Location ID"}),i.jsx(xe,{id:"ghl-location",placeholder:"Your GoHighLevel location ID"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"auto-sync",children:"Automatic Sync"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Automatically sync clients every hour"})]}),i.jsx(Ct,{id:"auto-sync",checked:T.autoSync,onCheckedChange:C=>b(k=>({...k,autoSync:C}))})]})]}),j.id==="make"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"make-webhook",children:"Webhook URL"}),i.jsx(xe,{id:"make-webhook",value:T.webhookUrl,onChange:C=>b(k=>({...k,webhookUrl:C.target.value})),placeholder:"https://hook.make.com/..."})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"make-template",children:"Quote Template"}),i.jsx(ts,{id:"make-template",placeholder:"Configure your quote template structure...",rows:4})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"retry-failed",children:"Retry Failed Exports"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Automatically retry failed webhook calls"})]}),i.jsx(Ct,{id:"retry-failed",defaultChecked:!0})]})]}),j.id==="google-sheets"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"sheets-id",children:"Google Sheets ID"}),i.jsx(xe,{id:"sheets-id",placeholder:"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"service-account",children:"Service Account Key"}),i.jsx(ts,{id:"service-account",placeholder:"Paste your service account JSON key here...",rows:6})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"sheet-range",children:"Data Range"}),i.jsx(xe,{id:"sheet-range",defaultValue:"Sheet1!A1:D100",placeholder:"Sheet1!A1:D100"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[i.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),i.jsx(X,{onClick:()=>l(!1),children:"Save Configuration"})]})]})};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Integrations"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Connect external services to automate your workflow"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Active Integrations"}),i.jsx(Nf,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(j=>j.status==="connected").length}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["of ",t.length," available"]})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Last Sync"}),i.jsx(_a,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"2h ago"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"GoHighLevel clients"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Auto Exports"}),i.jsx(TS,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"15"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This month"})]})]}),i.jsxs(fe,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx(uo,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"98.5%"}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Last 30 days"})]})]})]}),i.jsxs(Da,{defaultValue:"all",className:"space-y-6",children:[i.jsxs(bo,{children:[i.jsx(It,{value:"all",children:"All Integrations"}),i.jsx(It,{value:"connected",children:"Connected"}),i.jsx(It,{value:"available",children:"Available"}),i.jsx(It,{value:"webhooks",children:"Webhooks"})]}),i.jsx(Pt,{value:"all",children:i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(j=>i.jsxs(fe,{className:"hover:shadow-md transition-shadow",children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:j.icon}),i.jsxs("div",{children:[i.jsx(ge,{className:"text-lg",children:j.name}),i.jsx(Me,{children:j.description})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[u(j.status),i.jsx(fn,{className:d(j.status),children:j.status})]})]})}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Features"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:j.features.map((T,b)=>i.jsx(fn,{variant:"secondary",className:"text-xs",children:T},b))})]}),j.lastSync&&i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"Last sync:"})," ",j.lastSync.toLocaleString()]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsx("div",{className:"flex space-x-2",children:j.status==="connected"?i.jsxs(i.Fragment,{children:[i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>v(j.id),children:[i.jsx(EL,{className:"h-4 w-4 mr-2"}),"Test"]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>w(j.id),children:[i.jsx(_a,{className:"h-4 w-4 mr-2"}),"Sync"]})]}):i.jsx(X,{size:"sm",onClick:()=>p(j.id),children:"Connect"})}),i.jsxs("div",{className:"flex space-x-2",children:[j.configurable&&i.jsxs(Er,{open:o,onOpenChange:l,children:[i.jsx(Ns,{asChild:!0,children:i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r(j),children:i.jsx(Cs,{className:"h-4 w-4"})})}),i.jsxs(nr,{className:"sm:max-w-[600px]",children:[i.jsxs(rr,{children:[i.jsxs(sr,{children:["Configure ",n==null?void 0:n.name]}),i.jsx(ir,{children:"Manage settings and authentication for this integration"})]}),n&&i.jsx(E,{integration:n})]})]}),j.status==="connected"&&i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>m(j.id),children:"Disconnect"})]})]})]})]},j.id))})}),i.jsx(Pt,{value:"connected",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Connected Integrations"}),i.jsx(Me,{children:"Currently active integrations"})]}),i.jsx(me,{children:i.jsx("div",{className:"space-y-4",children:t.filter(j=>j.status==="connected").map(j=>{var T;return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:j.icon}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:j.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Last sync: ",((T=j.lastSync)==null?void 0:T.toLocaleString())||"Never"]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(X,{variant:"outline",size:"sm",onClick:()=>w(j.id),children:"Sync Now"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{r(j),l(!0)},children:i.jsx(Cs,{className:"h-4 w-4"})})]})]},j.id)})})})]})}),i.jsx(Pt,{value:"available",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Available Integrations"}),i.jsx(Me,{children:"Integrations you can connect to"})]}),i.jsx(me,{children:i.jsx("div",{className:"space-y-4",children:t.filter(j=>j.status!=="connected").map(j=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:j.icon}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:j.name}),i.jsx("p",{className:"text-sm text-gray-600",children:j.description})]})]}),i.jsx(X,{onClick:()=>p(j.id),children:"Connect"})]},j.id))})})]})}),i.jsx(Pt,{value:"webhooks",children:i.jsxs(fe,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Webhook Configuration"}),i.jsx(Me,{children:"Manage outgoing webhook endpoints"})]}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"quote-webhook",children:"Quote Export Webhook"}),i.jsx(xe,{id:"quote-webhook",defaultValue:"https://hook.make.com/abc123def456",placeholder:"Enter webhook URL"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Triggered when quotes are exported or status changes"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"client-webhook",children:"Client Sync Webhook"}),i.jsx(xe,{id:"client-webhook",placeholder:"Enter webhook URL"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Triggered when client data is updated"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ee,{htmlFor:"webhook-secret",children:"Webhook Secret"}),i.jsx(xe,{id:"webhook-secret",type:"password",placeholder:"Optional secret key for verification"})]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Webhook Events"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("code",{children:"quote.calculated"})," - Quote calculation completed"]}),i.jsxs("li",{children:["• ",i.jsx("code",{children:"quote.exported"})," - Quote sent to external system"]}),i.jsxs("li",{children:["• ",i.jsx("code",{children:"quote.accepted"})," - Quote accepted by client"]}),i.jsxs("li",{children:["• ",i.jsx("code",{children:"client.created"})," - New client added"]}),i.jsxs("li",{children:["• ",i.jsx("code",{children:"client.updated"})," - Client information modified"]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(X,{variant:"outline",children:"Test Webhook"}),i.jsx(X,{children:"Save Configuration"})]})]})})]})})]})]})},cU=new AI({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});function uU(){return i.jsx(RI,{client:cU,children:i.jsx(yM,{children:i.jsx(iI,{children:i.jsxs("div",{className:"h-full",children:[i.jsxs(J2,{children:[i.jsx(ln,{path:"/login",element:i.jsx(RL,{})}),i.jsxs(ln,{path:"/admin/*",element:i.jsx(K_,{requiredRole:"global_app_admin",children:i.jsx(CL,{})}),children:[i.jsx(ln,{index:!0,element:i.jsx(DL,{})}),i.jsx(ln,{path:"trades",element:i.jsx(z9,{})}),i.jsx(ln,{path:"companies",element:i.jsx(B9,{})}),i.jsx(ln,{path:"users",element:i.jsx(Q9,{})}),i.jsx(ln,{path:"settings",element:i.jsx(nU,{})})]}),i.jsxs(ln,{path:"/*",element:i.jsx(K_,{requiredRole:"trade_company_user",children:i.jsx(NL,{})}),children:[i.jsx(ln,{path:"dashboard",element:i.jsx(rU,{})}),i.jsx(ln,{path:"business-settings",element:i.jsx(sU,{})}),i.jsx(ln,{path:"products-services",element:i.jsx(iU,{})}),i.jsx(ln,{path:"clients",element:i.jsx(oU,{})}),i.jsx(ln,{path:"quotes",element:i.jsx(aU,{})}),i.jsx(ln,{path:"integrations",element:i.jsx(lU,{})}),i.jsx(ln,{index:!0,element:i.jsx(ef,{to:"/dashboard",replace:!0})})]}),i.jsx(ln,{path:"/",element:i.jsx(ef,{to:"/login",replace:!0})})]}),i.jsx(jP,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10b981"}},error:{style:{background:"#ef4444"}}}})]})})})})}n2.createRoot(document.getElementById("root")).render(i.jsx(_.StrictMode,{children:i.jsx(s2,{children:i.jsx(uU,{})})}));
